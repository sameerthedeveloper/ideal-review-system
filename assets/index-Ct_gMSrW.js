(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function wT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $f={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function CT(){if(a_)return Zl;a_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Zl.Fragment=e,Zl.jsx=i,Zl.jsxs=i,Zl}var s_;function DT(){return s_||(s_=1,$f.exports=CT()),$f.exports}var z=DT(),Zf={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function xT(){if(l_)return wt;l_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,O={};function k(V,nt,ot){this.props=V,this.context=nt,this.refs=O,this.updater=ot||x}k.prototype.isReactComponent={},k.prototype.setState=function(V,nt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,nt,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function X(){}X.prototype=k.prototype;function Q(V,nt,ot){this.props=V,this.context=nt,this.refs=O,this.updater=ot||x}var it=Q.prototype=new X;it.constructor=Q,L(it,k.prototype),it.isPureReactComponent=!0;var pt=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function N(V,nt,ot,st,dt,It){return ot=It.ref,{$$typeof:r,type:V,key:nt,ref:ot!==void 0?ot:null,props:It}}function R(V,nt){return N(V.type,nt,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var nt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ot){return nt[ot]})}var I=/\/+/g;function B(V,nt){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):nt.toString(36)}function D(){}function Zt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(nt){V.status==="pending"&&(V.status="fulfilled",V.value=nt)},function(nt){V.status==="pending"&&(V.status="rejected",V.reason=nt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Gt(V,nt,ot,st,dt){var It=typeof V;(It==="undefined"||It==="boolean")&&(V=null);var Et=!1;if(V===null)Et=!0;else switch(It){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(V.$$typeof){case r:case e:Et=!0;break;case _:return Et=V._init,Gt(Et(V._payload),nt,ot,st,dt)}}if(Et)return dt=dt(V),Et=st===""?"."+B(V,0):st,pt(dt)?(ot="",Et!=null&&(ot=Et.replace(I,"$&/")+"/"),Gt(dt,nt,ot,"",function(In){return In})):dt!=null&&(w(dt)&&(dt=R(dt,ot+(dt.key==null||V&&V.key===dt.key?"":(""+dt.key).replace(I,"$&/")+"/")+Et)),nt.push(dt)),1;Et=0;var Oe=st===""?".":st+":";if(pt(V))for(var Qt=0;Qt<V.length;Qt++)st=V[Qt],It=Oe+B(st,Qt),Et+=Gt(st,nt,ot,It,dt);else if(Qt=A(V),typeof Qt=="function")for(V=Qt.call(V),Qt=0;!(st=V.next()).done;)st=st.value,It=Oe+B(st,Qt++),Et+=Gt(st,nt,ot,It,dt);else if(It==="object"){if(typeof V.then=="function")return Gt(Zt(V),nt,ot,st,dt);throw nt=String(V),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Et}function $(V,nt,ot){if(V==null)return V;var st=[],dt=0;return Gt(V,st,"","",function(It){return nt.call(ot,It,dt++)}),st}function lt(V){if(V._status===-1){var nt=V._result;nt=nt(),nt.then(function(ot){(V._status===0||V._status===-1)&&(V._status=1,V._result=ot)},function(ot){(V._status===0||V._status===-1)&&(V._status=2,V._result=ot)}),V._status===-1&&(V._status=0,V._result=nt)}if(V._status===1)return V._result.default;throw V._result}var gt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ut(){}return wt.Children={map:$,forEach:function(V,nt,ot){$(V,function(){nt.apply(this,arguments)},ot)},count:function(V){var nt=0;return $(V,function(){nt++}),nt},toArray:function(V){return $(V,function(nt){return nt})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},wt.Component=k,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=Q,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,wt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return at.H.useMemoCache(V)}},wt.cache=function(V){return function(){return V.apply(null,arguments)}},wt.cloneElement=function(V,nt,ot){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=L({},V.props),dt=V.key,It=void 0;if(nt!=null)for(Et in nt.ref!==void 0&&(It=void 0),nt.key!==void 0&&(dt=""+nt.key),nt)!bt.call(nt,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&nt.ref===void 0||(st[Et]=nt[Et]);var Et=arguments.length-2;if(Et===1)st.children=ot;else if(1<Et){for(var Oe=Array(Et),Qt=0;Qt<Et;Qt++)Oe[Qt]=arguments[Qt+2];st.children=Oe}return N(V.type,dt,void 0,void 0,It,st)},wt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},wt.createElement=function(V,nt,ot){var st,dt={},It=null;if(nt!=null)for(st in nt.key!==void 0&&(It=""+nt.key),nt)bt.call(nt,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(dt[st]=nt[st]);var Et=arguments.length-2;if(Et===1)dt.children=ot;else if(1<Et){for(var Oe=Array(Et),Qt=0;Qt<Et;Qt++)Oe[Qt]=arguments[Qt+2];dt.children=Oe}if(V&&V.defaultProps)for(st in Et=V.defaultProps,Et)dt[st]===void 0&&(dt[st]=Et[st]);return N(V,It,void 0,void 0,null,dt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(V){return{$$typeof:g,render:V}},wt.isValidElement=w,wt.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:lt}},wt.memo=function(V,nt){return{$$typeof:m,type:V,compare:nt===void 0?null:nt}},wt.startTransition=function(V){var nt=at.T,ot={};at.T=ot;try{var st=V(),dt=at.S;dt!==null&&dt(ot,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ut,gt)}catch(It){gt(It)}finally{at.T=nt}},wt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},wt.use=function(V){return at.H.use(V)},wt.useActionState=function(V,nt,ot){return at.H.useActionState(V,nt,ot)},wt.useCallback=function(V,nt){return at.H.useCallback(V,nt)},wt.useContext=function(V){return at.H.useContext(V)},wt.useDebugValue=function(){},wt.useDeferredValue=function(V,nt){return at.H.useDeferredValue(V,nt)},wt.useEffect=function(V,nt,ot){var st=at.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(V,nt)},wt.useId=function(){return at.H.useId()},wt.useImperativeHandle=function(V,nt,ot){return at.H.useImperativeHandle(V,nt,ot)},wt.useInsertionEffect=function(V,nt){return at.H.useInsertionEffect(V,nt)},wt.useLayoutEffect=function(V,nt){return at.H.useLayoutEffect(V,nt)},wt.useMemo=function(V,nt){return at.H.useMemo(V,nt)},wt.useOptimistic=function(V,nt){return at.H.useOptimistic(V,nt)},wt.useReducer=function(V,nt,ot){return at.H.useReducer(V,nt,ot)},wt.useRef=function(V){return at.H.useRef(V)},wt.useState=function(V){return at.H.useState(V)},wt.useSyncExternalStore=function(V,nt,ot){return at.H.useSyncExternalStore(V,nt,ot)},wt.useTransition=function(){return at.H.useTransition()},wt.version="19.1.1",wt}var o_;function Eo(){return o_||(o_=1,Zf.exports=xT()),Zf.exports}var Y=Eo(),Jf={exports:{}},Jl={},Wf={exports:{}},td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function NT(){return u_||(u_=1,(function(r){function e($,lt){var gt=$.length;$.push(lt);t:for(;0<gt;){var Ut=gt-1>>>1,V=$[Ut];if(0<o(V,lt))$[Ut]=lt,$[gt]=V,gt=Ut;else break t}}function i($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var lt=$[0],gt=$.pop();if(gt!==lt){$[0]=gt;t:for(var Ut=0,V=$.length,nt=V>>>1;Ut<nt;){var ot=2*(Ut+1)-1,st=$[ot],dt=ot+1,It=$[dt];if(0>o(st,gt))dt<V&&0>o(It,st)?($[Ut]=It,$[dt]=gt,Ut=dt):($[Ut]=st,$[ot]=gt,Ut=ot);else if(dt<V&&0>o(It,gt))$[Ut]=It,$[dt]=gt,Ut=dt;else break t}}return lt}function o($,lt){var gt=$.sortIndex-lt.sortIndex;return gt!==0?gt:$.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],m=[],_=1,T=null,A=3,x=!1,L=!1,O=!1,k=!1,X=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function pt($){for(var lt=i(m);lt!==null;){if(lt.callback===null)s(m);else if(lt.startTime<=$)s(m),lt.sortIndex=lt.expirationTime,e(p,lt);else break;lt=i(m)}}function at($){if(O=!1,pt($),!L)if(i(p)!==null)L=!0,bt||(bt=!0,B());else{var lt=i(m);lt!==null&&Gt(at,lt.startTime-$)}}var bt=!1,N=-1,R=5,w=-1;function P(){return k?!0:!(r.unstable_now()-w<R)}function I(){if(k=!1,bt){var $=r.unstable_now();w=$;var lt=!0;try{t:{L=!1,O&&(O=!1,Q(N),N=-1),x=!0;var gt=A;try{e:{for(pt($),T=i(p);T!==null&&!(T.expirationTime>$&&P());){var Ut=T.callback;if(typeof Ut=="function"){T.callback=null,A=T.priorityLevel;var V=Ut(T.expirationTime<=$);if($=r.unstable_now(),typeof V=="function"){T.callback=V,pt($),lt=!0;break e}T===i(p)&&s(p),pt($)}else s(p);T=i(p)}if(T!==null)lt=!0;else{var nt=i(m);nt!==null&&Gt(at,nt.startTime-$),lt=!1}}break t}finally{T=null,A=gt,x=!1}lt=void 0}}finally{lt?B():bt=!1}}}var B;if(typeof it=="function")B=function(){it(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Zt=D.port2;D.port1.onmessage=I,B=function(){Zt.postMessage(null)}}else B=function(){X(I,0)};function Gt($,lt){N=X(function(){$(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function($){switch(A){case 1:case 2:case 3:var lt=3;break;default:lt=A}var gt=A;A=lt;try{return $()}finally{A=gt}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function($,lt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var gt=A;A=$;try{return lt()}finally{A=gt}},r.unstable_scheduleCallback=function($,lt,gt){var Ut=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Ut+gt:Ut):gt=Ut,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=gt+V,$={id:_++,callback:lt,priorityLevel:$,startTime:gt,expirationTime:V,sortIndex:-1},gt>Ut?($.sortIndex=gt,e(m,$),i(p)===null&&$===i(m)&&(O?(Q(N),N=-1):O=!0,Gt(at,gt-Ut))):($.sortIndex=V,e(p,$),L||x||(L=!0,bt||(bt=!0,B()))),$},r.unstable_shouldYield=P,r.unstable_wrapCallback=function($){var lt=A;return function(){var gt=A;A=lt;try{return $.apply(this,arguments)}finally{A=gt}}}})(td)),td}var c_;function IT(){return c_||(c_=1,Wf.exports=NT()),Wf.exports}var ed={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function VT(){if(h_)return Qe;h_=1;var r=Eo();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,m,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:m,implementation:_}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,_)},Qe.flushSync=function(p){var m=f.T,_=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=m,s.p=_,s.d.f()}},Qe.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},Qe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qe.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,T=g(_,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:x}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Qe.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=g(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},Qe.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,T=g(_,m.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Qe.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=g(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},Qe.requestFormReset=function(p){s.d.r(p)},Qe.unstable_batchedUpdates=function(p,m){return p(m)},Qe.useFormState=function(p,m,_){return f.H.useFormState(p,m,_)},Qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var f_;function MT(){if(f_)return ed.exports;f_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ed.exports=VT(),ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function OT(){if(d_)return Jl;d_=1;var r=IT(),e=Eo(),i=MT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,b=h.child;b;){if(b===a){E=!0,a=h,l=d;break}if(b===l){E=!0,l=h,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=h;break}if(b===l){E=!0,l=d,a=h;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function m(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=m(t),n!==null)return n;t=t.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),it=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Zt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case k:return"Profiler";case O:return"StrictMode";case at:return"Suspense";case bt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case it:return(t.displayName||"Context")+".Provider";case Q:return(t._context.displayName||"Context")+".Consumer";case pt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Zt(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return Zt(t(n))}catch{}}return null}var Gt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Ut=[],V=-1;function nt(t){return{current:t}}function ot(t){0>V||(t.current=Ut[V],Ut[V]=null,V--)}function st(t,n){V++,Ut[V]=t.current,t.current=n}var dt=nt(null),It=nt(null),Et=nt(null),Oe=nt(null);function Qt(t,n){switch(st(Et,n),st(It,t),st(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?My(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=My(n),t=Oy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ot(dt),st(dt,t)}function In(){ot(dt),ot(It),ot(Et)}function Qs(t){t.memoizedState!==null&&st(Oe,t);var n=dt.current,a=Oy(n,t.type);n!==a&&(st(It,t),st(dt,a))}function Oa(t){It.current===t&&(ot(dt),ot(It)),Oe.current===t&&(ot(Oe),Fl._currentValue=gt)}var La=Object.prototype.hasOwnProperty,zr=r.unstable_scheduleCallback,Pa=r.unstable_cancelCallback,$c=r.unstable_shouldYield,Fs=r.unstable_requestPaint,en=r.unstable_now,No=r.unstable_getCurrentPriorityLevel,Ae=r.unstable_ImmediatePriority,De=r.unstable_UserBlockingPriority,mi=r.unstable_NormalPriority,Zc=r.unstable_LowPriority,Ys=r.unstable_IdlePriority,Jc=r.log,kr=r.unstable_setDisableYieldValue,ji=null,qe=null;function yn(t){if(typeof Jc=="function"&&kr(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(ji,t)}catch{}}var Xe=Math.clz32?Math.clz32:Vo,Wc=Math.log,Io=Math.LN2;function Vo(t){return t>>>=0,t===0?32:31-(Wc(t)/Io|0)|0}var Fn=256,qi=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _n(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Vn(l):(E&=b,E!==0?h=Vn(E):a||(a=b&~t,a!==0&&(h=Vn(a))))):(b=l&~d,b!==0?h=Vn(b):E!==0?h=Vn(E):a||(a=l&~t,a!==0&&(h=Vn(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Hi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ua(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ks(){var t=Fn;return Fn<<=1,(Fn&4194048)===0&&(Fn=256),t}function Gi(){var t=qi;return qi<<=1,(qi&62914560)===0&&(qi=4194304),t}function Ba(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ce(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mo(t,n,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,H=t.hiddenUpdates;for(a=E&~a;0<a;){var Z=31-Xe(a),tt=1<<Z;b[Z]=0,C[Z]=-1;var G=H[Z];if(G!==null)for(H[Z]=null,Z=0;Z<G.length;Z++){var F=G[Z];F!==null&&(F.lane&=-536870913)}a&=~tt}l!==0&&Qi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~n))}function Qi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Fi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Xe(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Xs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $s(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gi(){var t=lt.p;return t!==0?t:(t=window.event,t===void 0?32:Wy(t.type))}function th(t,n){var a=lt.p;try{return lt.p=t,n()}finally{lt.p=a}}var Yn=Math.random().toString(36).slice(2),he="__reactFiber$"+Yn,Le="__reactProps$"+Yn,pi="__reactContainer$"+Yn,jr="__reactEvents$"+Yn,qr="__reactListeners$"+Yn,eh="__reactHandles$"+Yn,Mn="__reactResources$"+Yn,Yi="__reactMarker$"+Yn;function za(t){delete t[he],delete t[Le],delete t[jr],delete t[qr],delete t[eh]}function Kn(t){var n=t[he];if(n)return n;for(var a=t.parentNode;a;){if(n=a[pi]||a[he]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=By(t);t!==null;){if(a=t[he])return a;t=By(t)}return n}t=a,a=t.parentNode}return null}function Xn(t){if(t=t[he]||t[pi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ki(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Xi(t){var n=t[Mn];return n||(n=t[Mn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(t){t[Yi]=!0}var Oo=new Set,Hr={};function $n(t,n){Zn(t,n),Zn(t+"Capture",n)}function Zn(t,n){for(Hr[t]=n,t=0;t<n.length;t++)Oo.add(n[t])}var Gr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jn={},ka={};function nh(t){return La.call(ka,t)?!0:La.call(Jn,t)?!1:Gr.test(t)?ka[t]=!0:(Jn[t]=!0,!1)}function Qr(t,n,a){if(nh(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Fr(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function vn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Yr,ja;function yi(t){if(Yr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",ja=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+t+ja}var qa=!1;function Ha(t,n){if(!t||qa)return"";qa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(F){var G=F}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(F){G=F}t.call(tt.prototype)}}else{try{throw Error()}catch(F){G=F}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(F){if(F&&G&&typeof F.stack=="string")return[F.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var C=E.split(`
`),H=b.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===H.length)for(l=C.length-1,h=H.length-1;1<=l&&0<=h&&C[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==H[h]){var Z=`
`+C[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{qa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?yi(a):""}function ih(t){switch(t.tag){case 26:case 27:case 5:return yi(t.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Ha(t.type,!1);case 11:return Ha(t.type.render,!1);case 1:return Ha(t.type,!0);case 31:return yi("Activity");default:return""}}function On(t){try{var n="";do n+=ih(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ae(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $i(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Kr(t){var n=$i(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Zi(t){t._valueTracker||(t._valueTracker=Kr(t))}function Ft(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=$i(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xr=/[\n"\\]/g;function xe(t){return t.replace(Xr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zs(t,n,a,l,h,d,E,b){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),n!=null?E==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ae(n)):t.value!==""+ae(n)&&(t.value=""+ae(n)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),n!=null?Ws(t,E,ae(n)):a!=null?Ws(t,E,ae(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+ae(b):t.removeAttribute("name")}function Js(t,n,a,l,h,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+ae(a):"",n=n!=null?""+ae(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Ws(t,n,a){n==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ji(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ae(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Lo(t,n,a){if(n!=null&&(n=""+ae(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ae(a):""}function Po(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Gt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ae(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function En(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var vi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||vi.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function el(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&tl(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&tl(t,d,n[d])}function Ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ln(t){return Bo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var nl=null;function il(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wi=null,$e=null;function zo(t){var n=Xn(t);if(n&&(t=n.stateNode)){var a=t[Le]||null;t:switch(t=n.stateNode,n.type){case"input":if(Zs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Le]||null;if(!h)throw Error(s(90));Zs(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ft(l)}break t;case"textarea":Lo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ji(t,!!a.multiple,n,!1)}}}var $r=!1;function Zr(t,n,a){if($r)return t(n,a);$r=!0;try{var l=t(n);return l}finally{if($r=!1,(Wi!==null||$e!==null)&&(Du(),Wi&&(n=Wi,t=$e,$e=Wi=null,zo(n),t)))for(n=0;n<t.length;n++)zo(t[n])}}function tr(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Ze=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ei=!1;if(Ze)try{var er={};Object.defineProperty(er,"passive",{get:function(){Ei=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{Ei=!1}var Tn=null,Jt=null,Qa=null;function ko(){if(Qa)return Qa;var t,n=Jt,a=n.length,l,h="value"in Tn?Tn.value:Tn.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&n[a-l]===h[d-l];l++);return Qa=h.slice(t,1<l?1-l:void 0)}function Jr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Wr(){return!0}function rl(){return!1}function Se(t){function n(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wr:rl,this.isPropagationStopped=rl,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),n}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=Se(He),ea=_({},He,{view:0,detail:0}),na=Se(ea),Fa,ia,Wn,ra=_({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wn&&(Wn&&t.type==="mousemove"?(Fa=t.screenX-Wn.screenX,ia=t.screenY-Wn.screenY):ia=Fa=0,Wn=t),Fa)},movementY:function(t){return"movementY"in t?t.movementY:ia}}),aa=Se(ra),rh=_({},ra,{dataTransfer:0}),jo=Se(rh),sa=_({},ea,{relatedTarget:0}),Ya=Se(sa),qo=_({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),al=Se(qo),sl=_({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ho=Se(sl),Ka=_({},He,{data:0}),ll=Se(Ka),Go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ti={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Qo[t])?!!n[t]:!1}function Xa(){return Fo}var Yo=_({},ea,{key:function(t){if(t.key){var n=Go[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Jr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ti[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(t){return t.type==="keypress"?Jr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$a=Se(Yo),Je=_({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ol=Se(Je),Ko=_({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),nr=Se(Ko),c=_({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Se(c),v=_({},ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Se(v),q=_({},He,{newState:0,oldState:0}),K=Se(q),rt=[9,13,27,32],St=Ze&&"CompositionEvent"in window,ee=null;Ze&&"documentMode"in document&&(ee=document.documentMode);var jt=Ze&&"TextEvent"in window&&!ee,de=Ze&&(!St||ee&&8<ee&&11>=ee),on=" ",ti=!1;function Pn(t,n){switch(t){case"keyup":return rt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bn=!1;function ul(t,n){switch(t){case"compositionend":return Un(n);case"keypress":return n.which!==32?null:(ti=!0,on);case"textInput":return t=n.data,t===on&&ti?null:t;default:return null}}function W1(t,n){if(Bn)return t==="compositionend"||!St&&Pn(t,n)?(t=ko(),Qa=Jt=Tn=null,Bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return de&&n.locale!=="ko"?null:n.data;default:return null}}var tE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tE[t.type]:n==="textarea"}function Km(t,n,a,l){Wi?$e?$e.push(l):$e=[l]:Wi=l,n=Ou(n,"onChange"),0<n.length&&(a=new ta("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var cl=null,hl=null;function eE(t){Dy(t,0)}function Xo(t){var n=Ki(t);if(Ft(n))return t}function Xm(t,n){if(t==="change")return n}var $m=!1;if(Ze){var ah;if(Ze){var sh="oninput"in document;if(!sh){var Zm=document.createElement("div");Zm.setAttribute("oninput","return;"),sh=typeof Zm.oninput=="function"}ah=sh}else ah=!1;$m=ah&&(!document.documentMode||9<document.documentMode)}function Jm(){cl&&(cl.detachEvent("onpropertychange",Wm),hl=cl=null)}function Wm(t){if(t.propertyName==="value"&&Xo(hl)){var n=[];Km(n,hl,t,il(t)),Zr(eE,n)}}function nE(t,n,a){t==="focusin"?(Jm(),cl=n,hl=a,cl.attachEvent("onpropertychange",Wm)):t==="focusout"&&Jm()}function iE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xo(hl)}function rE(t,n){if(t==="click")return Xo(n)}function aE(t,n){if(t==="input"||t==="change")return Xo(n)}function sE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var un=typeof Object.is=="function"?Object.is:sE;function fl(t,n){if(un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!La.call(n,h)||!un(t[h],n[h]))return!1}return!0}function tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eg(t,n){var a=tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=tg(a)}}function ng(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ng(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_i(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=_i(t.document)}return n}function lh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var lE=Ze&&"documentMode"in document&&11>=document.documentMode,Za=null,oh=null,dl=null,uh=!1;function rg(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uh||Za==null||Za!==_i(l)||(l=Za,"selectionStart"in l&&lh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Ou(oh,"onSelect"),0<l.length&&(n=new ta("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Za)))}function la(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ja={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},ch={},ag={};Ze&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function oa(t){if(ch[t])return ch[t];if(!Ja[t])return t;var n=Ja[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in ag)return ch[t]=n[a];return t}var sg=oa("animationend"),lg=oa("animationiteration"),og=oa("animationstart"),oE=oa("transitionrun"),uE=oa("transitionstart"),cE=oa("transitioncancel"),ug=oa("transitionend"),cg=new Map,hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hh.push("scrollEnd");function zn(t,n){cg.set(t,n),$n(n,[t])}var hg=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=hg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:On(n)},hg.set(t,n),n)}return{value:t,source:n,stack:On(n)}}var An=[],Wa=0,fh=0;function $o(){for(var t=Wa,n=fh=Wa=0;n<t;){var a=An[n];An[n++]=null;var l=An[n];An[n++]=null;var h=An[n];An[n++]=null;var d=An[n];if(An[n++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&fg(a,h,d)}}function Zo(t,n,a,l){An[Wa++]=t,An[Wa++]=n,An[Wa++]=a,An[Wa++]=l,fh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function dh(t,n,a,l){return Zo(t,n,a,l),Jo(t)}function ts(t,n){return Zo(t,null,null,n),Jo(t)}function fg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-Xe(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function Jo(t){if(50<Bl)throw Bl=0,Ef=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var es={};function hE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,n,a,l){return new hE(t,n,a,l)}function mh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bi(t,n){var a=t.alternate;return a===null?(a=cn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Wo(t,n,a,l,h,d){var E=0;if(l=t,typeof t=="function")mh(t)&&(E=1);else if(typeof t=="string")E=dT(t,a,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=cn(31,a,n,h),t.elementType=w,t.lanes=d,t;case L:return ua(a.children,h,d,n);case O:E=8,h|=24;break;case k:return t=cn(12,a,n,h|2),t.elementType=k,t.lanes=d,t;case at:return t=cn(13,a,n,h),t.elementType=at,t.lanes=d,t;case bt:return t=cn(19,a,n,h),t.elementType=bt,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case it:E=10;break t;case Q:E=9;break t;case pt:E=11;break t;case N:E=14;break t;case R:E=16,l=null;break t}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=cn(E,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function ua(t,n,a,l){return t=cn(7,t,l,n),t.lanes=a,t}function gh(t,n,a){return t=cn(6,t,null,n),t.lanes=a,t}function ph(t,n,a){return n=cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ns=[],is=0,tu=null,eu=0,Sn=[],Rn=0,ca=null,Ai=1,Si="";function ha(t,n){ns[is++]=eu,ns[is++]=tu,tu=t,eu=n}function mg(t,n,a){Sn[Rn++]=Ai,Sn[Rn++]=Si,Sn[Rn++]=ca,ca=t;var l=Ai;t=Si;var h=32-Xe(l)-1;l&=~(1<<h),a+=1;var d=32-Xe(n)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Ai=1<<32-Xe(n)+h|a<<h|l,Si=d+t}else Ai=1<<d|a<<h|l,Si=t}function yh(t){t.return!==null&&(ha(t,1),mg(t,1,0))}function _h(t){for(;t===tu;)tu=ns[--is],ns[is]=null,eu=ns[--is],ns[is]=null;for(;t===ca;)ca=Sn[--Rn],Sn[Rn]=null,Si=Sn[--Rn],Sn[Rn]=null,Ai=Sn[--Rn],Sn[Rn]=null}var We=null,oe=null,zt=!1,fa=null,ei=!1,vh=Error(s(519));function da(t){var n=Error(s(418,""));throw pl(bn(n,t)),vh}function gg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[he]=t,n[Le]=l,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<kl.length;a++)Nt(kl[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Js(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Zi(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),Po(n,l.value,l.defaultValue,l.children),Zi(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Vy(n.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Lu),n=!0):n=!1,n||da(t)}function pg(t){for(We=t.return;We;)switch(We.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:We=We.return}}function ml(t){if(t!==We)return!1;if(!zt)return pg(t),zt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Pf(t.type,t.memoizedProps)),a=!a),a&&oe&&da(t),pg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){oe=jn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}oe=null}}else n===27?(n=oe,_r(t.type)?(t=kf,kf=null,oe=t):oe=n):oe=We?jn(t.stateNode.nextSibling):null;return!0}function gl(){oe=We=null,zt=!1}function yg(){var t=fa;return t!==null&&(an===null?an=t:an.push.apply(an,t),fa=null),t}function pl(t){fa===null?fa=[t]:fa.push(t)}var Eh=nt(null),ma=null,Ri=null;function ir(t,n,a){st(Eh,n._currentValue),n._currentValue=a}function wi(t){t._currentValue=Eh.current,ot(Eh)}function Th(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function bh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=h;for(var C=0;C<n.length;C++)if(b.context===n[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Th(d.return,a,t),l||(E=null);break t}d=b.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Th(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function yl(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=h.type;un(h.pendingProps.value,E.value)||(t!==null?t.push(b):t=[b])}}else if(h===Oe.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Fl):t=[Fl])}h=h.return}t!==null&&bh(n,t,a,l),n.flags|=262144}function nu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ga(t){ma=t,Ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return _g(ma,t)}function iu(t,n){return ma===null&&ga(t),_g(t,n)}function _g(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ri===null){if(t===null)throw Error(s(308));Ri=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ri=Ri.next=n;return a}var fE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},dE=r.unstable_scheduleCallback,mE=r.unstable_NormalPriority,Re={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ah(){return{controller:new fE,data:new Map,refCount:0}}function _l(t){t.refCount--,t.refCount===0&&dE(mE,function(){t.controller.abort()})}var vl=null,Sh=0,rs=0,as=null;function gE(t,n){if(vl===null){var a=vl=[];Sh=0,rs=Cf(),as={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sh++,n.then(vg,vg),n}function vg(){if(--Sh===0&&vl!==null){as!==null&&(as.status="fulfilled");var t=vl;vl=null,rs=0,as=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function pE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Eg=$.S;$.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&gE(t,n),Eg!==null&&Eg(t,n)};var pa=nt(null);function Rh(){var t=pa.current;return t!==null?t:Wt.pooledCache}function ru(t,n){n===null?st(pa,pa.current):st(pa,n.pool)}function Tg(){var t=Rh();return t===null?null:{parent:Re._currentValue,pool:t}}var El=Error(s(460)),bg=Error(s(474)),au=Error(s(542)),wh={then:function(){}};function Ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function su(){}function Sg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(su,su),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wg(t),t;default:if(typeof n.status=="string")n.then(su,su);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wg(t),t}throw Tl=n,El}}var Tl=null;function Rg(){if(Tl===null)throw Error(s(459));var t=Tl;return Tl=null,t}function wg(t){if(t===El||t===au)throw Error(s(483))}var rr=!1;function Ch(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Jo(t),fg(t,null,a),n}return Zo(t,l,n,a),Jo(t)}function bl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Fi(t,a)}}function xh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Nh=!1;function Al(){if(Nh){var t=as;if(t!==null)throw t}}function Sl(t,n,a,l){Nh=!1;var h=t.updateQueue;rr=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,H=C.next;C.next=null,E===null?d=H:E.next=H,E=C;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==E&&(b===null?Z.firstBaseUpdate=H:b.next=H,Z.lastBaseUpdate=C))}if(d!==null){var tt=h.baseState;E=0,Z=H=C=null,b=d;do{var G=b.lane&-536870913,F=G!==b.lane;if(F?(Ot&G)===G:(l&G)===G){G!==0&&G===rs&&(Nh=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var Tt=t,yt=b;G=n;var Xt=a;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){tt=Tt.call(Xt,tt,G);break t}tt=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,G=typeof Tt=="function"?Tt.call(Xt,tt,G):Tt,G==null)break t;tt=_({},tt,G);break t;case 2:rr=!0}}G=b.callback,G!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[G]:F.push(G))}else F={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(H=Z=F,C=tt):Z=Z.next=F,E|=G;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;F=b,b=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Z===null&&(C=tt),h.baseState=C,h.firstBaseUpdate=H,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),mr|=E,t.lanes=E,t.memoizedState=tt}}function Cg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Dg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Cg(a[t],n)}var ss=nt(null),lu=nt(0);function xg(t,n){t=Mi,st(lu,t),st(ss,n),Mi=t|n.baseLanes}function Ih(){st(lu,Mi),st(ss,ss.current)}function Vh(){Mi=lu.current,ot(ss),ot(lu)}var lr=0,Ct=null,Yt=null,ye=null,ou=!1,ls=!1,ya=!1,uu=0,Rl=0,os=null,yE=0;function me(){throw Error(s(321))}function Mh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!un(t[a],n[a]))return!1;return!0}function Oh(t,n,a,l,h,d){return lr=d,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=t===null||t.memoizedState===null?fp:dp,ya=!1,d=a(l,h),ya=!1,ls&&(d=Ig(n,a,l,h)),Ng(t),d}function Ng(t){$.H=gu;var n=Yt!==null&&Yt.next!==null;if(lr=0,ye=Yt=Ct=null,ou=!1,Rl=0,os=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&nu(t)&&(Ne=!0))}function Ig(t,n,a,l){Ct=t;var h=0;do{if(ls&&(os=null),Rl=0,ls=!1,25<=h)throw Error(s(301));if(h+=1,ye=Yt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=SE,d=n(a,l)}while(ls);return d}function _E(){var t=$.H,n=t.useState()[0];return n=typeof n.then=="function"?wl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function Lh(){var t=uu!==0;return uu=0,t}function Ph(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Uh(t){if(ou){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ou=!1}lr=0,ye=Yt=Ct=null,ls=!1,Rl=uu=0,os=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Ct.memoizedState=ye=t:ye=ye.next=t,ye}function _e(){if(Yt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=ye===null?Ct.memoizedState:ye.next;if(n!==null)ye=n,Yt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ye===null?Ct.memoizedState=ye=t:ye=ye.next=t}return ye}function Bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var n=Rl;return Rl+=1,os===null&&(os=[]),t=Sg(os,t,n),n=Ct,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?fp:dp),t}function cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===it)return Ge(t)}throw Error(s(438,String(t)))}function zh(t){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Bh(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=P;return n.index++,a}function Ci(t,n){return typeof n=="function"?n(t):n}function hu(t){var n=_e();return kh(n,Yt,t)}function kh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var b=E=null,C=null,H=n,Z=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(Ot&tt)===tt:(lr&tt)===tt){var G=H.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===rs&&(Z=!0);else if((lr&G)===G){H=H.next,G===rs&&(Z=!0);continue}else tt={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(b=C=tt,E=d):C=C.next=tt,Ct.lanes|=G,mr|=G;tt=H.action,ya&&a(d,tt),d=H.hasEagerState?H.eagerState:a(d,tt)}else G={lane:tt,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(b=C=G,E=d):C=C.next=G,Ct.lanes|=tt,mr|=tt;H=H.next}while(H!==null&&H!==n);if(C===null?E=d:C.next=b,!un(d,t.memoizedState)&&(Ne=!0,Z&&(a=as,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jh(t){var n=_e(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);un(d,n.memoizedState)||(Ne=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function Vg(t,n,a){var l=Ct,h=_e(),d=zt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var E=!un((Yt||h).memoizedState,a);E&&(h.memoizedState=a,Ne=!0),h=h.queue;var b=Lg.bind(null,l,h,t);if(Cl(2048,8,b,[t]),h.getSnapshot!==n||E||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,us(9,fu(),Og.bind(null,l,h,a,n),null),Wt===null)throw Error(s(349));d||(lr&124)!==0||Mg(l,n,a)}return a}function Mg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=Bh(),Ct.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Og(t,n,a,l){n.value=a,n.getSnapshot=l,Pg(n)&&Ug(t)}function Lg(t,n,a){return a(function(){Pg(n)&&Ug(t)})}function Pg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!un(t,a)}catch{return!0}}function Ug(t){var n=ts(t,2);n!==null&&gn(n,t,2)}function qh(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),ya){yn(!0);try{a()}finally{yn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},n}function Bg(t,n,a,l){return t.baseState=a,kh(t,Yt,typeof l=="function"?l:Ci)}function vE(t,n,a,l,h){if(mu(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,zg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function zg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=$.T,E={};$.T=E;try{var b=a(h,l),C=$.S;C!==null&&C(E,b),kg(t,n,b)}catch(H){Hh(t,n,H)}finally{$.T=d}}else try{d=a(h,l),kg(t,n,d)}catch(H){Hh(t,n,H)}}function kg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jg(t,n,l)},function(l){return Hh(t,n,l)}):jg(t,n,a)}function jg(t,n,a){n.status="fulfilled",n.value=a,qg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,zg(t,a)))}function Hh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,qg(n),n=n.next;while(n!==l)}t.action=null}function qg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Hg(t,n){return n}function Gg(t,n){if(zt){var a=Wt.formState;if(a!==null){t:{var l=Ct;if(zt){if(oe){e:{for(var h=oe,d=ei;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){oe=jn(h.nextSibling),l=h.data==="F!";break t}}da(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:n},a.queue=l,a=up.bind(null,Ct,l),l.dispatch=a,l=qh(!1),d=Kh.bind(null,Ct,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=vE.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Qg(t){var n=_e();return Fg(n,Yt,t)}function Fg(t,n,a){if(n=kh(t,n,Hg)[0],t=hu(Ci)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=wl(n)}catch(E){throw E===El?au:E}else l=n;n=_e();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,us(9,fu(),EE.bind(null,h,a),null)),[l,d,t]}function EE(t,n){t.action=n}function Yg(t){var n=_e(),a=Yt;if(a!==null)return Fg(n,a,t);_e(),n=n.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function us(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Bh(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function fu(){return{destroy:void 0,resource:void 0}}function Kg(){return _e().memoizedState}function du(t,n,a,l){var h=nn();l=l===void 0?null:l,Ct.flags|=t,h.memoizedState=us(1|n,fu(),a,l)}function Cl(t,n,a,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;Yt!==null&&l!==null&&Mh(l,Yt.memoizedState.deps)?h.memoizedState=us(n,d,a,l):(Ct.flags|=t,h.memoizedState=us(1|n,d,a,l))}function Xg(t,n){du(8390656,8,t,n)}function $g(t,n){Cl(2048,8,t,n)}function Zg(t,n){return Cl(4,2,t,n)}function Jg(t,n){return Cl(4,4,t,n)}function Wg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function tp(t,n,a){a=a!=null?a.concat([t]):null,Cl(4,4,Wg.bind(null,n,t),a)}function Gh(){}function ep(t,n){var a=_e();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Mh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function np(t,n){var a=_e();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Mh(n,l[1]))return l[0];if(l=t(),ya){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,n],l}function Qh(t,n,a){return a===void 0||(lr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=ay(),Ct.lanes|=t,mr|=t,a)}function ip(t,n,a,l){return un(a,n)?a:ss.current!==null?(t=Qh(t,a,l),un(t,n)||(Ne=!0),t):(lr&42)===0?(Ne=!0,t.memoizedState=a):(t=ay(),Ct.lanes|=t,mr|=t,n)}function rp(t,n,a,l,h){var d=lt.p;lt.p=d!==0&&8>d?d:8;var E=$.T,b={};$.T=b,Kh(t,!1,n,a);try{var C=h(),H=$.S;if(H!==null&&H(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=pE(C,l);Dl(t,n,Z,mn(t))}else Dl(t,n,l,mn(t))}catch(tt){Dl(t,n,{then:function(){},status:"rejected",reason:tt},mn())}finally{lt.p=d,$.T=E}}function TE(){}function Fh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=ap(t).queue;rp(t,h,n,gt,a===null?TE:function(){return sp(t),a(l)})}function ap(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:gt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function sp(t){var n=ap(t).next.queue;Dl(t,n,{},mn())}function Yh(){return Ge(Fl)}function lp(){return _e().memoizedState}function op(){return _e().memoizedState}function bE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=mn();t=ar(a);var l=sr(n,t,a);l!==null&&(gn(l,n,a),bl(l,n,a)),n={cache:Ah()},t.payload=n;return}n=n.return}}function AE(t,n,a){var l=mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mu(t)?cp(n,a):(a=dh(t,n,a,l),a!==null&&(gn(a,t,l),hp(a,n,l)))}function up(t,n,a){var l=mn();Dl(t,n,a,l)}function Dl(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mu(t))cp(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var E=n.lastRenderedState,b=d(E,a);if(h.hasEagerState=!0,h.eagerState=b,un(b,E))return Zo(t,n,h,0),Wt===null&&$o(),!1}catch{}finally{}if(a=dh(t,n,h,l),a!==null)return gn(a,t,l),hp(a,n,l),!0}return!1}function Kh(t,n,a,l){if(l={lane:2,revertLane:Cf(),action:l,hasEagerState:!1,eagerState:null,next:null},mu(t)){if(n)throw Error(s(479))}else n=dh(t,a,l,2),n!==null&&gn(n,t,2)}function mu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function cp(t,n){ls=ou=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function hp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Fi(t,a)}}var gu={readContext:Ge,use:cu,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me},fp={readContext:Ge,use:cu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:Xg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,du(4194308,4,Wg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return du(4194308,4,t,n)},useInsertionEffect:function(t,n){du(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(ya){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var h=a(n);if(ya){yn(!0);try{a(n)}finally{yn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=AE.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=qh(t);var n=t.queue,a=up.bind(null,Ct,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Gh,useDeferredValue:function(t,n){var a=nn();return Qh(a,t,n)},useTransition:function(){var t=qh(!1);return t=rp.bind(null,Ct,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ct,h=nn();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Ot&124)!==0||Mg(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Xg(Lg.bind(null,l,d,t),[t]),l.flags|=2048,us(9,fu(),Og.bind(null,l,d,a,n),null),a},useId:function(){var t=nn(),n=Wt.identifierPrefix;if(zt){var a=Si,l=Ai;a=(l&~(1<<32-Xe(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=uu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=yE++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Yh,useFormState:Gg,useActionState:Gg,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Kh.bind(null,Ct,!0,a),a.dispatch=n,[t,n]},useMemoCache:zh,useCacheRefresh:function(){return nn().memoizedState=bE.bind(null,Ct)}},dp={readContext:Ge,use:cu,useCallback:ep,useContext:Ge,useEffect:$g,useImperativeHandle:tp,useInsertionEffect:Zg,useLayoutEffect:Jg,useMemo:np,useReducer:hu,useRef:Kg,useState:function(){return hu(Ci)},useDebugValue:Gh,useDeferredValue:function(t,n){var a=_e();return ip(a,Yt.memoizedState,t,n)},useTransition:function(){var t=hu(Ci)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:wl(t),n]},useSyncExternalStore:Vg,useId:lp,useHostTransitionStatus:Yh,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,n){var a=_e();return Bg(a,Yt,t,n)},useMemoCache:zh,useCacheRefresh:op},SE={readContext:Ge,use:cu,useCallback:ep,useContext:Ge,useEffect:$g,useImperativeHandle:tp,useInsertionEffect:Zg,useLayoutEffect:Jg,useMemo:np,useReducer:jh,useRef:Kg,useState:function(){return jh(Ci)},useDebugValue:Gh,useDeferredValue:function(t,n){var a=_e();return Yt===null?Qh(a,t,n):ip(a,Yt.memoizedState,t,n)},useTransition:function(){var t=jh(Ci)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:wl(t),n]},useSyncExternalStore:Vg,useId:lp,useHostTransitionStatus:Yh,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,n){var a=_e();return Yt!==null?Bg(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:zh,useCacheRefresh:op},cs=null,xl=0;function pu(t){var n=xl;return xl+=1,cs===null&&(cs=[]),Sg(cs,t,n)}function Nl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function yu(t,n){throw n.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mp(t){var n=t._init;return n(t._payload)}function gp(t){function n(U,M){if(t){var j=U.deletions;j===null?(U.deletions=[M],U.flags|=16):j.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=bi(U,M),U.index=0,U.sibling=null,U}function d(U,M,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<M?(U.flags|=67108866,M):j):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,M,j,J){return M===null||M.tag!==6?(M=gh(j,U.mode,J),M.return=U,M):(M=h(M,j),M.return=U,M)}function C(U,M,j,J){var ht=j.type;return ht===L?Z(U,M,j.props.children,J,j.key):M!==null&&(M.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&mp(ht)===M.type)?(M=h(M,j.props),Nl(M,j),M.return=U,M):(M=Wo(j.type,j.key,j.props,null,U.mode,J),Nl(M,j),M.return=U,M)}function H(U,M,j,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=ph(j,U.mode,J),M.return=U,M):(M=h(M,j.children||[]),M.return=U,M)}function Z(U,M,j,J,ht){return M===null||M.tag!==7?(M=ua(j,U.mode,J,ht),M.return=U,M):(M=h(M,j),M.return=U,M)}function tt(U,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=gh(""+M,U.mode,j),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return j=Wo(M.type,M.key,M.props,null,U.mode,j),Nl(j,M),j.return=U,j;case x:return M=ph(M,U.mode,j),M.return=U,M;case R:var J=M._init;return M=J(M._payload),tt(U,M,j)}if(Gt(M)||B(M))return M=ua(M,U.mode,j,null),M.return=U,M;if(typeof M.then=="function")return tt(U,pu(M),j);if(M.$$typeof===it)return tt(U,iu(U,M),j);yu(U,M)}return null}function G(U,M,j,J){var ht=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ht!==null?null:b(U,M,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case A:return j.key===ht?C(U,M,j,J):null;case x:return j.key===ht?H(U,M,j,J):null;case R:return ht=j._init,j=ht(j._payload),G(U,M,j,J)}if(Gt(j)||B(j))return ht!==null?null:Z(U,M,j,J,null);if(typeof j.then=="function")return G(U,M,pu(j),J);if(j.$$typeof===it)return G(U,M,iu(U,j),J);yu(U,j)}return null}function F(U,M,j,J,ht){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(j)||null,b(M,U,""+J,ht);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return U=U.get(J.key===null?j:J.key)||null,C(M,U,J,ht);case x:return U=U.get(J.key===null?j:J.key)||null,H(M,U,J,ht);case R:var Dt=J._init;return J=Dt(J._payload),F(U,M,j,J,ht)}if(Gt(J)||B(J))return U=U.get(j)||null,Z(M,U,J,ht,null);if(typeof J.then=="function")return F(U,M,j,pu(J),ht);if(J.$$typeof===it)return F(U,M,j,iu(M,J),ht);yu(M,J)}return null}function Tt(U,M,j,J){for(var ht=null,Dt=null,ft=M,_t=M=0,Ve=null;ft!==null&&_t<j.length;_t++){ft.index>_t?(Ve=ft,ft=null):Ve=ft.sibling;var Bt=G(U,ft,j[_t],J);if(Bt===null){ft===null&&(ft=Ve);break}t&&ft&&Bt.alternate===null&&n(U,ft),M=d(Bt,M,_t),Dt===null?ht=Bt:Dt.sibling=Bt,Dt=Bt,ft=Ve}if(_t===j.length)return a(U,ft),zt&&ha(U,_t),ht;if(ft===null){for(;_t<j.length;_t++)ft=tt(U,j[_t],J),ft!==null&&(M=d(ft,M,_t),Dt===null?ht=ft:Dt.sibling=ft,Dt=ft);return zt&&ha(U,_t),ht}for(ft=l(ft);_t<j.length;_t++)Ve=F(ft,U,_t,j[_t],J),Ve!==null&&(t&&Ve.alternate!==null&&ft.delete(Ve.key===null?_t:Ve.key),M=d(Ve,M,_t),Dt===null?ht=Ve:Dt.sibling=Ve,Dt=Ve);return t&&ft.forEach(function(Ar){return n(U,Ar)}),zt&&ha(U,_t),ht}function yt(U,M,j,J){if(j==null)throw Error(s(151));for(var ht=null,Dt=null,ft=M,_t=M=0,Ve=null,Bt=j.next();ft!==null&&!Bt.done;_t++,Bt=j.next()){ft.index>_t?(Ve=ft,ft=null):Ve=ft.sibling;var Ar=G(U,ft,Bt.value,J);if(Ar===null){ft===null&&(ft=Ve);break}t&&ft&&Ar.alternate===null&&n(U,ft),M=d(Ar,M,_t),Dt===null?ht=Ar:Dt.sibling=Ar,Dt=Ar,ft=Ve}if(Bt.done)return a(U,ft),zt&&ha(U,_t),ht;if(ft===null){for(;!Bt.done;_t++,Bt=j.next())Bt=tt(U,Bt.value,J),Bt!==null&&(M=d(Bt,M,_t),Dt===null?ht=Bt:Dt.sibling=Bt,Dt=Bt);return zt&&ha(U,_t),ht}for(ft=l(ft);!Bt.done;_t++,Bt=j.next())Bt=F(ft,U,_t,Bt.value,J),Bt!==null&&(t&&Bt.alternate!==null&&ft.delete(Bt.key===null?_t:Bt.key),M=d(Bt,M,_t),Dt===null?ht=Bt:Dt.sibling=Bt,Dt=Bt);return t&&ft.forEach(function(RT){return n(U,RT)}),zt&&ha(U,_t),ht}function Xt(U,M,j,J){if(typeof j=="object"&&j!==null&&j.type===L&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case A:t:{for(var ht=j.key;M!==null;){if(M.key===ht){if(ht=j.type,ht===L){if(M.tag===7){a(U,M.sibling),J=h(M,j.props.children),J.return=U,U=J;break t}}else if(M.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&mp(ht)===M.type){a(U,M.sibling),J=h(M,j.props),Nl(J,j),J.return=U,U=J;break t}a(U,M);break}else n(U,M);M=M.sibling}j.type===L?(J=ua(j.props.children,U.mode,J,j.key),J.return=U,U=J):(J=Wo(j.type,j.key,j.props,null,U.mode,J),Nl(J,j),J.return=U,U=J)}return E(U);case x:t:{for(ht=j.key;M!==null;){if(M.key===ht)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(U,M.sibling),J=h(M,j.children||[]),J.return=U,U=J;break t}else{a(U,M);break}else n(U,M);M=M.sibling}J=ph(j,U.mode,J),J.return=U,U=J}return E(U);case R:return ht=j._init,j=ht(j._payload),Xt(U,M,j,J)}if(Gt(j))return Tt(U,M,j,J);if(B(j)){if(ht=B(j),typeof ht!="function")throw Error(s(150));return j=ht.call(j),yt(U,M,j,J)}if(typeof j.then=="function")return Xt(U,M,pu(j),J);if(j.$$typeof===it)return Xt(U,M,iu(U,j),J);yu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(U,M.sibling),J=h(M,j),J.return=U,U=J):(a(U,M),J=gh(j,U.mode,J),J.return=U,U=J),E(U)):a(U,M)}return function(U,M,j,J){try{xl=0;var ht=Xt(U,M,j,J);return cs=null,ht}catch(ft){if(ft===El||ft===au)throw ft;var Dt=cn(29,ft,null,U.mode);return Dt.lanes=J,Dt.return=U,Dt}finally{}}}var hs=gp(!0),pp=gp(!1),wn=nt(null),ni=null;function or(t){var n=t.alternate;st(we,we.current&1),st(wn,t),ni===null&&(n===null||ss.current!==null||n.memoizedState!==null)&&(ni=t)}function yp(t){if(t.tag===22){if(st(we,we.current),st(wn,t),ni===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ni=t)}}else ur()}function ur(){st(we,we.current),st(wn,wn.current)}function Di(t){ot(wn),ni===t&&(ni=null),ot(we)}var we=nt(0);function _u(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||zf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Xh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:_({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var $h={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=mn(),h=ar(l);h.payload=n,a!=null&&(h.callback=a),n=sr(t,h,l),n!==null&&(gn(n,t,l),bl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=mn(),h=ar(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=sr(t,h,l),n!==null&&(gn(n,t,l),bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=mn(),l=ar(a);l.tag=2,n!=null&&(l.callback=n),n=sr(t,l,a),n!==null&&(gn(n,t,a),bl(n,t,a))}};function _p(t,n,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):n.prototype&&n.prototype.isPureReactComponent?!fl(a,l)||!fl(h,d):!0}function vp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&$h.enqueueReplaceState(n,n.state,null)}function _a(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=_({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ep(t){vu(t)}function Tp(t){console.error(t)}function bp(t){vu(t)}function Eu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ap(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zh(t,n,a){return a=ar(a),a.tag=3,a.payload={element:null},a.callback=function(){Eu(t,n)},a}function Sp(t){return t=ar(t),t.tag=3,t}function Rp(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ap(n,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Ap(n,a,l),typeof h!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function RE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&yl(n,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return ni===null?bf():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===wh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Sf(t,l,h)),!1;case 22:return a.flags|=65536,l===wh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Sf(t,l,h)),!1}throw Error(s(435,a.tag))}return Sf(t,l,h),bf(),!1}if(zt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==vh&&(t=Error(s(422),{cause:l}),pl(bn(t,a)))):(l!==vh&&(n=Error(s(423),{cause:l}),pl(bn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=bn(l,a),h=Zh(t.stateNode,l,h),xh(t,h),ue!==4&&(ue=2)),!1;var d=Error(s(520),{cause:l});if(d=bn(d,a),Ul===null?Ul=[d]:Ul.push(d),ue!==4&&(ue=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Zh(a.stateNode,l,t),xh(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(gr===null||!gr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Sp(h),Rp(h,t,a,l),xh(a,h),!1}a=a.return}while(a!==null);return!1}var wp=Error(s(461)),Ne=!1;function Pe(t,n,a,l){n.child=t===null?pp(n,null,a,l):hs(n,t.child,a,l)}function Cp(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return ga(n),l=Oh(t,n,a,E,d,h),b=Lh(),t!==null&&!Ne?(Ph(t,n,h),xi(t,n,h)):(zt&&b&&yh(n),n.flags|=1,Pe(t,n,l,h),n.child)}function Dp(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!mh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,xp(t,n,d,l,h)):(t=Wo(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!sf(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(E,l)&&t.ref===n.ref)return xi(t,n,h)}return n.flags|=1,t=bi(d,l),t.ref=n.ref,t.return=n,n.child=t}function xp(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(fl(d,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=d,sf(t,h))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,xi(t,n,h)}return Jh(t,n,a,l,h)}function Np(t,n,a){var l=n.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Ip(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ru(n,d!==null?d.cachePool:null),d!==null?xg(n,d):Ih(),yp(n);else return n.lanes=n.childLanes=536870912,Ip(t,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(ru(n,d.cachePool),xg(n,d),ur(),n.memoizedState=null):(t!==null&&ru(n,null),Ih(),ur());return Pe(t,n,h,a),n.child}function Ip(t,n,a,l){var h=Rh();return h=h===null?null:{parent:Re._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&ru(n,null),Ih(),yp(n),t!==null&&yl(t,n,l,!0),null}function Tu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Jh(t,n,a,l,h){return ga(n),a=Oh(t,n,a,l,void 0,h),l=Lh(),t!==null&&!Ne?(Ph(t,n,h),xi(t,n,h)):(zt&&l&&yh(n),n.flags|=1,Pe(t,n,a,h),n.child)}function Vp(t,n,a,l,h,d){return ga(n),n.updateQueue=null,a=Ig(n,l,a,h),Ng(t),l=Lh(),t!==null&&!Ne?(Ph(t,n,d),xi(t,n,d)):(zt&&l&&yh(n),n.flags|=1,Pe(t,n,a,d),n.child)}function Mp(t,n,a,l,h){if(ga(n),n.stateNode===null){var d=es,E=a.contextType;typeof E=="object"&&E!==null&&(d=Ge(E)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$h,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Ch(n),E=a.contextType,d.context=typeof E=="object"&&E!==null?Ge(E):es,d.state=n.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Xh(n,a,E,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&$h.enqueueReplaceState(d,d.state,null),Sl(n,l,d,h),Al(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var b=n.memoizedProps,C=_a(a,b);d.props=C;var H=d.context,Z=a.contextType;E=es,typeof Z=="object"&&Z!==null&&(E=Ge(Z));var tt=a.getDerivedStateFromProps;Z=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==E)&&vp(n,d,l,E),rr=!1;var G=n.memoizedState;d.state=G,Sl(n,l,d,h),Al(),H=n.memoizedState,b||G!==H||rr?(typeof tt=="function"&&(Xh(n,a,tt,l),H=n.memoizedState),(C=rr||_p(n,a,C,l,G,H,E))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),d.props=l,d.state=H,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Dh(t,n),E=n.memoizedProps,Z=_a(a,E),d.props=Z,tt=n.pendingProps,G=d.context,H=a.contextType,C=es,typeof H=="object"&&H!==null&&(C=Ge(H)),b=a.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==tt||G!==C)&&vp(n,d,l,C),rr=!1,G=n.memoizedState,d.state=G,Sl(n,l,d,h),Al();var F=n.memoizedState;E!==tt||G!==F||rr||t!==null&&t.dependencies!==null&&nu(t.dependencies)?(typeof b=="function"&&(Xh(n,a,b,l),F=n.memoizedState),(Z=rr||_p(n,a,Z,l,G,F,C)||t!==null&&t.dependencies!==null&&nu(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),d.props=l,d.state=F,d.context=C,l=Z):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Tu(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=hs(n,t.child,null,h),n.child=hs(n,null,a,h)):Pe(t,n,a,h),n.memoizedState=d.state,t=n.child):t=xi(t,n,h),t}function Op(t,n,a,l){return gl(),n.flags|=256,Pe(t,n,a,l),n.child}var Wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tf(t){return{baseLanes:t,cachePool:Tg()}}function ef(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Cn),t}function Lp(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(we.current&2)!==0),E&&(h=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(h?or(n):ur(),zt){var b=oe,C;if(C=b){t:{for(C=b,b=ei;C.nodeType!==8;){if(!b){b=null;break t}if(C=jn(C.nextSibling),C===null){b=null;break t}}b=C}b!==null?(n.memoizedState={dehydrated:b,treeContext:ca!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},C=cn(18,null,null,0),C.stateNode=b,C.return=n,n.child=C,We=n,oe=null,C=!0):C=!1}C||da(n)}if(b=n.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return zf(b)?n.lanes=32:n.lanes=536870912,null;Di(n)}return b=l.children,l=l.fallback,h?(ur(),h=n.mode,b=bu({mode:"hidden",children:b},h),l=ua(l,h,a,null),b.return=n,l.return=n,b.sibling=l,n.child=b,h=n.child,h.memoizedState=tf(a),h.childLanes=ef(t,E,a),n.memoizedState=Wh,l):(or(n),nf(n,b))}if(C=t.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)n.flags&256?(or(n),n.flags&=-257,n=rf(t,n,a)):n.memoizedState!==null?(ur(),n.child=t.child,n.flags|=128,n=null):(ur(),h=l.fallback,b=n.mode,l=bu({mode:"visible",children:l.children},b),h=ua(h,b,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,hs(n,t.child,null,a),l=n.child,l.memoizedState=tf(a),l.childLanes=ef(t,E,a),n.memoizedState=Wh,n=h);else if(or(n),zf(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var H=E.dgst;E=H,l=Error(s(419)),l.stack="",l.digest=E,pl({value:l,source:null,stack:null}),n=rf(t,n,a)}else if(Ne||yl(t,n,a,!1),E=(a&t.childLanes)!==0,Ne||E){if(E=Wt,E!==null&&(l=a&-a,l=(l&42)!==0?1:Xs(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ts(t,l),gn(E,t,l),wp;b.data==="$?"||bf(),n=rf(t,n,a)}else b.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,oe=jn(b.nextSibling),We=n,zt=!0,fa=null,ei=!1,t!==null&&(Sn[Rn++]=Ai,Sn[Rn++]=Si,Sn[Rn++]=ca,Ai=t.id,Si=t.overflow,ca=n),n=nf(n,l.children),n.flags|=4096);return n}return h?(ur(),h=l.fallback,b=n.mode,C=t.child,H=C.sibling,l=bi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,H!==null?h=bi(H,h):(h=ua(h,b,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,b=t.child.memoizedState,b===null?b=tf(a):(C=b.cachePool,C!==null?(H=Re._currentValue,C=C.parent!==H?{parent:H,pool:H}:C):C=Tg(),b={baseLanes:b.baseLanes|a,cachePool:C}),h.memoizedState=b,h.childLanes=ef(t,E,a),n.memoizedState=Wh,l):(or(n),a=t.child,t=a.sibling,a=bi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(E=n.deletions,E===null?(n.deletions=[t],n.flags|=16):E.push(t)),n.child=a,n.memoizedState=null,a)}function nf(t,n){return n=bu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function bu(t,n){return t=cn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function rf(t,n,a){return hs(n,t.child,null,a),t=nf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Pp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Th(t.return,n,a)}function af(t,n,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Up(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(Pe(t,n,l.children,a),l=we.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pp(t,a,n);else if(t.tag===19)Pp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(st(we,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&_u(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),af(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&_u(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}af(n,!0,a,null,d);break;case"together":af(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function xi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),mr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(yl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=bi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=bi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function sf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&nu(t)))}function wE(t,n,a){switch(n.tag){case 3:Qt(n,n.stateNode.containerInfo),ir(n,Re,t.memoizedState.cache),gl();break;case 27:case 5:Qs(n);break;case 4:Qt(n,n.stateNode.containerInfo);break;case 10:ir(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(or(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Lp(t,n,a):(or(n),t=xi(t,n,a),t!==null?t.sibling:null);or(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(yl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Up(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(we,we.current),l)break;return null;case 22:case 23:return n.lanes=0,Np(t,n,a);case 24:ir(n,Re,t.memoizedState.cache)}return xi(t,n,a)}function Bp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!sf(t,a)&&(n.flags&128)===0)return Ne=!1,wE(t,n,a);Ne=(t.flags&131072)!==0}else Ne=!1,zt&&(n.flags&1048576)!==0&&mg(n,eu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")mh(l)?(t=_a(l,t),n.tag=1,n=Mp(null,n,l,t,a)):(n.tag=0,n=Jh(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===pt){n.tag=11,n=Cp(null,n,l,t,a);break t}else if(h===N){n.tag=14,n=Dp(null,n,l,t,a);break t}}throw n=Zt(l)||l,Error(s(306,n,""))}}return n;case 0:return Jh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=_a(l,n.pendingProps),Mp(t,n,l,h,a);case 3:t:{if(Qt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Dh(t,n),Sl(n,l,null,a);var E=n.memoizedState;if(l=E.cache,ir(n,Re,l),l!==d.cache&&bh(n,[Re],a,!0),Al(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Op(t,n,l,a);break t}else if(l!==h){h=bn(Error(s(424)),n),pl(h),n=Op(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=jn(t.firstChild),We=n,zt=!0,fa=null,ei=!0,a=pp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(gl(),l===h){n=xi(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return Tu(t,n),t===null?(a=qy(n.type,null,n.pendingProps,null))?n.memoizedState=a:zt||(a=n.type,t=n.pendingProps,l=Pu(Et.current).createElement(a),l[he]=n,l[Le]=t,Be(l,a,t),fe(l),n.stateNode=l):n.memoizedState=qy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Qs(n),t===null&&zt&&(l=n.stateNode=zy(n.type,n.pendingProps,Et.current),We=n,ei=!0,h=oe,_r(n.type)?(kf=h,oe=jn(l.firstChild)):oe=h),Pe(t,n,n.pendingProps.children,a),Tu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((h=l=oe)&&(l=tT(l,n.type,n.pendingProps,ei),l!==null?(n.stateNode=l,We=n,oe=jn(l.firstChild),ei=!1,h=!0):h=!1),h||da(n)),Qs(n),h=n.type,d=n.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Pf(h,d)?l=null:E!==null&&Pf(h,E)&&(n.flags|=32),n.memoizedState!==null&&(h=Oh(t,n,_E,null,null,a),Fl._currentValue=h),Tu(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&zt&&((t=a=oe)&&(a=eT(a,n.pendingProps,ei),a!==null?(n.stateNode=a,We=n,oe=null,t=!0):t=!1),t||da(n)),null;case 13:return Lp(t,n,a);case 4:return Qt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=hs(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return Cp(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ir(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ga(n),h=Ge(h),l=l(h),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return Dp(t,n,n.type,n.pendingProps,a);case 15:return xp(t,n,n.type,n.pendingProps,a);case 19:return Up(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=bu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=bi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Np(t,n,a);case 24:return ga(n),l=Ge(Re),t===null?(h=Rh(),h===null&&(h=Wt,d=Ah(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},Ch(n),ir(n,Re,h)):((t.lanes&a)!==0&&(Dh(t,n),Sl(n,null,null,a),Al()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ir(n,Re,l)):(l=d.cache,ir(n,Re,l),l!==h.cache&&bh(n,[Re],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ni(t){t.flags|=4}function zp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Yy(n)){if(n=wn.current,n!==null&&((Ot&4194048)===Ot?ni!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==ni))throw Tl=wh,bg;t.flags|=8192}}function Au(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Gi():536870912,t.lanes|=n,gs|=n)}function Il(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function se(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function CE(t,n,a){var l=n.pendingProps;switch(_h(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),wi(Re),In(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ml(n)?Ni(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,yg())),se(n),null;case 26:return a=n.memoizedState,t===null?(Ni(n),a!==null?(se(n),zp(n,a)):(se(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ni(n),se(n),zp(n,a)):(se(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ni(n),se(n),n.flags&=-16777217),null;case 27:Oa(n),a=Et.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return se(n),null}t=dt.current,ml(n)?gg(n):(t=zy(h,l,a),n.stateNode=t,Ni(n))}return se(n),null;case 5:if(Oa(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return se(n),null}if(t=dt.current,ml(n))gg(n);else{switch(h=Pu(Et.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[he]=n,t[Le]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(Be(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ni(n)}}return se(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Et.current,ml(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[he]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Vy(t.nodeValue,a)),t||da(n)}else t=Pu(t).createTextNode(l),t[he]=n,n.stateNode=t}return se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ml(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[he]=n}else gl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=yg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Di(n),n):(Di(n),null)}if(Di(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Au(n,n.updateQueue),se(n),null;case 4:return In(),t===null&&If(n.stateNode.containerInfo),se(n),null;case 10:return wi(n.type),se(n),null;case 19:if(ot(we),h=n.memoizedState,h===null)return se(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)Il(h,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=_u(t),d!==null){for(n.flags|=128,Il(h,!1),t=d.updateQueue,n.updateQueue=t,Au(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)dg(a,t),a=a.sibling;return st(we,we.current&1|2),n.child}t=t.sibling}h.tail!==null&&en()>wu&&(n.flags|=128,l=!0,Il(h,!1),n.lanes=4194304)}else{if(!l)if(t=_u(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Au(n,t),Il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!zt)return se(n),null}else 2*en()-h.renderingStartTime>wu&&a!==536870912&&(n.flags|=128,l=!0,Il(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=en(),n.sibling=null,t=we.current,st(we,l?t&1|2:t&1),n):(se(n),null);case 22:case 23:return Di(n),Vh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),a=n.updateQueue,a!==null&&Au(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ot(pa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wi(Re),se(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function DE(t,n){switch(_h(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return wi(Re),In(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Oa(n),null;case 13:if(Di(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));gl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ot(we),null;case 4:return In(),null;case 10:return wi(n.type),null;case 22:case 23:return Di(n),Vh(),t!==null&&ot(pa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return wi(Re),null;case 25:return null;default:return null}}function kp(t,n){switch(_h(n),n.tag){case 3:wi(Re),In();break;case 26:case 27:case 5:Oa(n);break;case 4:In();break;case 13:Di(n);break;case 19:ot(we);break;case 10:wi(n.type);break;case 22:case 23:Di(n),Vh(),t!==null&&ot(pa);break;case 24:wi(Re)}}function Vl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(b){$t(n,n.return,b)}}function cr(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,h=n;var C=a,H=b;try{H()}catch(Z){$t(h,C,Z)}}}l=l.next}while(l!==d)}}catch(Z){$t(n,n.return,Z)}}function jp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Dg(n,a)}catch(l){$t(t,t.return,l)}}}function qp(t,n,a){a.props=_a(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$t(t,n,l)}}function Ml(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$t(t,n,h)}}function ii(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(t,n,h)}else a.current=null}function Hp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(t,t.return,h)}}function lf(t,n,a){try{var l=t.stateNode;XE(l,t.type,a,n),l[Le]=n}catch(h){$t(t,t.return,h)}}function Gp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_r(t.type)||t.tag===4}function of(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Gp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_r(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Lu));else if(l!==4&&(l===27&&_r(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(uf(t,n,a),t=t.sibling;t!==null;)uf(t,n,a),t=t.sibling}function Su(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&_r(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Su(t,n,a),t=t.sibling;t!==null;)Su(t,n,a),t=t.sibling}function Qp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Be(n,l,a),n[he]=t,n[Le]=a}catch(d){$t(t,t.return,d)}}var Ii=!1,ge=!1,cf=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function xE(t,n){if(t=t.containerInfo,Of=qu,t=ig(t),lh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var E=0,b=-1,C=-1,H=0,Z=0,tt=t,G=null;e:for(;;){for(var F;tt!==a||h!==0&&tt.nodeType!==3||(b=E+h),tt!==d||l!==0&&tt.nodeType!==3||(C=E+l),tt.nodeType===3&&(E+=tt.nodeValue.length),(F=tt.firstChild)!==null;)G=tt,tt=F;for(;;){if(tt===t)break e;if(G===a&&++H===h&&(b=E),G===d&&++Z===l&&(C=E),(F=tt.nextSibling)!==null)break;tt=G,G=tt.parentNode}tt=F}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lf={focusedElem:t,selectionRange:a},qu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Tt=_a(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Tt,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){$t(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Bf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function Yp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:hr(t,a),l&4&&Vl(5,a);break;case 1:if(hr(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(E){$t(a,a.return,E)}else{var h=_a(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){$t(a,a.return,E)}}l&64&&jp(a),l&512&&Ml(a,a.return);break;case 3:if(hr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Dg(t,n)}catch(E){$t(a,a.return,E)}}break;case 27:n===null&&l&4&&Qp(a);case 26:case 5:hr(t,a),n===null&&l&4&&Hp(a),l&512&&Ml(a,a.return);break;case 12:hr(t,a);break;case 13:hr(t,a),l&4&&$p(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=BE.bind(null,a),nT(t,a))));break;case 22:if(l=a.memoizedState!==null||Ii,!l){n=n!==null&&n.memoizedState!==null||ge,h=Ii;var d=ge;Ii=l,(ge=n)&&!d?fr(t,a,(a.subtreeFlags&8772)!==0):hr(t,a),Ii=h,ge=d}break;case 30:break;default:hr(t,a)}}function Kp(t){var n=t.alternate;n!==null&&(t.alternate=null,Kp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&za(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,rn=!1;function Vi(t,n,a){for(a=a.child;a!==null;)Xp(t,n,a),a=a.sibling}function Xp(t,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(ji,a)}catch{}switch(a.tag){case 26:ge||ii(a,n),Vi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ge||ii(a,n);var l=ie,h=rn;_r(a.type)&&(ie=a.stateNode,rn=!1),Vi(t,n,a),ql(a.stateNode),ie=l,rn=h;break;case 5:ge||ii(a,n);case 6:if(l=ie,h=rn,ie=null,Vi(t,n,a),ie=l,rn=h,ie!==null)if(rn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(d){$t(a,n,d)}else try{ie.removeChild(a.stateNode)}catch(d){$t(a,n,d)}break;case 18:ie!==null&&(rn?(t=ie,Uy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),$l(t)):Uy(ie,a.stateNode));break;case 4:l=ie,h=rn,ie=a.stateNode.containerInfo,rn=!0,Vi(t,n,a),ie=l,rn=h;break;case 0:case 11:case 14:case 15:ge||cr(2,a,n),ge||cr(4,a,n),Vi(t,n,a);break;case 1:ge||(ii(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qp(a,n,l)),Vi(t,n,a);break;case 21:Vi(t,n,a);break;case 22:ge=(l=ge)||a.memoizedState!==null,Vi(t,n,a),ge=l;break;default:Vi(t,n,a)}}function $p(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$l(t)}catch(a){$t(n,n.return,a)}}function NE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Fp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Fp),n;default:throw Error(s(435,t.tag))}}function hf(t,n){var a=NE(t);n.forEach(function(l){var h=zE.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function hn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=n,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(_r(b.type)){ie=b.stateNode,rn=!1;break t}break;case 5:ie=b.stateNode,rn=!1;break t;case 3:case 4:ie=b.stateNode.containerInfo,rn=!0;break t}b=b.return}if(ie===null)throw Error(s(160));Xp(d,E,h),ie=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Zp(n,t),n=n.sibling}var kn=null;function Zp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(n,t),fn(t),l&4&&(cr(3,t,t.return),Vl(3,t),cr(5,t,t.return));break;case 1:hn(n,t),fn(t),l&512&&(ge||a===null||ii(a,a.return)),l&64&&Ii&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=kn;if(hn(n,t),fn(t),l&512&&(ge||a===null||ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Yi]||d[he]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,l,a),d[he]=t,fe(d),l=d;break t;case"link":var E=Qy("link","href",h).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;case"meta":if(E=Qy("meta","content",h).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[he]=t,fe(d),l=d}t.stateNode=l}else Fy(h,t.type,t.stateNode);else t.stateNode=Gy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Fy(h,t.type,t.stateNode):Gy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&lf(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(n,t),fn(t),l&512&&(ge||a===null||ii(a,a.return)),a!==null&&l&4&&lf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(n,t),fn(t),l&512&&(ge||a===null||ii(a,a.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(F){$t(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,lf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(cf=!0);break;case 6:if(hn(n,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){$t(t,t.return,F)}}break;case 3:if(zu=null,h=kn,kn=Uu(n.containerInfo),hn(n,t),kn=h,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$l(n.containerInfo)}catch(F){$t(t,t.return,F)}cf&&(cf=!1,Jp(t));break;case 4:l=kn,kn=Uu(t.stateNode.containerInfo),hn(n,t),fn(t),kn=l;break;case 12:hn(n,t),fn(t);break;case 13:hn(n,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yf=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hf(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,H=Ii,Z=ge;if(Ii=H||h,ge=Z||C,hn(n,t),ge=Z,Ii=H,fn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Ii||ge||va(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(d=C.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=C.stateNode;var tt=C.memoizedProps.style,G=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(F){$t(C,C.return,F)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(F){$t(C,C.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,hf(t,a))));break;case 19:hn(n,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hf(t,l)));break;case 30:break;case 21:break;default:hn(n,t),fn(t)}}function fn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Gp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=of(t);Su(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(En(E,""),a.flags&=-33);var b=of(t);Su(t,b,E);break;case 3:case 4:var C=a.stateNode.containerInfo,H=of(t);uf(t,H,C);break;default:throw Error(s(161))}}catch(Z){$t(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Jp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Jp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function hr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yp(t,n.alternate,n),n=n.sibling}function va(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:cr(4,n,n.return),va(n);break;case 1:ii(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&qp(n,n.return,a),va(n);break;case 27:ql(n.stateNode);case 26:case 5:ii(n,n.return),va(n);break;case 22:n.memoizedState===null&&va(n);break;case 30:va(n);break;default:va(n)}t=t.sibling}}function fr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,E=d.flags;switch(d.tag){case 0:case 11:case 15:fr(h,d,a),Vl(4,d);break;case 1:if(fr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){$t(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Cg(C[h],b)}catch(H){$t(l,l.return,H)}}a&&E&64&&jp(d),Ml(d,d.return);break;case 27:Qp(d);case 26:case 5:fr(h,d,a),a&&l===null&&E&4&&Hp(d),Ml(d,d.return);break;case 12:fr(h,d,a);break;case 13:fr(h,d,a),a&&E&4&&$p(h,d);break;case 22:d.memoizedState===null&&fr(h,d,a),Ml(d,d.return);break;case 30:break;default:fr(h,d,a)}n=n.sibling}}function ff(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&_l(a))}function df(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&_l(t))}function ri(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wp(t,n,a,l),n=n.sibling}function Wp(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ri(t,n,a,l),h&2048&&Vl(9,n);break;case 1:ri(t,n,a,l);break;case 3:ri(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&_l(t)));break;case 12:if(h&2048){ri(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){$t(n,n.return,C)}}else ri(t,n,a,l);break;case 13:ri(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,E=n.alternate,n.memoizedState!==null?d._visibility&2?ri(t,n,a,l):Ol(t,n):d._visibility&2?ri(t,n,a,l):(d._visibility|=2,fs(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&ff(E,n);break;case 24:ri(t,n,a,l),h&2048&&df(n.alternate,n);break;default:ri(t,n,a,l)}}function fs(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,E=n,b=a,C=l,H=E.flags;switch(E.tag){case 0:case 11:case 15:fs(d,E,b,C,h),Vl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?fs(d,E,b,C,h):Ol(d,E):(Z._visibility|=2,fs(d,E,b,C,h)),h&&H&2048&&ff(E.alternate,E);break;case 24:fs(d,E,b,C,h),h&&H&2048&&df(E.alternate,E);break;default:fs(d,E,b,C,h)}n=n.sibling}}function Ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Ol(a,l),h&2048&&ff(l.alternate,l);break;case 24:Ol(a,l),h&2048&&df(l.alternate,l);break;default:Ol(a,l)}n=n.sibling}}var Ll=8192;function ds(t){if(t.subtreeFlags&Ll)for(t=t.child;t!==null;)ty(t),t=t.sibling}function ty(t){switch(t.tag){case 26:ds(t),t.flags&Ll&&t.memoizedState!==null&&gT(kn,t.memoizedState,t.memoizedProps);break;case 5:ds(t);break;case 3:case 4:var n=kn;kn=Uu(t.stateNode.containerInfo),ds(t),kn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ll,Ll=16777216,ds(t),Ll=n):ds(t));break;default:ds(t)}}function ey(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Pl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,iy(l,t)}ey(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ny(t),t=t.sibling}function ny(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&cr(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ru(t)):Pl(t);break;default:Pl(t)}}function Ru(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,iy(l,t)}ey(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:cr(8,n,n.return),Ru(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ru(n));break;default:Ru(n)}t=t.sibling}}function iy(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:cr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else t:for(a=t;Ie!==null;){l=Ie;var h=l.sibling,d=l.return;if(Kp(l),l===a){Ie=null;break t}if(h!==null){h.return=d,Ie=h;break t}Ie=d}}}var IE={getCacheForType:function(t){var n=Ge(Re),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},VE=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,xt=null,Ot=0,Ht=0,dn=null,dr=!1,ms=!1,mf=!1,Mi=0,ue=0,mr=0,Ea=0,gf=0,Cn=0,gs=0,Ul=null,an=null,pf=!1,yf=0,wu=1/0,Cu=null,gr=null,Ue=0,pr=null,ps=null,ys=0,_f=0,vf=null,ry=null,Bl=0,Ef=null;function mn(){if((qt&2)!==0&&Ot!==0)return Ot&-Ot;if($.T!==null){var t=rs;return t!==0?t:Cf()}return gi()}function ay(){Cn===0&&(Cn=(Ot&536870912)===0||zt?Ks():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Cn}function gn(t,n,a){(t===Wt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(_s(t,0),yr(t,Ot,Cn,!1)),ce(t,a),((qt&2)===0||t!==Wt)&&(t===Wt&&((qt&2)===0&&(Ea|=a),ue===4&&yr(t,Ot,Cn,!1)),ai(t))}function sy(t,n,a){if((qt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Hi(t,n),h=l?LE(t,n):Af(t,n,!0),d=l;do{if(h===0){ms&&!l&&yr(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!ME(a)){h=Af(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;t:{var b=t;h=Ul;var C=b.current.memoizedState.isDehydrated;if(C&&(_s(b,E).flags|=256),E=Af(b,E,!1),E!==2){if(mf&&!C){b.errorRecoveryDisabledLanes|=d,Ea|=d,h=4;break t}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){_s(t,0),yr(t,n,0,!0);break}t:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:yr(l,n,Cn,!dr);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=yf+300-en(),10<h)){if(yr(l,n,Cn,!dr),_n(l,0,!0)!==0)break t;l.timeoutHandle=Ly(ly.bind(null,l,a,an,Cu,pf,n,Cn,Ea,gs,dr,d,2,-0,0),h);break t}ly(l,a,an,Cu,pf,n,Cn,Ea,gs,dr,d,0,-0,0)}}break}while(!0);ai(t)}function ly(t,n,a,l,h,d,E,b,C,H,Z,tt,G,F){if(t.timeoutHandle=-1,tt=n.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:mT},ty(n),tt=pT(),tt!==null)){t.cancelPendingCommit=tt(my.bind(null,t,n,d,a,l,h,E,b,C,Z,1,G,F)),yr(t,d,E,!H);return}my(t,n,d,a,l,h,E,b,C)}function ME(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function yr(t,n,a,l){n&=~gf,n&=~Ea,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-Xe(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&Qi(t,a,n)}function Du(){return(qt&6)===0?(zl(0),!1):!0}function Tf(){if(xt!==null){if(Ht===0)var t=xt.return;else t=xt,Ri=ma=null,Uh(t),cs=null,xl=0,t=xt;for(;t!==null;)kp(t.alternate,t),t=t.return;xt=null}}function _s(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ZE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Tf(),Wt=t,xt=a=bi(t.current,null),Ot=n,Ht=0,dn=null,dr=!1,ms=Hi(t,n),mf=!1,gs=Cn=gf=Ea=mr=ue=0,an=Ul=null,pf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Xe(l),d=1<<h;n|=t[h],l&=~d}return Mi=n,$o(),a}function oy(t,n){Ct=null,$.H=gu,n===El||n===au?(n=Rg(),Ht=3):n===bg?(n=Rg(),Ht=4):Ht=n===wp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,xt===null&&(ue=1,Eu(t,bn(n,t.current)))}function uy(){var t=$.H;return $.H=gu,t===null?gu:t}function cy(){var t=$.A;return $.A=IE,t}function bf(){ue=4,dr||(Ot&4194048)!==Ot&&wn.current!==null||(ms=!0),(mr&134217727)===0&&(Ea&134217727)===0||Wt===null||yr(Wt,Ot,Cn,!1)}function Af(t,n,a){var l=qt;qt|=2;var h=uy(),d=cy();(Wt!==t||Ot!==n)&&(Cu=null,_s(t,n)),n=!1;var E=ue;t:do try{if(Ht!==0&&xt!==null){var b=xt,C=dn;switch(Ht){case 8:Tf(),E=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var H=Ht;if(Ht=0,dn=null,vs(t,b,C,H),a&&ms){E=0;break t}break;default:H=Ht,Ht=0,dn=null,vs(t,b,C,H)}}OE(),E=ue;break}catch(Z){oy(t,Z)}while(!0);return n&&t.shellSuspendCounter++,Ri=ma=null,qt=l,$.H=h,$.A=d,xt===null&&(Wt=null,Ot=0,$o()),E}function OE(){for(;xt!==null;)hy(xt)}function LE(t,n){var a=qt;qt|=2;var l=uy(),h=cy();Wt!==t||Ot!==n?(Cu=null,wu=en()+500,_s(t,n)):ms=Hi(t,n);t:do try{if(Ht!==0&&xt!==null){n=xt;var d=dn;e:switch(Ht){case 1:Ht=0,dn=null,vs(t,n,d,1);break;case 2:case 9:if(Ag(d)){Ht=0,dn=null,fy(n);break}n=function(){Ht!==2&&Ht!==9||Wt!==t||(Ht=7),ai(t)},d.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:Ag(d)?(Ht=0,dn=null,fy(n)):(Ht=0,dn=null,vs(t,n,d,7));break;case 5:var E=null;switch(xt.tag){case 26:E=xt.memoizedState;case 5:case 27:var b=xt;if(!E||Yy(E)){Ht=0,dn=null;var C=b.sibling;if(C!==null)xt=C;else{var H=b.return;H!==null?(xt=H,xu(H)):xt=null}break e}}Ht=0,dn=null,vs(t,n,d,5);break;case 6:Ht=0,dn=null,vs(t,n,d,6);break;case 8:Tf(),ue=6;break t;default:throw Error(s(462))}}PE();break}catch(Z){oy(t,Z)}while(!0);return Ri=ma=null,$.H=l,$.A=h,qt=a,xt!==null?0:(Wt=null,Ot=0,$o(),ue)}function PE(){for(;xt!==null&&!$c();)hy(xt)}function hy(t){var n=Bp(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,n===null?xu(t):xt=n}function fy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Vp(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Vp(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Uh(n);default:kp(a,n),n=xt=dg(n,Mi),n=Bp(a,n,Mi)}t.memoizedProps=t.pendingProps,n===null?xu(t):xt=n}function vs(t,n,a,l){Ri=ma=null,Uh(n),cs=null,xl=0;var h=n.return;try{if(RE(t,h,n,a,Ot)){ue=1,Eu(t,bn(a,t.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;ue=1,Eu(t,bn(a,t.current)),xt=null;return}n.flags&32768?(zt||l===1?t=!0:ms||(Ot&536870912)!==0?t=!1:(dr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),dy(n,t)):xu(n)}function xu(t){var n=t;do{if((n.flags&32768)!==0){dy(n,dr);return}t=n.return;var a=CE(n.alternate,n,Mi);if(a!==null){xt=a;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=t}while(n!==null);ue===0&&(ue=5)}function dy(t,n){do{var a=DE(t.alternate,t);if(a!==null){a.flags&=32767,xt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){xt=t;return}xt=t=a}while(t!==null);ue=6,xt=null}function my(t,n,a,l,h,d,E,b,C){t.cancelPendingCommit=null;do Nu();while(Ue!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=fh,Mo(t,a,d,E,b,C),t===Wt&&(xt=Wt=null,Ot=0),ps=n,pr=t,ys=a,_f=d,vf=h,ry=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kE(mi,function(){return vy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=lt.p,lt.p=2,E=qt,qt|=4;try{xE(t,n,a)}finally{qt=E,lt.p=h,$.T=l}}Ue=1,gy(),py(),yy()}}function gy(){if(Ue===1){Ue=0;var t=pr,n=ps,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=lt.p;lt.p=2;var h=qt;qt|=4;try{Zp(n,t);var d=Lf,E=ig(t.containerInfo),b=d.focusedElem,C=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&ng(b.ownerDocument.documentElement,b)){if(C!==null&&lh(b)){var H=C.start,Z=C.end;if(Z===void 0&&(Z=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(Z,b.value.length);else{var tt=b.ownerDocument||document,G=tt&&tt.defaultView||window;if(G.getSelection){var F=G.getSelection(),Tt=b.textContent.length,yt=Math.min(C.start,Tt),Xt=C.end===void 0?yt:Math.min(C.end,Tt);!F.extend&&yt>Xt&&(E=Xt,Xt=yt,yt=E);var U=eg(b,yt),M=eg(b,Xt);if(U&&M&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var j=tt.createRange();j.setStart(U.node,U.offset),F.removeAllRanges(),yt>Xt?(F.addRange(j),F.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),F.addRange(j))}}}}for(tt=[],F=b;F=F.parentNode;)F.nodeType===1&&tt.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<tt.length;b++){var J=tt[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}qu=!!Of,Lf=Of=null}finally{qt=h,lt.p=l,$.T=a}}t.current=n,Ue=2}}function py(){if(Ue===2){Ue=0;var t=pr,n=ps,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=lt.p;lt.p=2;var h=qt;qt|=4;try{Yp(t,n.alternate,n)}finally{qt=h,lt.p=l,$.T=a}}Ue=3}}function yy(){if(Ue===4||Ue===3){Ue=0,Fs();var t=pr,n=ps,a=ys,l=ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,ps=pr=null,_y(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(gr=null),$s(a),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(ji,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=$.T,h=lt.p,lt.p=2,$.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{$.T=n,lt.p=h}}(ys&3)!==0&&Nu(),ai(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Ef?Bl++:(Bl=0,Ef=t):Bl=0,zl(0)}}function _y(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,_l(n)))}function Nu(t){return gy(),py(),yy(),vy()}function vy(){if(Ue!==5)return!1;var t=pr,n=_f;_f=0;var a=$s(ys),l=$.T,h=lt.p;try{lt.p=32>a?32:a,$.T=null,a=vf,vf=null;var d=pr,E=ys;if(Ue=0,ps=pr=null,ys=0,(qt&6)!==0)throw Error(s(331));var b=qt;if(qt|=4,ny(d.current),Wp(d,d.current,E,a),qt=b,zl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(ji,d)}catch{}return!0}finally{lt.p=h,$.T=l,_y(t,n)}}function Ey(t,n,a){n=bn(a,n),n=Zh(t.stateNode,n,2),t=sr(t,n,2),t!==null&&(ce(t,2),ai(t))}function $t(t,n,a){if(t.tag===3)Ey(t,t,a);else for(;n!==null;){if(n.tag===3){Ey(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(gr===null||!gr.has(l))){t=bn(a,t),a=Sp(2),l=sr(n,a,2),l!==null&&(Rp(a,l,n,t),ce(l,2),ai(l));break}}n=n.return}}function Sf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new VE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(mf=!0,h.add(a),t=UE.bind(null,t,n,a),n.then(t,t))}function UE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(Ot&a)===a&&(ue===4||ue===3&&(Ot&62914560)===Ot&&300>en()-yf?(qt&2)===0&&_s(t,0):gf|=a,gs===Ot&&(gs=0)),ai(t)}function Ty(t,n){n===0&&(n=Gi()),t=ts(t,n),t!==null&&(ce(t,n),ai(t))}function BE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ty(t,a)}function zE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Ty(t,a)}function kE(t,n){return zr(t,n)}var Iu=null,Es=null,Rf=!1,Vu=!1,wf=!1,Ta=0;function ai(t){t!==Es&&t.next===null&&(Es===null?Iu=Es=t:Es=Es.next=t),Vu=!0,Rf||(Rf=!0,qE())}function zl(t,n){if(!wf&&Vu){wf=!0;do for(var a=!1,l=Iu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Xe(42|t)+1)-1,d&=h&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ry(l,d))}else d=Ot,d=_n(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hi(l,d)||(a=!0,Ry(l,d));l=l.next}while(a);wf=!1}}function jE(){by()}function by(){Vu=Rf=!1;var t=0;Ta!==0&&($E()&&(t=Ta),Ta=0);for(var n=en(),a=null,l=Iu;l!==null;){var h=l.next,d=Ay(l,n);d===0?(l.next=null,a===null?Iu=h:a.next=h,h===null&&(Es=a)):(a=l,(t!==0||(d&3)!==0)&&(Vu=!0)),l=h}zl(t)}function Ay(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Xe(d),b=1<<E,C=h[E];C===-1?((b&a)===0||(b&l)!==0)&&(h[E]=Ua(b,n)):C<=n&&(t.expiredLanes|=b),d&=~b}if(n=Wt,a=Ot,a=_n(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Pa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Pa(l),$s(a)){case 2:case 8:a=De;break;case 32:a=mi;break;case 268435456:a=Ys;break;default:a=mi}return l=Sy.bind(null,t),a=zr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Pa(l),t.callbackPriority=2,t.callbackNode=null,2}function Sy(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nu()&&t.callbackNode!==a)return null;var l=Ot;return l=_n(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sy(t,l,n),Ay(t,en()),t.callbackNode!=null&&t.callbackNode===a?Sy.bind(null,t):null)}function Ry(t,n){if(Nu())return null;sy(t,n,!0)}function qE(){JE(function(){(qt&6)!==0?zr(Ae,jE):by()})}function Cf(){return Ta===0&&(Ta=Ks()),Ta}function wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ln(""+t)}function Cy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function HE(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=wy((h[Le]||null).action),E=l.submitter;E&&(n=(n=E[Le]||null)?wy(n.formAction):E.getAttribute("formAction"),n!==null&&(d=n,E=null));var b=new ta("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ta!==0){var C=E?Cy(h,E):new FormData(h);Fh(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=E?Cy(h,E):new FormData(h),Fh(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Df=0;Df<hh.length;Df++){var xf=hh[Df],GE=xf.toLowerCase(),QE=xf[0].toUpperCase()+xf.slice(1);zn(GE,"on"+QE)}zn(sg,"onAnimationEnd"),zn(lg,"onAnimationIteration"),zn(og,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(oE,"onTransitionRun"),zn(uE,"onTransitionStart"),zn(cE,"onTransitionCancel"),zn(ug,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function Dy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var E=l.length-1;0<=E;E--){var b=l[E],C=b.instance,H=b.currentTarget;if(b=b.listener,C!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=H;try{d(h)}catch(Z){vu(Z)}h.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(b=l[E],C=b.instance,H=b.currentTarget,b=b.listener,C!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=H;try{d(h)}catch(Z){vu(Z)}h.currentTarget=null,d=C}}}}function Nt(t,n){var a=n[jr];a===void 0&&(a=n[jr]=new Set);var l=t+"__bubble";a.has(l)||(xy(n,t,2,!1),a.add(l))}function Nf(t,n,a){var l=0;n&&(l|=4),xy(a,t,l,n)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function If(t){if(!t[Mu]){t[Mu]=!0,Oo.forEach(function(a){a!=="selectionchange"&&(FE.has(a)||Nf(a,!1,t),Nf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Mu]||(n[Mu]=!0,Nf("selectionchange",!1,n))}}function xy(t,n,a,l){switch(Wy(n)){case 2:var h=vT;break;case 8:h=ET;break;default:h=Qf}a=h.bind(null,n,a,t),h=void 0,!Ei||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Vf(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;b!==null;){if(E=Kn(b),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue t}b=b.parentNode}}l=l.return}Zr(function(){var H=d,Z=il(a),tt=[];t:{var G=cg.get(t);if(G!==void 0){var F=ta,Tt=t;switch(t){case"keypress":if(Jr(a)===0)break t;case"keydown":case"keyup":F=$a;break;case"focusin":Tt="focus",F=Ya;break;case"focusout":Tt="blur",F=Ya;break;case"beforeblur":case"afterblur":F=Ya;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=nr;break;case sg:case lg:case og:F=al;break;case ug:F=y;break;case"scroll":case"scrollend":F=na;break;case"wheel":F=S;break;case"copy":case"cut":case"paste":F=Ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ol;break;case"toggle":case"beforetoggle":F=K}var yt=(n&4)!==0,Xt=!yt&&(t==="scroll"||t==="scrollend"),U=yt?G!==null?G+"Capture":null:G;yt=[];for(var M=H,j;M!==null;){var J=M;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||U===null||(J=tr(M,U),J!=null&&yt.push(jl(M,J,j))),Xt)break;M=M.return}0<yt.length&&(G=new F(G,Tt,null,a,Z),tt.push({event:G,listeners:yt}))}}if((n&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",G&&a!==nl&&(Tt=a.relatedTarget||a.fromElement)&&(Kn(Tt)||Tt[pi]))break t;if((F||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,F?(Tt=a.relatedTarget||a.toElement,F=H,Tt=Tt?Kn(Tt):null,Tt!==null&&(Xt=u(Tt),yt=Tt.tag,Tt!==Xt||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(F=null,Tt=H),F!==Tt)){if(yt=aa,J="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(yt=ol,J="onPointerLeave",U="onPointerEnter",M="pointer"),Xt=F==null?G:Ki(F),j=Tt==null?G:Ki(Tt),G=new yt(J,M+"leave",F,a,Z),G.target=Xt,G.relatedTarget=j,J=null,Kn(Z)===H&&(yt=new yt(U,M+"enter",Tt,a,Z),yt.target=j,yt.relatedTarget=Xt,J=yt),Xt=J,F&&Tt)e:{for(yt=F,U=Tt,M=0,j=yt;j;j=Ts(j))M++;for(j=0,J=U;J;J=Ts(J))j++;for(;0<M-j;)yt=Ts(yt),M--;for(;0<j-M;)U=Ts(U),j--;for(;M--;){if(yt===U||U!==null&&yt===U.alternate)break e;yt=Ts(yt),U=Ts(U)}yt=null}else yt=null;F!==null&&Ny(tt,G,F,yt,!1),Tt!==null&&Xt!==null&&Ny(tt,Xt,Tt,yt,!0)}}t:{if(G=H?Ki(H):window,F=G.nodeName&&G.nodeName.toLowerCase(),F==="select"||F==="input"&&G.type==="file")var ht=Xm;else if(Ym(G))if($m)ht=aE;else{ht=iE;var Dt=nE}else F=G.nodeName,!F||F.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Ga(H.elementType)&&(ht=Xm):ht=rE;if(ht&&(ht=ht(t,H))){Km(tt,ht,a,Z);break t}Dt&&Dt(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Ws(G,"number",G.value)}switch(Dt=H?Ki(H):window,t){case"focusin":(Ym(Dt)||Dt.contentEditable==="true")&&(Za=Dt,oh=H,dl=null);break;case"focusout":dl=oh=Za=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,rg(tt,a,Z);break;case"selectionchange":if(lE)break;case"keydown":case"keyup":rg(tt,a,Z)}var ft;if(St)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Bn?Pn(t,a)&&(_t="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(de&&a.locale!=="ko"&&(Bn||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Bn&&(ft=ko()):(Tn=Z,Jt="value"in Tn?Tn.value:Tn.textContent,Bn=!0)),Dt=Ou(H,_t),0<Dt.length&&(_t=new ll(_t,t,null,a,Z),tt.push({event:_t,listeners:Dt}),ft?_t.data=ft:(ft=Un(a),ft!==null&&(_t.data=ft)))),(ft=jt?ul(t,a):W1(t,a))&&(_t=Ou(H,"onBeforeInput"),0<_t.length&&(Dt=new ll("onBeforeInput","beforeinput",null,a,Z),tt.push({event:Dt,listeners:_t}),Dt.data=ft)),HE(tt,t,H,a,Z)}Dy(tt,n)})}function jl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ou(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=tr(t,a),h!=null&&l.unshift(jl(t,h,d)),h=tr(t,n),h!=null&&l.push(jl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ny(t,n,a,l,h){for(var d=n._reactName,E=[];a!==null&&a!==l;){var b=a,C=b.alternate,H=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||H===null||(C=H,h?(H=tr(a,d),H!=null&&E.unshift(jl(a,H,C))):h||(H=tr(a,d),H!=null&&E.push(jl(a,H,C)))),a=a.return}E.length!==0&&t.push({event:n,listeners:E})}var YE=/\r\n?/g,KE=/\u0000|\uFFFD/g;function Iy(t){return(typeof t=="string"?t:""+t).replace(YE,`
`).replace(KE,"")}function Vy(t,n){return n=Iy(n),Iy(t)===n}function Lu(){}function Kt(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&En(t,""+l);break;case"className":Fr(t,"class",l);break;case"tabIndex":Fr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fr(t,a,l);break;case"style":el(t,l,d);break;case"data":if(n!=="object"){Fr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ln(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",h.name,h,null),Kt(t,n,"formEncType",h.formEncType,h,null),Kt(t,n,"formMethod",h.formMethod,h,null),Kt(t,n,"formTarget",h.formTarget,h,null)):(Kt(t,n,"encType",h.encType,h,null),Kt(t,n,"method",h.method,h,null),Kt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ln(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Lu);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ln(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),Qr(t,"popover",l);break;case"xlinkActuate":vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uo.get(a)||a,Qr(t,a,l))}}function Mf(t,n,a,l,h,d){switch(a){case"style":el(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Lu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Qr(t,a,l)}}}function Be(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,d,E,a,null)}}h&&Kt(t,n,"srcSet",a.srcSet,a,null),l&&Kt(t,n,"src",a.src,a,null);return;case"input":Nt("invalid",t);var b=d=E=h=null,C=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":E=Z;break;case"checked":C=Z;break;case"defaultChecked":H=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Kt(t,n,l,Z,a,null)}}Js(t,d,b,C,H,E,h,!1),Zi(t);return;case"select":Nt("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:Kt(t,n,h,b,a,null)}n=d,a=E,t.multiple=!!l,n!=null?Ji(t,!!l,n,!1):a!=null&&Ji(t,!!l,a,!0);return;case"textarea":Nt("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Kt(t,n,E,b,a,null)}Po(t,l,h,d),Zi(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,C,l,a,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)Nt(kl[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,H,l,a,null)}return;default:if(Ga(n)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Mf(t,n,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Kt(t,n,b,l,a,null))}function XE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,b=null,C=null,H=null,Z=null;for(F in a){var tt=a[F];if(a.hasOwnProperty(F)&&tt!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=tt;default:l.hasOwnProperty(F)||Kt(t,n,F,null,l,tt)}}for(var G in l){var F=l[G];if(tt=a[G],l.hasOwnProperty(G)&&(F!=null||tt!=null))switch(G){case"type":d=F;break;case"name":h=F;break;case"checked":H=F;break;case"defaultChecked":Z=F;break;case"value":E=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==tt&&Kt(t,n,G,F,l,tt)}}Zs(t,E,b,C,H,Z,d,h);return;case"select":F=E=b=G=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||Kt(t,n,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==C&&Kt(t,n,h,d,l,C)}n=b,a=E,l=F,G!=null?Ji(t,!!a,G,!1):!!l!=!!a&&(n!=null?Ji(t,!!a,n,!0):Ji(t,!!a,a?[]:"",!1));return;case"textarea":F=G=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Kt(t,n,b,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":G=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Kt(t,n,E,h,l,d)}Lo(t,G,F);return;case"option":for(var Tt in a)if(G=a[Tt],a.hasOwnProperty(Tt)&&G!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:Kt(t,n,Tt,null,l,G)}for(C in l)if(G=l[C],F=a[C],l.hasOwnProperty(C)&&G!==F&&(G!=null||F!=null))switch(C){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Kt(t,n,C,G,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)G=a[yt],a.hasOwnProperty(yt)&&G!=null&&!l.hasOwnProperty(yt)&&Kt(t,n,yt,null,l,G);for(H in l)if(G=l[H],F=a[H],l.hasOwnProperty(H)&&G!==F&&(G!=null||F!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Kt(t,n,H,G,l,F)}return;default:if(Ga(n)){for(var Xt in a)G=a[Xt],a.hasOwnProperty(Xt)&&G!==void 0&&!l.hasOwnProperty(Xt)&&Mf(t,n,Xt,void 0,l,G);for(Z in l)G=l[Z],F=a[Z],!l.hasOwnProperty(Z)||G===F||G===void 0&&F===void 0||Mf(t,n,Z,G,l,F);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&Kt(t,n,U,null,l,G);for(tt in l)G=l[tt],F=a[tt],!l.hasOwnProperty(tt)||G===F||G==null&&F==null||Kt(t,n,tt,G,l,F)}var Of=null,Lf=null;function Pu(t){return t.nodeType===9?t:t.ownerDocument}function My(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Oy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Pf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Uf=null;function $E(){var t=window.event;return t&&t.type==="popstate"?t===Uf?!1:(Uf=t,!0):(Uf=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,ZE=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,JE=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(t){return Py.resolve(null).then(t).catch(WE)}:Ly;function WE(t){setTimeout(function(){throw t})}function _r(t){return t==="head"}function Uy(t,n){var a=n,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&ql(E.documentElement),a&2&&ql(E.body),a&4)for(a=E.head,ql(a),E=a.firstChild;E;){var b=E.nextSibling,C=E.nodeName;E[Yi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(h===0){t.removeChild(d),$l(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);$l(n)}function Bf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bf(a),za(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Yi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function eT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function zf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function nT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var kf=null;function By(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function zy(t,n,a){switch(n=Pu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ql(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);za(t)}var Dn=new Map,ky=new Set;function Uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=lt.d;lt.d={f:iT,r:rT,D:aT,C:sT,L:lT,m:oT,X:cT,S:uT,M:hT};function iT(){var t=Oi.f(),n=Du();return t||n}function rT(t){var n=Xn(t);n!==null&&n.tag===5&&n.type==="form"?sp(n):Oi.r(t)}var bs=typeof document>"u"?null:document;function jy(t,n,a){var l=bs;if(l&&typeof n=="string"&&n){var h=xe(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ky.has(h)||(ky.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Be(n,"link",t),fe(n),l.head.appendChild(n)))}}function aT(t){Oi.D(t),jy("dns-prefetch",t,null)}function sT(t,n){Oi.C(t,n),jy("preconnect",t,n)}function lT(t,n,a){Oi.L(t,n,a);var l=bs;if(l&&t&&n){var h='link[rel="preload"][as="'+xe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+xe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+xe(a.imageSizes)+'"]')):h+='[href="'+xe(t)+'"]';var d=h;switch(n){case"style":d=As(t);break;case"script":d=Ss(t)}Dn.has(d)||(t=_({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Hl(d))||n==="script"&&l.querySelector(Gl(d))||(n=l.createElement("link"),Be(n,"link",t),fe(n),l.head.appendChild(n)))}}function oT(t,n){Oi.m(t,n);var a=bs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+xe(l)+'"][href="'+xe(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ss(t)}if(!Dn.has(d)&&(t=_({rel:"modulepreload",href:t},n),Dn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(d)))return}l=a.createElement("link"),Be(l,"link",t),fe(l),a.head.appendChild(l)}}}function uT(t,n,a){Oi.S(t,n,a);var l=bs;if(l&&t){var h=Xi(l).hoistableStyles,d=As(t);n=n||"default";var E=h.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Hl(d)))b.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(d))&&jf(t,a);var C=E=l.createElement("link");fe(C),Be(C,"link",t),C._p=new Promise(function(H,Z){C.onload=H,C.onerror=Z}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Bu(E,n,l)}E={type:"stylesheet",instance:E,count:1,state:b},h.set(d,E)}}}function cT(t,n){Oi.X(t,n);var a=bs;if(a&&t){var l=Xi(a).hoistableScripts,h=Ss(t),d=l.get(h);d||(d=a.querySelector(Gl(h)),d||(t=_({src:t,async:!0},n),(n=Dn.get(h))&&qf(t,n),d=a.createElement("script"),fe(d),Be(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function hT(t,n){Oi.M(t,n);var a=bs;if(a&&t){var l=Xi(a).hoistableScripts,h=Ss(t),d=l.get(h);d||(d=a.querySelector(Gl(h)),d||(t=_({src:t,async:!0,type:"module"},n),(n=Dn.get(h))&&qf(t,n),d=a.createElement("script"),fe(d),Be(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function qy(t,n,a,l){var h=(h=Et.current)?Uu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=As(a.href),a=Xi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=As(a.href);var d=Xi(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Hl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),d||fT(h,t,a,E.state))),n&&l===null)throw Error(s(528,""));return E}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ss(a),a=Xi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function As(t){return'href="'+xe(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function Hy(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function fT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",a),fe(n),t.head.appendChild(n))}function Ss(t){return'[src="'+xe(t)+'"]'}function Gl(t){return"script[async]"+t}function Gy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+xe(a.href)+'"]');if(l)return n.instance=l,fe(l),l;var h=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),fe(l),Be(l,"style",h),Bu(l,a.precedence,t),n.instance=l;case"stylesheet":h=As(a.href);var d=t.querySelector(Hl(h));if(d)return n.state.loading|=4,n.instance=d,fe(d),d;l=Hy(a),(h=Dn.get(h))&&jf(l,h),d=(t.ownerDocument||t).createElement("link"),fe(d);var E=d;return E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),Be(d,"link",l),n.state.loading|=4,Bu(d,a.precedence,t),n.instance=d;case"script":return d=Ss(a.src),(h=t.querySelector(Gl(d)))?(n.instance=h,fe(h),h):(l=a,(h=Dn.get(d))&&(l=_({},a),qf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),fe(h),Be(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Bu(l,a.precedence,t));return n.instance}function Bu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===n)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function jf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var zu=null;function Qy(t,n,a){if(zu===null){var l=new Map,h=zu=new Map;h.set(a,l)}else h=zu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Yi]||d[he]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(n)||"";E=t+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function Fy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function dT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Yy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ql=null;function mT(){}function gT(t,n,a){if(Ql===null)throw Error(s(475));var l=Ql;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=As(a.href),d=t.querySelector(Hl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=ku.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,fe(d);return}d=t.ownerDocument||t,a=Hy(a),(h=Dn.get(h))&&jf(a,h),d=d.createElement("link"),fe(d);var E=d;E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),Be(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ku.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function pT(){if(Ql===null)throw Error(s(475));var t=Ql;return t.stylesheets&&t.count===0&&Hf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Hf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function ku(){if(this.count--,this.count===0){if(this.stylesheets)Hf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ju=null;function Hf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ju=new Map,n.forEach(yT,t),ju=null,ku.call(t))}function yT(t,n){if(!(n.state.loading&4)){var a=ju.get(t);if(a)var l=a.get(null);else{a=new Map,ju.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=n.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Fl={$$typeof:it,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function _T(t,n,a,l,h,d,E,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ba(0),this.hiddenUpdates=Ba(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Ky(t,n,a,l,h,d,E,b,C,H,Z,tt){return t=new _T(t,n,a,E,b,C,H,tt),n=1,d===!0&&(n|=24),d=cn(3,null,null,n),t.current=d,d.stateNode=t,n=Ah(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Ch(d),t}function Xy(t){return t?(t=es,t):es}function $y(t,n,a,l,h,d){h=Xy(h),l.context===null?l.context=h:l.pendingContext=h,l=ar(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=sr(t,l,n),a!==null&&(gn(a,t,n),bl(a,t,n))}function Zy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Gf(t,n){Zy(t,n),(t=t.alternate)&&Zy(t,n)}function Jy(t){if(t.tag===13){var n=ts(t,67108864);n!==null&&gn(n,t,67108864),Gf(t,67108864)}}var qu=!0;function vT(t,n,a,l){var h=$.T;$.T=null;var d=lt.p;try{lt.p=2,Qf(t,n,a,l)}finally{lt.p=d,$.T=h}}function ET(t,n,a,l){var h=$.T;$.T=null;var d=lt.p;try{lt.p=8,Qf(t,n,a,l)}finally{lt.p=d,$.T=h}}function Qf(t,n,a,l){if(qu){var h=Ff(l);if(h===null)Vf(t,n,l,Hu,a),t_(t,l);else if(bT(h,t,n,a,l))l.stopPropagation();else if(t_(t,l),n&4&&-1<TT.indexOf(t)){for(;h!==null;){var d=Xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Vn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var C=1<<31-Xe(E);b.entanglements[1]|=C,E&=~C}ai(d),(qt&6)===0&&(wu=en()+500,zl(0))}}break;case 13:b=ts(d,2),b!==null&&gn(b,d,2),Du(),Gf(d,2)}if(d=Ff(l),d===null&&Vf(t,n,l,Hu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Vf(t,n,l,null,a)}}function Ff(t){return t=il(t),Yf(t)}var Hu=null;function Yf(t){if(Hu=null,t=Kn(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Hu=t,null}function Wy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(No()){case Ae:return 2;case De:return 8;case mi:case Zc:return 32;case Ys:return 268435456;default:return 32}default:return 32}}var Kf=!1,vr=null,Er=null,Tr=null,Yl=new Map,Kl=new Map,br=[],TT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t_(t,n){switch(t){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(n.pointerId)}}function Xl(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Xn(n),n!==null&&Jy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function bT(t,n,a,l,h){switch(n){case"focusin":return vr=Xl(vr,t,n,a,l,h),!0;case"dragenter":return Er=Xl(Er,t,n,a,l,h),!0;case"mouseover":return Tr=Xl(Tr,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return Yl.set(d,Xl(Yl.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Kl.set(d,Xl(Kl.get(d)||null,t,n,a,l,h)),!0}return!1}function e_(t){var n=Kn(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,th(t.priority,function(){if(a.tag===13){var l=mn();l=Xs(l);var h=ts(a,l);h!==null&&gn(h,a,l),Gf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Ff(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);nl=l,a.target.dispatchEvent(l),nl=null}else return n=Xn(a),n!==null&&Jy(n),t.blockedOn=a,!1;n.shift()}return!0}function n_(t,n,a){Gu(t)&&a.delete(n)}function AT(){Kf=!1,vr!==null&&Gu(vr)&&(vr=null),Er!==null&&Gu(Er)&&(Er=null),Tr!==null&&Gu(Tr)&&(Tr=null),Yl.forEach(n_),Kl.forEach(n_)}function Qu(t,n){t.blockedOn===n&&(t.blockedOn=null,Kf||(Kf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,AT)))}var Fu=null;function i_(t){Fu!==t&&(Fu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Yf(l||a)===null)continue;break}var d=Xn(a);d!==null&&(t.splice(n,3),n-=3,Fh(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function $l(t){function n(C){return Qu(C,t)}vr!==null&&Qu(vr,t),Er!==null&&Qu(Er,t),Tr!==null&&Qu(Tr,t),Yl.forEach(n),Kl.forEach(n);for(var a=0;a<br.length;a++){var l=br[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<br.length&&(a=br[0],a.blockedOn===null);)e_(a),a.blockedOn===null&&br.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[Le]||null;if(typeof d=="function")E||i_(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Le]||null)b=E.formAction;else if(Yf(h)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),i_(a)}}}function Xf(t){this._internalRoot=t}Yu.prototype.render=Xf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=mn();$y(a,l,t,n,null,null)},Yu.prototype.unmount=Xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;$y(t.current,2,null,t,null,null),Du(),n[pi]=null}};function Yu(t){this._internalRoot=t}Yu.prototype.unstable_scheduleHydration=function(t){if(t){var n=gi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<br.length&&n!==0&&n<br[a].priority;a++);br.splice(a,0,t),a===0&&e_(t)}};var r_=e.version;if(r_!=="19.1.1")throw Error(s(527,r_,"19.1.1"));lt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var ST={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{ji=Ku.inject(ST),qe=Ku}catch{}}return Jl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ep,d=Tp,E=bp,b=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(b=n.unstable_transitionCallbacks)),n=Ky(t,1,!1,null,null,a,l,h,d,E,b,null),t[pi]=n.current,If(t),new Xf(n)},Jl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ep,E=Tp,b=bp,C=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),n=Ky(t,1,!0,n,a??null,l,h,d,E,b,C,H),n.context=Xy(null),a=n.current,l=mn(),l=Xs(l),h=ar(l),h.callback=null,sr(a,h,l),a=l,n.current.lanes=a,ce(n,a),ai(n),t[pi]=n.current,If(t),new Yu(n)},Jl.version="19.1.1",Jl}var m_;function LT(){if(m_)return Jf.exports;m_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jf.exports=OT(),Jf.exports}var PT=LT();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var g_="popstate";function UT(r={}){function e(o,u){let{pathname:f="/",search:g="",hash:p=""}=Na(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Rd("",{pathname:f,search:g,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){let f=o.document.querySelector("base"),g="";if(f&&f.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");g=m===-1?p:p.slice(0,m)}return g+"#"+(typeof u=="string"?u:uo(u))}function s(o,u){Nn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return zT(e,i,s,r)}function re(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Nn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BT(){return Math.random().toString(36).substring(2,10)}function p_(r,e){return{usr:r.state,key:r.key,idx:e}}function Rd(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:i,key:e&&e.key||s||BT()}}function uo({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Na(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function zT(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,g="POP",p=null,m=_();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function _(){return(f.state||{idx:null}).idx}function T(){g="POP";let k=_(),X=k==null?null:k-m;m=k,p&&p({action:g,location:O.location,delta:X})}function A(k,X){g="PUSH";let Q=Rd(O.location,k,X);i&&i(Q,k),m=_()+1;let it=p_(Q,m),pt=O.createHref(Q);try{f.pushState(it,"",pt)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;o.location.assign(pt)}u&&p&&p({action:g,location:O.location,delta:1})}function x(k,X){g="REPLACE";let Q=Rd(O.location,k,X);i&&i(Q,k),m=_();let it=p_(Q,m),pt=O.createHref(Q);f.replaceState(it,"",pt),u&&p&&p({action:g,location:O.location,delta:0})}function L(k){return kT(k)}let O={get action(){return g},get location(){return r(o,f)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(g_,T),p=k,()=>{o.removeEventListener(g_,T),p=null}},createHref(k){return e(o,k)},createURL:L,encodeLocation(k){let X=L(k);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:A,replace:x,go(k){return f.go(k)}};return O}function kT(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),re(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:uo(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Fv(r,e,i="/"){return jT(r,e,i,!1)}function jT(r,e,i,s){let o=typeof e=="string"?Na(e):e,u=Pi(o.pathname||"/",i);if(u==null)return null;let f=Yv(r);qT(f);let g=null;for(let p=0;g==null&&p<f.length;++p){let m=WT(u);g=ZT(f[p],m,s)}return g}function Yv(r,e=[],i=[],s="",o=!1){let u=(f,g,p=o,m)=>{let _={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;re(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=Li([s,_.relativePath]),A=i.concat(_);f.children&&f.children.length>0&&(re(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Yv(f.children,e,A,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:XT(T,f.index),routesMeta:A})};return r.forEach((f,g)=>{if(f.path===""||!f.path?.includes("?"))u(f,g);else for(let p of Kv(f.path))u(f,g,!0,p)}),e}function Kv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=Kv(s.join("/")),g=[];return g.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&g.push(...f),g.map(p=>r.startsWith("/")&&p===""?"/":p)}function qT(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:$T(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var HT=/^:[\w-]+$/,GT=3,QT=2,FT=1,YT=10,KT=-2,y_=r=>r==="*";function XT(r,e){let i=r.split("/"),s=i.length;return i.some(y_)&&(s+=KT),e&&(s+=QT),i.filter(o=>!y_(o)).reduce((o,u)=>o+(HT.test(u)?GT:u===""?FT:YT),s)}function $T(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function ZT(r,e,i=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let g=0;g<s.length;++g){let p=s[g],m=g===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=hc({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),A=p.route;if(!T&&m&&i&&!s[s.length-1].route.index&&(T=hc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Li([u,T.pathname]),pathnameBase:ib(Li([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=Li([u,T.pathnameBase]))}return f}function hc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=JT(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((m,{paramName:_,isOptional:T},A)=>{if(_==="*"){let L=g[A]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const x=g[A];return T&&!x?m[_]=void 0:m[_]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:r}}function JT(r,e=!1,i=!0){Nn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function WT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Pi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function tb(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Na(r):r;return{pathname:i?i.startsWith("/")?i:eb(i,e):e,search:rb(s),hash:ab(o)}}function eb(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function nd(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nb(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Wd(r){let e=nb(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function tm(r,e,i,s=!1){let o;typeof r=="string"?o=Na(r):(o={...r},re(!o.pathname||!o.pathname.includes("?"),nd("?","pathname","search",o)),re(!o.pathname||!o.pathname.includes("#"),nd("#","pathname","hash",o)),re(!o.search||!o.search.includes("#"),nd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,g;if(f==null)g=i;else{let T=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}g=T>=0?e[T]:"/"}let p=tb(o,g),m=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var Li=r=>r.join("/").replace(/\/\/+/g,"/"),ib=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),rb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ab=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function sb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Xv=["POST","PUT","PATCH","DELETE"];new Set(Xv);var lb=["GET",...Xv];new Set(lb);var Bs=Y.createContext(null);Bs.displayName="DataRouter";var xc=Y.createContext(null);xc.displayName="DataRouterState";Y.createContext(!1);var $v=Y.createContext({isTransitioning:!1});$v.displayName="ViewTransition";var ob=Y.createContext(new Map);ob.displayName="Fetchers";var ub=Y.createContext(null);ub.displayName="Await";var Gn=Y.createContext(null);Gn.displayName="Navigation";var To=Y.createContext(null);To.displayName="Location";var Qn=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var em=Y.createContext(null);em.displayName="RouteError";function cb(r,{relative:e}={}){re(zs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Y.useContext(Gn),{hash:o,pathname:u,search:f}=bo(r,{relative:e}),g=u;return i!=="/"&&(g=u==="/"?i:Li([i,u])),s.createHref({pathname:g,search:f,hash:o})}function zs(){return Y.useContext(To)!=null}function Pr(){return re(zs(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(To).location}var Zv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jv(r){Y.useContext(Gn).static||Y.useLayoutEffect(r)}function nm(){let{isDataRoute:r}=Y.useContext(Qn);return r?Sb():hb()}function hb(){re(zs(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(Bs),{basename:e,navigator:i}=Y.useContext(Gn),{matches:s}=Y.useContext(Qn),{pathname:o}=Pr(),u=JSON.stringify(Wd(s)),f=Y.useRef(!1);return Jv(()=>{f.current=!0}),Y.useCallback((p,m={})=>{if(Nn(f.current,Zv),!f.current)return;if(typeof p=="number"){i.go(p);return}let _=tm(p,JSON.parse(u),o,m.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Li([e,_.pathname])),(m.replace?i.replace:i.push)(_,m.state,m)},[e,i,u,o,r])}Y.createContext(null);function fb(){let{matches:r}=Y.useContext(Qn),e=r[r.length-1];return e?e.params:{}}function bo(r,{relative:e}={}){let{matches:i}=Y.useContext(Qn),{pathname:s}=Pr(),o=JSON.stringify(Wd(i));return Y.useMemo(()=>tm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function db(r,e){return Wv(r,e)}function Wv(r,e,i,s,o){re(zs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Y.useContext(Gn),{matches:f}=Y.useContext(Qn),g=f[f.length-1],p=g?g.params:{},m=g?g.pathname:"/",_=g?g.pathnameBase:"/",T=g&&g.route;{let Q=T&&T.path||"";t0(m,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let A=Pr(),x;if(e){let Q=typeof e=="string"?Na(e):e;re(_==="/"||Q.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),x=Q}else x=A;let L=x.pathname||"/",O=L;if(_!=="/"){let Q=_.replace(/^\//,"").split("/");O="/"+L.replace(/^\//,"").split("/").slice(Q.length).join("/")}let k=Fv(r,{pathname:O});Nn(T||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Nn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=_b(k&&k.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:Li([_,u.encodeLocation?u.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?_:Li([_,u.encodeLocation?u.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),f,i,s,o);return e&&X?Y.createElement(To.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},X):X}function mb(){let r=Ab(),e=sb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),i?Y.createElement("pre",{style:o},i):null,f)}var gb=Y.createElement(mb,null),pb=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?Y.createElement(Qn.Provider,{value:this.props.routeContext},Y.createElement(em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yb({routeContext:r,match:e,children:i}){let s=Y.useContext(Bs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(Qn.Provider,{value:r},i)}function _b(r,e=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let u=r,f=i?.errors;if(f!=null){let m=u.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);re(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,m+1))}let g=!1,p=-1;if(i)for(let m=0;m<u.length;m++){let _=u[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=m),_.route.id){let{loaderData:T,errors:A}=i,x=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||x){g=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((m,_,T)=>{let A,x=!1,L=null,O=null;i&&(A=f&&_.route.id?f[_.route.id]:void 0,L=_.route.errorElement||gb,g&&(p<0&&T===0?(t0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,O=null):p===T&&(x=!0,O=_.route.hydrateFallbackElement||null)));let k=e.concat(u.slice(0,T+1)),X=()=>{let Q;return A?Q=L:x?Q=O:_.route.Component?Q=Y.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=m,Y.createElement(yb,{match:_,routeContext:{outlet:m,matches:k,isDataRoute:i!=null},children:Q})};return i&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?Y.createElement(pb,{location:i.location,revalidation:i.revalidation,component:L,error:A,children:X(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:s}):X()},null)}function im(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vb(r){let e=Y.useContext(Bs);return re(e,im(r)),e}function Eb(r){let e=Y.useContext(xc);return re(e,im(r)),e}function Tb(r){let e=Y.useContext(Qn);return re(e,im(r)),e}function rm(r){let e=Tb(r),i=e.matches[e.matches.length-1];return re(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function bb(){return rm("useRouteId")}function Ab(){let r=Y.useContext(em),e=Eb("useRouteError"),i=rm("useRouteError");return r!==void 0?r:e.errors?.[i]}function Sb(){let{router:r}=vb("useNavigate"),e=rm("useNavigate"),i=Y.useRef(!1);return Jv(()=>{i.current=!0}),Y.useCallback(async(o,u={})=>{Nn(i.current,Zv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var __={};function t0(r,e,i){!e&&!__[r]&&(__[r]=!0,Nn(!1,i))}Y.memo(Rb);function Rb({routes:r,future:e,state:i,unstable_onError:s}){return Wv(r,void 0,i,s,e)}function wb({to:r,replace:e,state:i,relative:s}){re(zs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Y.useContext(Gn);Nn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Y.useContext(Qn),{pathname:f}=Pr(),g=nm(),p=tm(r,Wd(u),f,s==="path"),m=JSON.stringify(p);return Y.useEffect(()=>{g(JSON.parse(m),{replace:e,state:i,relative:s})},[g,m,s,e,i]),null}function nc(r){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Cb({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:u=!1}){re(!zs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),g=Y.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof i=="string"&&(i=Na(i));let{pathname:p="/",search:m="",hash:_="",state:T=null,key:A="default"}=i,x=Y.useMemo(()=>{let L=Pi(p,f);return L==null?null:{location:{pathname:L,search:m,hash:_,state:T,key:A},navigationType:s}},[f,p,m,_,T,A,s]);return Nn(x!=null,`<Router basename="${f}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:Y.createElement(Gn.Provider,{value:g},Y.createElement(To.Provider,{children:e,value:x}))}function Db({children:r,location:e}){return db(wd(r),e)}function wd(r,e=[]){let i=[];return Y.Children.forEach(r,(s,o)=>{if(!Y.isValidElement(s))return;let u=[...e,o];if(s.type===Y.Fragment){i.push.apply(i,wd(s.props.children,u));return}re(s.type===nc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=wd(s.props.children,u)),i.push(f)}),i}var ic="get",rc="application/x-www-form-urlencoded";function Nc(r){return r!=null&&typeof r.tagName=="string"}function xb(r){return Nc(r)&&r.tagName.toLowerCase()==="button"}function Nb(r){return Nc(r)&&r.tagName.toLowerCase()==="form"}function Ib(r){return Nc(r)&&r.tagName.toLowerCase()==="input"}function Vb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Mb(r,e){return r.button===0&&(!e||e==="_self")&&!Vb(r)}var Xu=null;function Ob(){if(Xu===null)try{new FormData(document.createElement("form"),0),Xu=!1}catch{Xu=!0}return Xu}var Lb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function id(r){return r!=null&&!Lb.has(r)?(Nn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rc}"`),null):r}function Pb(r,e){let i,s,o,u,f;if(Nb(r)){let g=r.getAttribute("action");s=g?Pi(g,e):null,i=r.getAttribute("method")||ic,o=id(r.getAttribute("enctype"))||rc,u=new FormData(r)}else if(xb(r)||Ib(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||g.getAttribute("action");if(s=p?Pi(p,e):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||ic,o=id(r.getAttribute("formenctype"))||id(g.getAttribute("enctype"))||rc,u=new FormData(g,r),!Ob()){let{name:m,type:_,value:T}=r;if(_==="image"){let A=m?`${m}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else m&&u.append(m,T)}}else{if(Nc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ic,s=null,o=rc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function am(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ub(r,e,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Pi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function Bb(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function kb(r,e,i){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Bb(u,i);return f.links?f.links():[]}return[]}));return Gb(s.flat(1).filter(zb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function v_(r,e,i,s,o,u){let f=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,g=(p,m)=>i[m].pathname!==p.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,m)=>f(p,m)||g(p,m)):u==="data"?e.filter((p,m)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,m)||g(p,m))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function jb(r,e,{includeHydrateFallback:i}={}){return qb(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function qb(r){return[...new Set(r)]}function Hb(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function Gb(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Hb(o));return i.has(u)||(i.add(u),s.push({key:u,link:o})),s},[])}function e0(){let r=Y.useContext(Bs);return am(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Qb(){let r=Y.useContext(xc);return am(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sm=Y.createContext(void 0);sm.displayName="FrameworkContext";function n0(){let r=Y.useContext(sm);return am(r,"You must render this element inside a <HydratedRouter> element"),r}function Fb(r,e){let i=Y.useContext(sm),[s,o]=Y.useState(!1),[u,f]=Y.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:T}=e,A=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let O=X=>{X.forEach(Q=>{f(Q.isIntersecting)})},k=new IntersectionObserver(O,{threshold:.5});return A.current&&k.observe(A.current),()=>{k.disconnect()}}},[r]),Y.useEffect(()=>{if(s){let O=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(O)}}},[s]);let x=()=>{o(!0)},L=()=>{o(!1),f(!1)};return i?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Wl(g,x),onBlur:Wl(p,L),onMouseEnter:Wl(m,x),onMouseLeave:Wl(_,L),onTouchStart:Wl(T,x)}]:[!1,A,{}]}function Wl(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function Yb({page:r,...e}){let{router:i}=e0(),s=Y.useMemo(()=>Fv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?Y.createElement(Xb,{page:r,matches:s,...e}):null}function Kb(r){let{manifest:e,routeModules:i}=n0(),[s,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return kb(r,e,i).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,i]),s}function Xb({page:r,matches:e,...i}){let s=Pr(),{manifest:o,routeModules:u}=n0(),{basename:f}=e0(),{loaderData:g,matches:p}=Qb(),m=Y.useMemo(()=>v_(r,e,p,o,s,"data"),[r,e,p,o,s]),_=Y.useMemo(()=>v_(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=Y.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,O=!1;if(e.forEach(X=>{let Q=o.routes[X.route.id];!Q||!Q.hasLoader||(!m.some(it=>it.route.id===X.route.id)&&X.route.id in g&&u[X.route.id]?.shouldRevalidate||Q.hasClientLoader?O=!0:L.add(X.route.id))}),L.size===0)return[];let k=Ub(r,f,"data");return O&&L.size>0&&k.searchParams.set("_routes",e.filter(X=>L.has(X.route.id)).map(X=>X.route.id).join(",")),[k.pathname+k.search]},[f,g,s,o,m,e,r,u]),A=Y.useMemo(()=>jb(_,o),[_,o]),x=Kb(_);return Y.createElement(Y.Fragment,null,T.map(L=>Y.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),A.map(L=>Y.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),x.map(({key:L,link:O})=>Y.createElement("link",{key:L,nonce:i.nonce,...O})))}function $b(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var i0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i0&&(window.__reactRouterVersion="7.9.4")}catch{}function Zb({basename:r,children:e,window:i}){let s=Y.useRef();s.current==null&&(s.current=UT({window:i,v5Compat:!0}));let o=s.current,[u,f]=Y.useState({action:o.action,location:o.location}),g=Y.useCallback(p=>{Y.startTransition(()=>f(p))},[f]);return Y.useLayoutEffect(()=>o.listen(g),[o,g]),Y.createElement(Cb,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var r0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a0=Y.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:g,target:p,to:m,preventScrollReset:_,viewTransition:T,...A},x){let{basename:L}=Y.useContext(Gn),O=typeof m=="string"&&r0.test(m),k,X=!1;if(typeof m=="string"&&O&&(k=m,i0))try{let w=new URL(window.location.href),P=m.startsWith("//")?new URL(w.protocol+m):new URL(m),I=Pi(P.pathname,L);P.origin===w.origin&&I!=null?m=I+P.search+P.hash:X=!0}catch{Nn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=cb(m,{relative:o}),[it,pt,at]=Fb(s,A),bt=eA(m,{replace:f,state:g,target:p,preventScrollReset:_,relative:o,viewTransition:T});function N(w){e&&e(w),w.defaultPrevented||bt(w)}let R=Y.createElement("a",{...A,...at,href:k||Q,onClick:X||u?e:N,ref:$b(x,pt),target:p,"data-discover":!O&&i==="render"?"true":void 0});return it&&!O?Y.createElement(Y.Fragment,null,R,Y.createElement(Yb,{page:Q})):R});a0.displayName="Link";var Jb=Y.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:g,children:p,...m},_){let T=bo(f,{relative:m.relative}),A=Pr(),x=Y.useContext(xc),{navigator:L,basename:O}=Y.useContext(Gn),k=x!=null&&sA(T)&&g===!0,X=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,Q=A.pathname,it=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(Q=Q.toLowerCase(),it=it?it.toLowerCase():null,X=X.toLowerCase()),it&&O&&(it=Pi(it,O)||it);const pt=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let at=Q===X||!o&&Q.startsWith(X)&&Q.charAt(pt)==="/",bt=it!=null&&(it===X||!o&&it.startsWith(X)&&it.charAt(X.length)==="/"),N={isActive:at,isPending:bt,isTransitioning:k},R=at?e:void 0,w;typeof s=="function"?w=s(N):w=[s,at?"active":null,bt?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(N):u;return Y.createElement(a0,{...m,"aria-current":R,className:w,ref:_,style:P,to:f,viewTransition:g},typeof p=="function"?p(N):p)});Jb.displayName="NavLink";var Wb=Y.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:u,method:f=ic,action:g,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:T,...A},x)=>{let L=rA(),O=aA(g,{relative:m}),k=f.toLowerCase()==="get"?"get":"post",X=typeof g=="string"&&r0.test(g),Q=it=>{if(p&&p(it),it.defaultPrevented)return;it.preventDefault();let pt=it.nativeEvent.submitter,at=pt?.getAttribute("formmethod")||f;L(pt||it.currentTarget,{fetcherKey:e,method:at,navigate:i,replace:o,state:u,relative:m,preventScrollReset:_,viewTransition:T})};return Y.createElement("form",{ref:x,method:k,action:O,onSubmit:s?p:Q,...A,"data-discover":!X&&r==="render"?"true":void 0})});Wb.displayName="Form";function tA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s0(r){let e=Y.useContext(Bs);return re(e,tA(r)),e}function eA(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let g=nm(),p=Pr(),m=bo(r,{relative:u});return Y.useCallback(_=>{if(Mb(_,e)){_.preventDefault();let T=i!==void 0?i:uo(p)===uo(m);g(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,g,m,i,s,e,r,o,u,f])}var nA=0,iA=()=>`__${String(++nA)}__`;function rA(){let{router:r}=s0("useSubmit"),{basename:e}=Y.useContext(Gn),i=bb();return Y.useCallback(async(s,o={})=>{let{action:u,method:f,encType:g,formData:p,body:m}=Pb(s,e);if(o.navigate===!1){let _=o.fetcherKey||iA();await r.fetch(_,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||f,formEncType:o.encType||g,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||f,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function aA(r,{relative:e}={}){let{basename:i}=Y.useContext(Gn),s=Y.useContext(Qn);re(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...bo(r||".",{relative:e})},f=Pr();if(r==null){u.search=f.search;let g=new URLSearchParams(u.search),p=g.getAll("index");if(p.some(_=>_==="")){g.delete("index"),p.filter(T=>T).forEach(T=>g.append("index",T));let _=g.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Li([i,u.pathname])),uo(u)}function sA(r,{relative:e}={}){let i=Y.useContext($v);re(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=s0("useViewTransitionState"),o=bo(r,{relative:e});if(!i.isTransitioning)return!1;let u=Pi(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=Pi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return hc(o.pathname,f)!=null||hc(o.pathname,u)!=null}const lA=()=>{};var E_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},oA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[i++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[i++],f=r[i++],g=r[i++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[i++],f=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},o0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,g=f?r[o+1]:0,p=o+2<r.length,m=p?r[o+2]:0,_=u>>2,T=(u&3)<<4|g>>4;let A=(g&15)<<2|m>>6,x=m&63;p||(x=64,f||(A=64)),s.push(i[_],i[T],i[A],i[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(l0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):oA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const m=o<r.length?i[r.charAt(o)]:64;++o;const T=o<r.length?i[r.charAt(o)]:64;if(++o,u==null||g==null||m==null||T==null)throw new uA;const A=u<<2|g>>4;if(s.push(A),m!==64){const x=g<<4&240|m>>2;if(s.push(x),T!==64){const L=m<<6&192|T;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cA=function(r){const e=l0(r);return o0.encodeByteArray(e,!0)},fc=function(r){return cA(r).replace(/\./g,"")},hA=function(r){try{return o0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=()=>fA().__FIREBASE_DEFAULTS__,mA=()=>{if(typeof process>"u"||typeof E_>"u")return;const r=E_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},gA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&hA(r[1]);return e&&JSON.parse(e)},lm=()=>{try{return lA()||dA()||mA()||gA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},pA=r=>lm()?.emulatorHosts?.[r],yA=r=>{const e=pA(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},u0=()=>lm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vA(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[fc(JSON.stringify(i)),fc(JSON.stringify(f)),""].join(".")}const ro={};function TA(){const r={prod:[],emulator:[]};for(const e of Object.keys(ro))ro[e]?r.emulator.push(e):r.prod.push(e);return r}function bA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let T_=!1;function AA(r,e){if(typeof window>"u"||typeof document>"u"||!om(window.location.host)||ro[r]===e||ro[r]||T_)return;ro[r]=e;function i(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=TA().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function g(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,x){A.setAttribute("width","24"),A.setAttribute("id",x),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function m(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{T_=!0,f()},A}function _(A,x){A.setAttribute("id",x),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=bA(s),x=i("text"),L=document.getElementById(x)||document.createElement("span"),O=i("learnmore"),k=document.getElementById(O)||document.createElement("a"),X=i("preprendIcon"),Q=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const it=A.element;g(it),_(k,O);const pt=m();p(Q,X),it.append(Q,L,k,pt),document.body.appendChild(it)}u?(L.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RA(){const r=lm()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wA(){return!RA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CA(){try{return typeof indexedDB=="object"}catch{return!1}}function DA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="FirebaseError";class ks extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=xA,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c0.prototype.create)}}class c0{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?NA(u,s):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new ks(o,g,s)}}function NA(r,e){return r.replace(IA,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const IA=/\{\$([^}]+)}/g;function dc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(b_(u)&&b_(f)){if(!dc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function b_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(r){return r&&r._delegate?r._delegate:r}class co{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new _A;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OA(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MA(r){return r===ba?void 0:r}function OA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new VA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const PA={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},UA=Pt.INFO,BA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},zA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=BA[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class h0{constructor(e){this.name=e,this._logLevel=UA,this._logHandler=zA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const kA=(r,e)=>e.some(i=>r instanceof i);let A_,S_;function jA(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qA(){return S_||(S_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f0=new WeakMap,Cd=new WeakMap,d0=new WeakMap,rd=new WeakMap,um=new WeakMap;function HA(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{i(Rr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&f0.set(i,r)}).catch(()=>{}),um.set(e,r),e}function GA(r){if(Cd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Cd.set(r,e)}let Dd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Cd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||d0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Rr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function QA(r){Dd=r(Dd)}function FA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(ad(this),e,...i);return d0.set(s,e.sort?e.sort():[e]),Rr(s)}:qA().includes(r)?function(...e){return r.apply(ad(this),e),Rr(f0.get(this))}:function(...e){return Rr(r.apply(ad(this),e))}}function YA(r){return typeof r=="function"?FA(r):(r instanceof IDBTransaction&&GA(r),kA(r,jA())?new Proxy(r,Dd):r)}function Rr(r){if(r instanceof IDBRequest)return HA(r);if(rd.has(r))return rd.get(r);const e=YA(r);return e!==r&&(rd.set(r,e),um.set(e,r)),e}const ad=r=>um.get(r);function KA(r,e,{blocked:i,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),g=Rr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Rr(f.result),p.oldVersion,p.newVersion,Rr(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),g}const XA=["get","getKey","getAll","getAllKeys","count"],$A=["put","add","delete","clear"],sd=new Map;function R_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(sd.get(e))return sd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=$A.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||XA.includes(i)))return;const u=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(g.shift())),(await Promise.all([m[i](...g),o&&p.done]))[0]};return sd.set(e,u),u}QA(r=>({...r,get:(e,i,s)=>R_(e,i)||r.get(e,i,s),has:(e,i)=>!!R_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(JA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function JA(r){return r.getComponent()?.type==="VERSION"}const xd="@firebase/app",w_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new h0("@firebase/app"),WA="@firebase/app-compat",t2="@firebase/analytics-compat",e2="@firebase/analytics",n2="@firebase/app-check-compat",i2="@firebase/app-check",r2="@firebase/auth",a2="@firebase/auth-compat",s2="@firebase/database",l2="@firebase/data-connect",o2="@firebase/database-compat",u2="@firebase/functions",c2="@firebase/functions-compat",h2="@firebase/installations",f2="@firebase/installations-compat",d2="@firebase/messaging",m2="@firebase/messaging-compat",g2="@firebase/performance",p2="@firebase/performance-compat",y2="@firebase/remote-config",_2="@firebase/remote-config-compat",v2="@firebase/storage",E2="@firebase/storage-compat",T2="@firebase/firestore",b2="@firebase/ai",A2="@firebase/firestore-compat",S2="firebase",R2="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="[DEFAULT]",w2={[xd]:"fire-core",[WA]:"fire-core-compat",[e2]:"fire-analytics",[t2]:"fire-analytics-compat",[i2]:"fire-app-check",[n2]:"fire-app-check-compat",[r2]:"fire-auth",[a2]:"fire-auth-compat",[s2]:"fire-rtdb",[l2]:"fire-data-connect",[o2]:"fire-rtdb-compat",[u2]:"fire-fn",[c2]:"fire-fn-compat",[h2]:"fire-iid",[f2]:"fire-iid-compat",[d2]:"fire-fcm",[m2]:"fire-fcm-compat",[g2]:"fire-perf",[p2]:"fire-perf-compat",[y2]:"fire-rc",[_2]:"fire-rc-compat",[v2]:"fire-gcs",[E2]:"fire-gcs-compat",[T2]:"fire-fst",[A2]:"fire-fst-compat",[b2]:"fire-vertex","fire-js":"fire-js",[S2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Map,C2=new Map,Id=new Map;function C_(r,e){try{r.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function gc(r){const e=r.name;if(Id.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Id.set(e,r);for(const i of mc.values())C_(i,r);for(const i of C2.values())C_(i,r);return!0}function D2(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function x2(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new c0("app","Firebase",N2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=R2;function m0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Nd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw wr.create("bad-app-name",{appName:String(o)});if(i||(i=u0()),!i)throw wr.create("no-options");const u=mc.get(o);if(u){if(dc(i,u.options)&&dc(s,u.config))return u;throw wr.create("duplicate-app",{appName:o})}const f=new LA(o);for(const p of Id.values())f.addComponent(p);const g=new I2(i,s,f);return mc.set(o,g),g}function M2(r=Nd){const e=mc.get(r);if(!e&&r===Nd&&u0())return m0();if(!e)throw wr.create("no-app",{appName:r});return e}function Ns(r,e,i){let s=w2[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(f.join(" "));return}gc(new co(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="firebase-heartbeat-database",L2=1,ho="firebase-heartbeat-store";let ld=null;function g0(){return ld||(ld=KA(O2,L2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ho)}catch(i){console.warn(i)}}}}).catch(r=>{throw wr.create("idb-open",{originalErrorMessage:r.message})})),ld}async function P2(r){try{const i=(await g0()).transaction(ho),s=await i.objectStore(ho).get(p0(r));return await i.done,s}catch(e){if(e instanceof ks)Ui.warn(e.message);else{const i=wr.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(i.message)}}}async function D_(r,e){try{const s=(await g0()).transaction(ho,"readwrite");await s.objectStore(ho).put(e,p0(r)),await s.done}catch(i){if(i instanceof ks)Ui.warn(i.message);else{const s=wr.create("idb-set",{originalErrorMessage:i?.message});Ui.warn(s.message)}}}function p0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=1024,B2=30;class z2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new j2(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=x_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>B2){const o=q2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=x_(),{heartbeatsToSend:i,unsentEntries:s}=k2(this._heartbeatsCache.heartbeats),o=fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ui.warn(e),""}}}function x_(){return new Date().toISOString().substring(0,10)}function k2(r,e=U2){const i=[];let s=r.slice();for(const o of r){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),N_(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),N_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class j2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CA()?DA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await P2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function N_(r){return fc(JSON.stringify({version:2,heartbeats:r})).length}function q2(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(r){gc(new co("platform-logger",e=>new ZA(e),"PRIVATE")),gc(new co("heartbeat",e=>new z2(e),"PRIVATE")),Ns(xd,w_,r),Ns(xd,w_,"esm2020"),Ns("fire-js","")}H2("");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cr,y0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function w(){}w.prototype=R.prototype,N.F=R.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(P,I,B){for(var D=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)D[Zt-2]=arguments[Zt];return R.prototype[I].apply(P,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,w){w||(w=0);const P=Array(16);if(typeof R=="string")for(var I=0;I<16;++I)P[I]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(I=0;I<16;++I)P[I]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=N.g[0],w=N.g[1],I=N.g[2];let B=N.g[3],D;D=R+(B^w&(I^B))+P[0]+3614090360&4294967295,R=w+(D<<7&4294967295|D>>>25),D=B+(I^R&(w^I))+P[1]+3905402710&4294967295,B=R+(D<<12&4294967295|D>>>20),D=I+(w^B&(R^w))+P[2]+606105819&4294967295,I=B+(D<<17&4294967295|D>>>15),D=w+(R^I&(B^R))+P[3]+3250441966&4294967295,w=I+(D<<22&4294967295|D>>>10),D=R+(B^w&(I^B))+P[4]+4118548399&4294967295,R=w+(D<<7&4294967295|D>>>25),D=B+(I^R&(w^I))+P[5]+1200080426&4294967295,B=R+(D<<12&4294967295|D>>>20),D=I+(w^B&(R^w))+P[6]+2821735955&4294967295,I=B+(D<<17&4294967295|D>>>15),D=w+(R^I&(B^R))+P[7]+4249261313&4294967295,w=I+(D<<22&4294967295|D>>>10),D=R+(B^w&(I^B))+P[8]+1770035416&4294967295,R=w+(D<<7&4294967295|D>>>25),D=B+(I^R&(w^I))+P[9]+2336552879&4294967295,B=R+(D<<12&4294967295|D>>>20),D=I+(w^B&(R^w))+P[10]+4294925233&4294967295,I=B+(D<<17&4294967295|D>>>15),D=w+(R^I&(B^R))+P[11]+2304563134&4294967295,w=I+(D<<22&4294967295|D>>>10),D=R+(B^w&(I^B))+P[12]+1804603682&4294967295,R=w+(D<<7&4294967295|D>>>25),D=B+(I^R&(w^I))+P[13]+4254626195&4294967295,B=R+(D<<12&4294967295|D>>>20),D=I+(w^B&(R^w))+P[14]+2792965006&4294967295,I=B+(D<<17&4294967295|D>>>15),D=w+(R^I&(B^R))+P[15]+1236535329&4294967295,w=I+(D<<22&4294967295|D>>>10),D=R+(I^B&(w^I))+P[1]+4129170786&4294967295,R=w+(D<<5&4294967295|D>>>27),D=B+(w^I&(R^w))+P[6]+3225465664&4294967295,B=R+(D<<9&4294967295|D>>>23),D=I+(R^w&(B^R))+P[11]+643717713&4294967295,I=B+(D<<14&4294967295|D>>>18),D=w+(B^R&(I^B))+P[0]+3921069994&4294967295,w=I+(D<<20&4294967295|D>>>12),D=R+(I^B&(w^I))+P[5]+3593408605&4294967295,R=w+(D<<5&4294967295|D>>>27),D=B+(w^I&(R^w))+P[10]+38016083&4294967295,B=R+(D<<9&4294967295|D>>>23),D=I+(R^w&(B^R))+P[15]+3634488961&4294967295,I=B+(D<<14&4294967295|D>>>18),D=w+(B^R&(I^B))+P[4]+3889429448&4294967295,w=I+(D<<20&4294967295|D>>>12),D=R+(I^B&(w^I))+P[9]+568446438&4294967295,R=w+(D<<5&4294967295|D>>>27),D=B+(w^I&(R^w))+P[14]+3275163606&4294967295,B=R+(D<<9&4294967295|D>>>23),D=I+(R^w&(B^R))+P[3]+4107603335&4294967295,I=B+(D<<14&4294967295|D>>>18),D=w+(B^R&(I^B))+P[8]+1163531501&4294967295,w=I+(D<<20&4294967295|D>>>12),D=R+(I^B&(w^I))+P[13]+2850285829&4294967295,R=w+(D<<5&4294967295|D>>>27),D=B+(w^I&(R^w))+P[2]+4243563512&4294967295,B=R+(D<<9&4294967295|D>>>23),D=I+(R^w&(B^R))+P[7]+1735328473&4294967295,I=B+(D<<14&4294967295|D>>>18),D=w+(B^R&(I^B))+P[12]+2368359562&4294967295,w=I+(D<<20&4294967295|D>>>12),D=R+(w^I^B)+P[5]+4294588738&4294967295,R=w+(D<<4&4294967295|D>>>28),D=B+(R^w^I)+P[8]+2272392833&4294967295,B=R+(D<<11&4294967295|D>>>21),D=I+(B^R^w)+P[11]+1839030562&4294967295,I=B+(D<<16&4294967295|D>>>16),D=w+(I^B^R)+P[14]+4259657740&4294967295,w=I+(D<<23&4294967295|D>>>9),D=R+(w^I^B)+P[1]+2763975236&4294967295,R=w+(D<<4&4294967295|D>>>28),D=B+(R^w^I)+P[4]+1272893353&4294967295,B=R+(D<<11&4294967295|D>>>21),D=I+(B^R^w)+P[7]+4139469664&4294967295,I=B+(D<<16&4294967295|D>>>16),D=w+(I^B^R)+P[10]+3200236656&4294967295,w=I+(D<<23&4294967295|D>>>9),D=R+(w^I^B)+P[13]+681279174&4294967295,R=w+(D<<4&4294967295|D>>>28),D=B+(R^w^I)+P[0]+3936430074&4294967295,B=R+(D<<11&4294967295|D>>>21),D=I+(B^R^w)+P[3]+3572445317&4294967295,I=B+(D<<16&4294967295|D>>>16),D=w+(I^B^R)+P[6]+76029189&4294967295,w=I+(D<<23&4294967295|D>>>9),D=R+(w^I^B)+P[9]+3654602809&4294967295,R=w+(D<<4&4294967295|D>>>28),D=B+(R^w^I)+P[12]+3873151461&4294967295,B=R+(D<<11&4294967295|D>>>21),D=I+(B^R^w)+P[15]+530742520&4294967295,I=B+(D<<16&4294967295|D>>>16),D=w+(I^B^R)+P[2]+3299628645&4294967295,w=I+(D<<23&4294967295|D>>>9),D=R+(I^(w|~B))+P[0]+4096336452&4294967295,R=w+(D<<6&4294967295|D>>>26),D=B+(w^(R|~I))+P[7]+1126891415&4294967295,B=R+(D<<10&4294967295|D>>>22),D=I+(R^(B|~w))+P[14]+2878612391&4294967295,I=B+(D<<15&4294967295|D>>>17),D=w+(B^(I|~R))+P[5]+4237533241&4294967295,w=I+(D<<21&4294967295|D>>>11),D=R+(I^(w|~B))+P[12]+1700485571&4294967295,R=w+(D<<6&4294967295|D>>>26),D=B+(w^(R|~I))+P[3]+2399980690&4294967295,B=R+(D<<10&4294967295|D>>>22),D=I+(R^(B|~w))+P[10]+4293915773&4294967295,I=B+(D<<15&4294967295|D>>>17),D=w+(B^(I|~R))+P[1]+2240044497&4294967295,w=I+(D<<21&4294967295|D>>>11),D=R+(I^(w|~B))+P[8]+1873313359&4294967295,R=w+(D<<6&4294967295|D>>>26),D=B+(w^(R|~I))+P[15]+4264355552&4294967295,B=R+(D<<10&4294967295|D>>>22),D=I+(R^(B|~w))+P[6]+2734768916&4294967295,I=B+(D<<15&4294967295|D>>>17),D=w+(B^(I|~R))+P[13]+1309151649&4294967295,w=I+(D<<21&4294967295|D>>>11),D=R+(I^(w|~B))+P[4]+4149444226&4294967295,R=w+(D<<6&4294967295|D>>>26),D=B+(w^(R|~I))+P[11]+3174756917&4294967295,B=R+(D<<10&4294967295|D>>>22),D=I+(R^(B|~w))+P[2]+718787259&4294967295,I=B+(D<<15&4294967295|D>>>17),D=w+(B^(I|~R))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(I+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+B&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const w=R-this.blockSize,P=this.C;let I=this.h,B=0;for(;B<R;){if(I==0)for(;B<=w;)o(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<R;)if(P[I++]=N.charCodeAt(B++),I==this.blockSize){o(this,P),I=0;break}}else for(;B<R;)if(P[I++]=N[B++],I==this.blockSize){o(this,P),I=0;break}}this.h=I,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,w=0;w<4;++w)for(let P=0;P<32;P+=8)N[R++]=this.g[w]>>>P&255;return N};function u(N,R){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=R(N)}function f(N,R){this.h=R;const w=[];let P=!0;for(let I=N.length-1;I>=0;I--){const B=N[I]|0;P&&B==R||(w[I]=B,P=!1)}this.g=w}var g={};function p(N){return-128<=N&&N<128?u(N,function(R){return new f([R|0],R<0?-1:0)}):new f([N|0],N<0?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return k(m(-N));const R=[];let w=1;for(let P=0;N>=w;P++)R[P]=N/w|0,w*=4294967296;return new f(R,0)}function _(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return k(_(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=m(Math.pow(R,8));let P=T;for(let B=0;B<N.length;B+=8){var I=Math.min(8,N.length-B);const D=parseInt(N.substring(B,B+I),R);I<8?(I=m(Math.pow(R,I)),P=P.j(I).add(m(D))):(P=P.j(w),P=P.add(m(D)))}return P}var T=p(0),A=p(1),x=p(16777216);r=f.prototype,r.m=function(){if(O(this))return-k(this).m();let N=0,R=1;for(let w=0;w<this.g.length;w++){const P=this.i(w);N+=(P>=0?P:4294967296+P)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(L(this))return"0";if(O(this))return"-"+k(this).toString(N);const R=m(Math.pow(N,6));var w=this;let P="";for(;;){const I=pt(w,R).g;w=X(w,I.j(R));let B=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=I,L(w))return B+P;for(;B.length<6;)B="0"+B;P=B+P}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function L(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function O(N){return N.h==-1}r.l=function(N){return N=X(this,N),O(N)?-1:L(N)?0:1};function k(N){const R=N.g.length,w=[];for(let P=0;P<R;P++)w[P]=~N.g[P];return new f(w,~N.h).add(A)}r.abs=function(){return O(this)?k(this):this},r.add=function(N){const R=Math.max(this.g.length,N.g.length),w=[];let P=0;for(let I=0;I<=R;I++){let B=P+(this.i(I)&65535)+(N.i(I)&65535),D=(B>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);P=D>>>16,B&=65535,D&=65535,w[I]=D<<16|B}return new f(w,w[w.length-1]&-2147483648?-1:0)};function X(N,R){return N.add(k(R))}r.j=function(N){if(L(this)||L(N))return T;if(O(this))return O(N)?k(this).j(k(N)):k(k(this).j(N));if(O(N))return k(this.j(k(N)));if(this.l(x)<0&&N.l(x)<0)return m(this.m()*N.m());const R=this.g.length+N.g.length,w=[];for(var P=0;P<2*R;P++)w[P]=0;for(P=0;P<this.g.length;P++)for(let I=0;I<N.g.length;I++){const B=this.i(P)>>>16,D=this.i(P)&65535,Zt=N.i(I)>>>16,Gt=N.i(I)&65535;w[2*P+2*I]+=D*Gt,Q(w,2*P+2*I),w[2*P+2*I+1]+=B*Gt,Q(w,2*P+2*I+1),w[2*P+2*I+1]+=D*Zt,Q(w,2*P+2*I+1),w[2*P+2*I+2]+=B*Zt,Q(w,2*P+2*I+2)}for(N=0;N<R;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=R;N<2*R;N++)w[N]=0;return new f(w,0)};function Q(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function it(N,R){this.g=N,this.h=R}function pt(N,R){if(L(R))throw Error("division by zero");if(L(N))return new it(T,T);if(O(N))return R=pt(k(N),R),new it(k(R.g),k(R.h));if(O(R))return R=pt(N,k(R)),new it(k(R.g),R.h);if(N.g.length>30){if(O(N)||O(R))throw Error("slowDivide_ only works with positive integers.");for(var w=A,P=R;P.l(N)<=0;)w=at(w),P=at(P);var I=bt(w,1),B=bt(P,1);for(P=bt(P,2),w=bt(w,2);!L(P);){var D=B.add(P);D.l(N)<=0&&(I=I.add(w),B=D),P=bt(P,1),w=bt(w,1)}return R=X(N,I.j(R)),new it(I,R)}for(I=T;N.l(R)>=0;){for(w=Math.max(1,Math.floor(N.m()/R.m())),P=Math.ceil(Math.log(w)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),B=m(w),D=B.j(R);O(D)||D.l(N)>0;)w-=P,B=m(w),D=B.j(R);L(B)&&(B=A),I=I.add(B),N=X(N,D)}return new it(I,N)}r.B=function(N){return pt(this,N).h},r.and=function(N){const R=Math.max(this.g.length,N.g.length),w=[];for(let P=0;P<R;P++)w[P]=this.i(P)&N.i(P);return new f(w,this.h&N.h)},r.or=function(N){const R=Math.max(this.g.length,N.g.length),w=[];for(let P=0;P<R;P++)w[P]=this.i(P)|N.i(P);return new f(w,this.h|N.h)},r.xor=function(N){const R=Math.max(this.g.length,N.g.length),w=[];for(let P=0;P<R;P++)w[P]=this.i(P)^N.i(P);return new f(w,this.h^N.h)};function at(N){const R=N.g.length+1,w=[];for(let P=0;P<R;P++)w[P]=N.i(P)<<1|N.i(P-1)>>>31;return new f(w,N.h)}function bt(N,R){const w=R>>5;R%=32;const P=N.g.length-w,I=[];for(let B=0;B<P;B++)I[B]=R>0?N.i(B+w)>>>R|N.i(B+w+1)<<32-R:N.i(B+w);return new f(I,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,y0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=m,f.fromString=_,Cr=f}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _0,to,v0,ac,Vd,E0,T0,b0;(function(){var r,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in v))break t;v=v[q]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function m(c,y,v){return m=p,m.apply(null,arguments)}function _(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,q,K){for(var rt=Array(arguments.length-2),St=2;St<arguments.length;St++)rt[St-2]=arguments[St];return y.prototype[q].apply(S,rt)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function x(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function L(c,y){for(let S=1;S<arguments.length;S++){const q=arguments[S];var v=typeof q;if(v=v!="object"?v:q?Array.isArray(q)?"array":v:"null",v=="array"||v=="object"&&typeof q.length=="number"){v=c.length||0;const K=q.length||0;c.length=v+K;for(let rt=0;rt<K;rt++)c[v+rt]=q[rt]}else c.push(q)}}class O{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(c){f.setTimeout(()=>{throw c},0)}function X(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Q{constructor(){this.h=this.g=null}add(y,v){const S=it.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var it=new O(()=>new pt,c=>c.reset());class pt{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let at,bt=!1,N=new Q,R=()=>{const c=Promise.resolve(void 0);at=()=>{c.then(w)}};function w(){for(var c;c=X();){try{c.h.call(c.g)}catch(v){k(v)}var y=it;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}bt=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function Zt(c,y){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Zt,I),Zt.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Zt.Z.h.call(this)},Zt.prototype.h=function(){Zt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Gt="closure_listenable_"+(Math.random()*1e6|0),$=0;function lt(c,y,v,S,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=q,this.key=++$,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ut(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function V(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function nt(c){const y={};for(const v in c)y[v]=c[v];return y}const ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(c,y){let v,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(v in S)c[v]=S[v];for(let K=0;K<ot.length;K++)v=ot[K],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function dt(c){this.src=c,this.g={},this.h=0}dt.prototype.add=function(c,y,v,S,q){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const rt=Et(c,y,S,q);return rt>-1?(y=c[rt],v||(y.fa=!1)):(y=new lt(y,this.src,K,!!S,q),y.fa=v,c.push(y)),y};function It(c,y){const v=y.type;if(v in c.g){var S=c.g[v],q=Array.prototype.indexOf.call(S,y,void 0),K;(K=q>=0)&&Array.prototype.splice.call(S,q,1),K&&(gt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Et(c,y,v,S){for(let q=0;q<c.length;++q){const K=c[q];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==S)return q}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Qt={};function In(c,y,v,S,q){if(Array.isArray(y)){for(let K=0;K<y.length;K++)In(c,y[K],v,S,q);return null}return v=No(v),c&&c[Gt]?c.J(y,v,g(S)?!!S.capture:!1,q):Qs(c,y,v,!1,S,q)}function Qs(c,y,v,S,q,K){if(!y)throw Error("Invalid event type");const rt=g(q)?!!q.capture:!!q;let St=Fs(c);if(St||(c[Oe]=St=new dt(c)),v=St.add(y,v,S,rt,K),v.proxy)return v;if(S=Oa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)B||(q=rt),q===void 0&&(q=!1),c.addEventListener(y.toString(),S,q);else if(c.attachEvent)c.attachEvent(Pa(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Oa(){function c(v){return y.call(c.src,c.listener,v)}const y=$c;return c}function La(c,y,v,S,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)La(c,y[K],v,S,q);else S=g(S)?!!S.capture:!!S,v=No(v),c&&c[Gt]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],v=Et(y,v,S,q),v>-1&&(gt(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Fs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Et(y,v,S,q)),(v=c>-1?y[c]:null)&&zr(v))}function zr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Gt])It(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(Pa(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Fs(y))?(It(v,c),v.h==0&&(v.src=null,y[Oe]=null)):gt(c)}}}function Pa(c){return c in Qt?Qt[c]:Qt[c]="on"+c}function $c(c,y){if(c.da)c=!0;else{y=new Zt(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&zr(c),c=v.call(S,y)}return c}function Fs(c){return c=c[Oe],c instanceof dt?c:null}var en="__closure_events_fn_"+(Math.random()*1e9>>>0);function No(c){return typeof c=="function"?c:(c[en]||(c[en]=function(y){return c.handleEvent(y)}),c[en])}function Ae(){P.call(this),this.i=new dt(this),this.M=this,this.G=null}T(Ae,P),Ae.prototype[Gt]=!0,Ae.prototype.removeEventListener=function(c,y,v,S){La(this,c,y,v,S)};function De(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new I(y,c);else if(y instanceof I)y.target=y.target||c;else{var q=y;y=new I(S,c),st(y,q)}q=!0;let K,rt;if(v)for(rt=v.length-1;rt>=0;rt--)K=y.g=v[rt],q=mi(K,S,!0,y)&&q;if(K=y.g=c,q=mi(K,S,!0,y)&&q,q=mi(K,S,!1,y)&&q,v)for(rt=0;rt<v.length;rt++)K=y.g=v[rt],q=mi(K,S,!1,y)&&q}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)gt(v[S]);delete c.g[y],c.h--}}this.G=null},Ae.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},Ae.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function mi(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let K=0;K<y.length;++K){const rt=y[K];if(rt&&!rt.da&&rt.capture==v){const St=rt.listener,ee=rt.ha||rt.src;rt.fa&&It(c.i,rt),q=St.call(ee,S)!==!1&&q}}return q&&!S.defaultPrevented}function Zc(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Ys(c){c.g=Zc(()=>{c.g=null,c.i&&(c.i=!1,Ys(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Jc extends P{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ys(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(c){P.call(this),this.h=c,this.g={}}T(kr,P);var ji=[];function qe(c){Ut(c.g,function(y,v){this.g.hasOwnProperty(v)&&zr(y)},c),c.g={}}kr.prototype.N=function(){kr.Z.N.call(this),qe(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=f.JSON.stringify,Xe=f.JSON.parse,Wc=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Io(){}function Vo(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qi(){I.call(this,"d")}T(qi,I);function Vn(){I.call(this,"c")}T(Vn,I);var _n={},Hi=null;function Ua(){return Hi=Hi||new Ae}_n.Ia="serverreachability";function Ks(c){I.call(this,_n.Ia,c)}T(Ks,I);function Gi(c){const y=Ua();De(y,new Ks(y))}_n.STAT_EVENT="statevent";function Ba(c,y){I.call(this,_n.STAT_EVENT,c),this.stat=y}T(Ba,I);function ce(c){const y=Ua();De(y,new Ba(y,c))}_n.Ja="timingevent";function Mo(c,y){I.call(this,_n.Ja,c),this.size=y}T(Mo,I);function Qi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Fi(){this.g=!0}Fi.prototype.ua=function(){this.g=!1};function Xs(c,y,v,S,q,K){c.info(function(){if(c.g)if(K){var rt="",St=K.split("&");for(let jt=0;jt<St.length;jt++){var ee=St[jt].split("=");if(ee.length>1){const de=ee[0];ee=ee[1];const on=de.split("_");rt=on.length>=2&&on[1]=="type"?rt+(de+"="+ee+"&"):rt+(de+"=redacted&")}}}else rt=null;else rt=K;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+v+`
`+rt})}function $s(c,y,v,S,q,K,rt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+v+`
`+K+" "+rt})}function gi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Yn(c,v)+(S?" "+S:"")})}function th(c,y){c.info(function(){return"TIMEOUT: "+y})}Fi.prototype.info=function(){};function Yn(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let rt=1;rt<S.length;rt++)S[rt]=""}}}}return yn(K)}catch{return y}}var he={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Le={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pi;function jr(){}T(jr,Io),jr.prototype.g=function(){return new XMLHttpRequest},pi=new jr;function qr(c){return encodeURIComponent(String(c))}function eh(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Mn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new kr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yi}function Yi(){this.i=null,this.g="",this.h=!1}var za={},Kn={};function Xn(c,y,v){c.M=1,c.A=_i(ae(y)),c.u=v,c.R=!0,Ki(c,null)}function Ki(c,y){c.F=Date.now(),Hr(c),c.B=ae(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Uo(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Yi,c.g=Xa(c.j,v?y:null,!c.u),c.P>0&&(c.O=new Jc(m(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(ji[0]=q.toString()),q=ji);for(let K=0;K<q.length;K++){const rt=In(v,q[K],S||y.handleEvent,!1,y.h||y);if(!rt)break;y.g[rt.key]=rt}y=c.J?nt(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Gi(),Xs(c.i,c.v,c.B,c.l,c.S,c.u)}Mn.prototype.ba=function(c){c=c.target;const y=this.O;y&&He(c)==3?y.j():this.Y(c)},Mn.prototype.Y=function(c){try{if(c==this.g)t:{const St=He(this.g),ee=this.g.ya(),jt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||ta(this.g)))){this.K||St!=4||ee==7||(ee==8||jt<=0?Gi(3):Gi(2)),Zn(this);var y=this.g.ca();this.X=y;var v=Xi(this);if(this.o=y==200,$s(this.i,this.v,this.B,this.l,this.S,St,y),this.o){if(this.U&&!this.L){e:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(S)){var K=S;break e}}K=null}if(c=K)gi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ka(this,c);else{this.o=!1,this.m=3,ce(12),Jn(this),Gr(this);break t}}if(this.R){c=!0;let de;for(;!this.K&&this.C<v.length;)if(de=Oo(this,v),de==Kn){St==4&&(this.m=4,ce(14),c=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(de==za){this.m=4,ce(15),gi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else gi(this.i,this.l,de,null),ka(this,de);if(fe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,ce(16),c=!1),this.o=this.o&&c,!c)gi(this.i,this.l,v,"[Invalid Chunked Response]"),Jn(this),Gr(this);else if(v.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),sl(rt),rt.P=!0,ce(11))}}else gi(this.i,this.l,v,null),ka(this,v);St==4&&Jn(this),this.o&&!this.K&&(St==4?ll(this.j,this):(this.o=!1,Hr(this)))}else ea(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,ce(12)):(this.m=0,ce(13)),Jn(this),Gr(this)}}}catch{}finally{}};function Xi(c){if(!fe(c))return c.g.la();const y=ta(c.g);if(y==="")return"";let v="";const S=y.length,q=He(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Jn(c),Gr(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,v+=c.h.i.decode(y[K],{stream:!(q&&K==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function fe(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Oo(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Kn:(v=Number(y.substring(v,S)),isNaN(v)?za:(S+=1,S+v>y.length?Kn:(y=y.slice(S,S+v),c.C=S+v,y)))}Mn.prototype.cancel=function(){this.K=!0,Jn(this)};function Hr(c){c.T=Date.now()+c.H,$n(c,c.H)}function $n(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Qi(m(c.aa,c),y)}function Zn(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Mn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(th(this.i,this.B),this.M!=2&&(Gi(),ce(17)),Jn(this),this.m=2,Gr(this)):$n(this,this.T-c)};function Gr(c){c.j.I==0||c.K||ll(c.j,c)}function Jn(c){Zn(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,qe(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function ka(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Yr(v.h,c))){if(!c.L&&Yr(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ka(v),Wn(v);else break t;al(v),ce(18)}}else v.xa=q[1],0<v.xa-v.K&&q[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Qi(m(v.Va,v),6e3));vn(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&Ka(v),!D(y))for(q=v.Ba.g.parse(y),y=0;y<q.length;y++){let jt=q[y];const de=jt[0];if(!(de<=v.K))if(v.K=de,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const on=jt[3];on!=null&&(v.ka=on,v.j.info("VER="+v.ka));const ti=jt[4];ti!=null&&(v.za=ti,v.j.info("SVER="+v.za));const Pn=jt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(S=1.5*Pn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Un=c.g;if(Un){const Bn=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bn){var K=S.h;K.g||Bn.indexOf("spdy")==-1&&Bn.indexOf("quic")==-1&&Bn.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ja(K,K.h),K.h=null))}if(S.G){const ul=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(S.wa=ul,Ft(S.J,S.G,ul))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var rt=c;if(S.na=Fo(S,S.L?S.ba:null,S.W),rt.L){yi(S.h,rt);var St=rt,ee=S.O;ee&&(St.H=ee),St.D&&(Zn(St),Hr(St)),S.g=rt}else qo(S);v.i.length>0&&aa(v)}else jt[0]!="stop"&&jt[0]!="close"||Ti(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Ti(v,7):ia(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}Gi(4)}catch{}}var nh=class{constructor(c,y){this.g=c,this.map=y}};function Qr(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vn(c){return c.h?1:c.g?c.g.size:0}function Yr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ja(c,y){c.g?c.g.add(y):c.h=y}function yi(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Qr.prototype.cancel=function(){if(this.i=qa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qa(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return x(c.i)}var Ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ih(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let q,K=null;S>=0?(q=c[v].substring(0,S),K=c[v].substring(S+1)):q=c[v],y(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function On(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof On?(this.l=c.l,$i(this,c.j),this.o=c.o,this.g=c.g,Kr(this,c.u),this.h=c.h,Zi(this,Bo(c.i)),this.m=c.m):c&&(y=String(c).match(Ha))?(this.l=!1,$i(this,y[1]||"",!0),this.o=Xr(y[2]||""),this.g=Xr(y[3]||"",!0),Kr(this,y[4]),this.h=Xr(y[5]||"",!0),Zi(this,y[6]||"",!0),this.m=Xr(y[7]||"")):(this.l=!1,this.i=new En(null,this.l))}On.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(xe(y,Js,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xe(y,Js,!0),"@"),c.push(qr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(xe(v,v.charAt(0)=="/"?Ji:Ws,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",xe(v,Po)),c.join("")},On.prototype.resolve=function(c){const y=ae(this);let v=!!c.j;v?$i(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)Kr(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=y.h.lastIndexOf("/");q!=-1&&(S=y.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let rt=0;rt<q.length;){const St=q[rt++];St=="."?S&&rt==q.length&&K.push(""):St==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&rt==q.length&&K.push("")):(K.push(St),S=!0)}S=K.join("/")}else S=q}return v?y.h=S:v=c.i.toString()!=="",v?Zi(y,Bo(c.i)):v=!!c.m,v&&(y.m=c.m),y};function ae(c){return new On(c)}function $i(c,y,v){c.j=v?Xr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Kr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Zi(c,y,v){y instanceof En?(c.i=y,nl(c.i,c.l)):(v||(y=xe(y,Lo)),c.i=new En(y,c.l))}function Ft(c,y,v){c.i.set(y,v)}function _i(c){return Ft(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Xr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xe(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Zs),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Zs(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Js=/[#\/\?@]/g,Ws=/[#\?:]/g,Ji=/[#\?]/g,Lo=/[#\?@]/g,Po=/#/g;function En(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function vi(c){c.g||(c.g=new Map,c.h=0,c.i&&ih(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=En.prototype,r.add=function(c,y){vi(this),this.i=null,c=Ln(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function tl(c,y){vi(c),y=Ln(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function el(c,y){return vi(c),y=Ln(c,y),c.g.has(y)}r.forEach=function(c,y){vi(this),this.g.forEach(function(v,S){v.forEach(function(q){c.call(y,q,S,this)},this)},this)};function Ga(c,y){vi(c);let v=[];if(typeof y=="string")el(c,y)&&(v=v.concat(c.g.get(Ln(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return vi(this),this.i=null,c=Ln(this,c),el(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Ga(this,c),c.length>0?String(c[0]):y):y};function Uo(c,y,v){tl(c,y),v.length>0&&(c.i=null,c.g.set(Ln(c,y),x(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const q=qr(v);v=Ga(this,v);for(let K=0;K<v.length;K++){let rt=q;v[K]!==""&&(rt+="="+qr(v[K])),c.push(rt)}}return this.i=c.join("&")};function Bo(c){const y=new En;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ln(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function nl(c,y){y&&!c.j&&(vi(c),c.i=null,c.g.forEach(function(v,S){const q=S.toLowerCase();S!=q&&(tl(this,S),Uo(this,q,v))},c)),c.j=y}function il(c,y){const v=new Fi;if(f.Image){const S=new Image;S.onload=_($e,v,"TestLoadImage: loaded",!0,y,S),S.onerror=_($e,v,"TestLoadImage: error",!1,y,S),S.onabort=_($e,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=_($e,v,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Wi(c,y){const v=new Fi,S=new AbortController,q=setTimeout(()=>{S.abort(),$e(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(q),K.ok?$e(v,"TestPingServer: ok",!0,y):$e(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),$e(v,"TestPingServer: error",!1,y)})}function $e(c,y,v,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(v)}catch{}}function zo(){this.g=new Wc}function $r(c){this.i=c.Sb||null,this.h=c.ab||!1}T($r,Io),$r.prototype.g=function(){return new Zr(this.i,this.h)};function Zr(c,y){Ae.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Zr,Ae),r=Zr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Ei(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ze(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function tr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ze(this):Ei(this),this.readyState==3&&tr(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ze(this))},r.Na=function(c){this.g&&(this.response=c,Ze(this))},r.ga=function(){this.g&&Ze(this)};function Ze(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ei(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function er(c){let y="";return Ut(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Tn(c,y,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=er(v),typeof c=="string"?v!=null&&qr(v):Ft(c,y,v))}function Jt(c){Ae.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Jt,Ae);var Qa=/^https?$/i,ko=["POST","PUT"];r=Jt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pi.g(),this.g.onreadystatechange=A(m(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Jr(this,K);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)v.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())v.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),q=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(ko,y,void 0)>=0)||S||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,rt]of v)this.g.setRequestHeader(K,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Jr(this,K)}};function Jr(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Wr(c),Se(c)}function Wr(c){c.A||(c.A=!0,De(c,"complete"),De(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,De(this,"complete"),De(this,"abort"),Se(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Se(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?rl(this):this.Xa())},r.Xa=function(){rl(this)};function rl(c){if(c.h&&typeof u<"u"){if(c.v&&He(c)==4)setTimeout(c.Ca.bind(c),0);else if(De(c,"readystatechange"),He(c)==4){c.h=!1;try{const K=c.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var S;if(S=K===0){let rt=String(c.D).match(Ha)[1]||null;!rt&&f.self&&f.self.location&&(rt=f.self.location.protocol.slice(0,-1)),S=!Qa.test(rt?rt.toLowerCase():"")}v=S}if(v)De(c,"complete"),De(c,"success");else{c.o=6;try{var q=He(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",Wr(c)}}finally{Se(c)}}}}function Se(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||De(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function He(c){return c.g?c.g.readyState:0}r.ca=function(){try{return He(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Xe(y)}};function ta(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ea(c){const y={};c=(c.g&&He(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(D(c[S]))continue;var v=eh(c[S]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[q]||[];y[q]=K,K.push(v)}V(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Fa(c){this.za=0,this.i=[],this.j=new Fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=na("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=na("baseRetryDelayMs",5e3,c),this.Za=na("retryDelaySeedMs",1e4,c),this.Ta=na("forwardChannelMaxRetries",2,c),this.va=na("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Qr(c&&c.concurrentRequestLimit),this.Ba=new zo,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Fa.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,S){ce(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Fo(this,null,this.W),aa(this)};function ia(c){if(ra(c),c.I==3){var y=c.V++,v=ae(c.J);if(Ft(v,"SID",c.M),Ft(v,"RID",y),Ft(v,"TYPE","terminate"),sa(c,v),y=new Mn(c,c.j,y),y.M=2,y.A=_i(ae(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Xa(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Hr(y)}Qo(c)}function Wn(c){c.g&&(sl(c),c.g.cancel(),c.g=null)}function ra(c){Wn(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ka(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function aa(c){if(!Fr(c.h)&&!c.m){c.m=!0;var y=c.Ea;at||R(),bt||(at(),bt=!0),N.add(y,c),c.D=0}}function rh(c,y){return vn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Qi(m(c.Ea,c,y),Go(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new Mn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=nt(K),st(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=Ya(this,q,y),v=ae(this.J),Ft(v,"RID",c),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),sa(this,v),K&&(this.R?y="headers="+qr(er(K))+"&"+y:this.u&&Tn(v,this.u,K)),ja(this.h,q),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",y),Ft(v,"SID","null"),q.U=!0,Xn(q,v,null)):Xn(q,v,y),this.I=2}}else this.I==3&&(c?jo(this,c):this.i.length==0||Fr(this.h)||jo(this))};function jo(c,y){var v;y?v=y.l:v=c.V++;const S=ae(c.J);Ft(S,"SID",c.M),Ft(S,"RID",v),Ft(S,"AID",c.K),sa(c,S),c.u&&c.o&&Tn(S,c.u,c.o),v=new Mn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ya(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ja(c.h,v),Xn(v,S,y)}function sa(c,y){c.H&&Ut(c.H,function(v,S){Ft(y,S,v)}),c.l&&Ut({},function(v,S){Ft(y,S,v)})}function Ya(c,y,v){v=Math.min(c.i.length,v);const S=c.l?m(c.l.Ka,c.l,c):null;t:{var q=c.i;let St=-1;for(;;){const ee=["count="+v];St==-1?v>0?(St=q[0].g,ee.push("ofs="+St)):St=0:ee.push("ofs="+St);let jt=!0;for(let de=0;de<v;de++){var K=q[de].g;const on=q[de].map;if(K-=St,K<0)St=Math.max(0,q[de].g-100),jt=!1;else try{K="req"+K+"_"||"";try{var rt=on instanceof Map?on:Object.entries(on);for(const[ti,Pn]of rt){let Un=Pn;g(Pn)&&(Un=yn(Pn)),ee.push(K+ti+"="+encodeURIComponent(Un))}}catch(ti){throw ee.push(K+"type="+encodeURIComponent("_badmap")),ti}}catch{S&&S(on)}}if(jt){rt=ee.join("&");break t}}rt=void 0}return c=c.i.splice(0,v),y.G=c,rt}function qo(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;at||R(),bt||(at(),bt=!0),N.add(y,c),c.A=0}}function al(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Qi(m(c.Da,c),Go(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Ho(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Qi(m(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ce(10),Wn(this),Ho(this))};function sl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Ho(c){c.g=new Mn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=ae(c.na);Ft(y,"RID","rpc"),Ft(y,"SID",c.M),Ft(y,"AID",c.K),Ft(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ft(y,"TO",c.ia),Ft(y,"TYPE","xmlhttp"),sa(c,y),c.u&&c.o&&Tn(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=_i(ae(y)),v.u=null,v.R=!0,Ki(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Wn(this),al(this),ce(19))};function Ka(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ll(c,y){var v=null;if(c.g==y){Ka(c),sl(c),c.g=null;var S=2}else if(Yr(c.h,y))v=y.G,yi(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;S=Ua(),De(S,new Mo(S,v)),aa(c)}else qo(c);else if(q=y.m,q==3||q==0&&y.X>0||!(S==1&&rh(c,y)||S==2&&al(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),q){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Go(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ti(c,y){if(c.j.info("Error code "+y),y==2){var v=m(c.bb,c),S=c.Ua;const q=!S;S=new On(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$i(S,"https"),_i(S),q?il(S.toString(),v):Wi(S.toString(),v)}else ce(2);c.I=0,c.l&&c.l.pa(y),Qo(c),ra(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Qo(c){if(c.I=0,c.ja=[],c.l){const y=qa(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ja,y),L(c.ja,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.oa()}}function Fo(c,y,v){var S=v instanceof On?ae(v):new On(v);if(S.g!="")y&&(S.g=y+"."+S.g),Kr(S,S.u);else{var q=f.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const K=new On(null);S&&$i(K,S),y&&(K.g=y),q&&Kr(K,q),v&&(K.h=v),S=K}return v=c.G,y=c.wa,v&&y&&Ft(S,v,y),Ft(S,"VER",c.ka),sa(c,S),S}function Xa(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Jt(new $r({ab:v})):new Jt(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}r=Yo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function $a(){}$a.prototype.g=function(c,y){return new Je(c,y)};function Je(c,y){Ae.call(this),this.g=new Fa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!D(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new nr(this)}T(Je,Ae),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){ia(this.g)},Je.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=yn(c),c=v);y.i.push(new nh(y.Ya++,c)),y.I==3&&aa(y)},Je.prototype.N=function(){this.g.l=null,delete this.j,ia(this.g),delete this.g,Je.Z.N.call(this)};function ol(c){qi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(ol,qi);function Ko(){Vn.call(this),this.status=1}T(Ko,Vn);function nr(c){this.g=c}T(nr,Yo),nr.prototype.ra=function(){De(this.g,"a")},nr.prototype.qa=function(c){De(this.g,new ol(c))},nr.prototype.pa=function(c){De(this.g,new Ko)},nr.prototype.oa=function(){De(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,b0=function(){return new $a},T0=function(){return Ua()},E0=_n,Vd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},he.NO_ERROR=0,he.TIMEOUT=8,he.HTTP_ERROR=6,ac=he,Le.COMPLETE="complete",v0=Le,Vo.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,to=Vo,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,_0=Jt}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const V_="@firebase/firestore",M_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new h0("@firebase/firestore");function ws(){return wa.logLevel}function ct(r,...e){if(wa.logLevel<=Pt.DEBUG){const i=e.map(cm);wa.debug(`Firestore (${js}): ${r}`,...i)}}function Bi(r,...e){if(wa.logLevel<=Pt.ERROR){const i=e.map(cm);wa.error(`Firestore (${js}): ${r}`,...i)}}function Vs(r,...e){if(wa.logLevel<=Pt.WARN){const i=e.map(cm);wa.warn(`Firestore (${js}): ${r}`,...i)}}function cm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,A0(r,s,i)}function A0(r,e,i){let s=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Bi(s),new Error(s)}function kt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||A0(e,o,s)}function Rt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ks{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class Q2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class F2{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let u=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Dr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Dr)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(kt(typeof s.accessToken=="string",31837,{l:s}),new S0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class Y2{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K2{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new Y2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,x2(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const s=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new O_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=$2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<i&&(s+=e.charAt(o[u]%62))}return s}}function Vt(r,e){return r<e?-1:r>e?1:0}function Md(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return od(o)===od(u)?Vt(o,u):od(o)?1:-1}return Vt(r.length,e.length)}const Z2=55296,J2=57343;function od(r){const e=r.charCodeAt(0);return e>=Z2&&e<=J2}function Ms(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="__name__";class si{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&vt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const u=si.compareSegments(e.get(o),i.get(o));if(u!==0)return u}return Vt(e.length,i.length)}static compareSegments(e,i){const s=si.isNumericId(e),o=si.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?si.extractNumericId(e).compare(si.extractNumericId(i)):Md(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cr.fromString(e.substring(4,e.length-2))}}class te extends si{construct(e,i,s){return new te(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const W2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends si{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return W2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new ke([L_])}static fromServerFormat(e){const i=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(s+=g,o++):(u(),o++)}if(u(),f)throw new ut(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(te.fromString(e))}static fromName(e){return new mt(te.fromString(e).popFirst(5))}static empty(){return new mt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(r,e,i){if(!i)throw new ut(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function tS(r,e,i,s){if(e===!0&&s===!0)throw new ut(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function P_(r){if(!mt.isDocumentKey(r))throw new ut(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function U_(r){if(mt.isDocumentKey(r))throw new ut(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function w0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ic(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function li(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ic(r);throw new ut(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e){const i={typeString:r};return e&&(i.value=e),i}function Ao(r,e){if(!w0(r))throw new ut(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${s}' field to equal '${u.value}'`;break}}if(i)throw new ut(W.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=-62135596800,z_=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*z_);return new ne(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<B_)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ao(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-B_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Te("string",ne._jsonSchemaVersion),seconds:Te("number"),nanoseconds:Te("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new ne(0,0))}static max(){return new At(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=-1;function eS(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Nr(o,mt.empty(),e)}function nS(r){return new Nr(r.readTime,r.key,fo)}class Nr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Nr(At.min(),mt.empty(),fo)}static max(){return new Nr(At.max(),mt.empty(),fo)}}function iS(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:Vt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==rS)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new et(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof et?i:et.resolve(i)}catch(i){return et.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):et.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):et.reject(i)}static resolve(e){return new et(((i,s)=>{i(e)}))}static reject(e){return new et(((i,s)=>{s(e)}))}static waitFor(e){return new et(((i,s)=>{let o=0,u=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&i()}),(p=>s(p)))})),f=!0,u===o&&i()}))}static or(e){let i=et.resolve(!1);for(const s of e)i=i.next((o=>o?et.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,u)=>{s.push(i.call(this,o,u))})),this.waitFor(s)}static mapArray(e,i){return new et(((s,o)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const m=p;i(e[m]).next((_=>{f[m]=_,++g,g===u&&s(f)}),(_=>o(_)))}}))}static doWhile(e,i){return new et(((s,o)=>{const u=()=>{e()===!0?i().next((()=>{u()}),o):s()};u()}))}}function sS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Hs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=-1;function Mc(r){return r==null}function pc(r){return r===0&&1/r==-1/0}function lS(r){return typeof r=="number"&&Number.isInteger(r)&&!pc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="";function oS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=k_(e)),e=uS(r.get(i),e);return k_(e)}function uS(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":i+="";break;case C0:i+="";break;default:i+=u}}return i}function k_(r){return r+C0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ur(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function D0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new le(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?s(e.key,i):1,i&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,u){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=u??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,u){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,s),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,s,o,u){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ce(this.comparator);return i.data=e,i}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new pn([])}unionWith(e){let i=new Ce(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new x0("Invalid base64 string: "+u):u}})(e);return new je(i)}static fromUint8Array(e){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const cS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(r){if(kt(!!r,39018),typeof r=="string"){let e=0;const i=cS.exec(r);if(kt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vr(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="server_timestamp",I0="__type__",V0="__previous_value__",M0="__local_write_time__";function dm(r){return(r?.mapValue?.fields||{})[I0]?.stringValue===N0}function Oc(r){const e=r.mapValue.fields[V0];return dm(e)?Oc(e):e}function mo(r){const e=Ir(r.mapValue.fields[M0].timestampValue);return new ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,i,s,o,u,f,g,p,m,_){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=_}}const yc="(default)";class go{constructor(e,i){this.projectId=e,this.database=i||yc}static empty(){return new go("","")}get isDefaultDatabase(){return this.database===yc}isEqual(e){return e instanceof go&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="__type__",fS="__max__",Ju={mapValue:{}},L0="__vector__",_c="value";function Mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dm(r)?4:mS(r)?9007199254740991:dS(r)?10:11:vt(28295,{value:r})}function di(r,e){if(r===e)return!0;const i=Mr(r);if(i!==Mr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mo(r).isEqual(mo(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ir(o.timestampValue),g=Ir(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Vr(o.bytesValue).isEqual(Vr(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),g=pe(u.doubleValue);return f===g?pc(f)===pc(g):isNaN(f)&&isNaN(g)}return!1})(r,e);case 9:return Ms(r.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(j_(f)!==j_(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!di(f[p],g[p])))return!1;return!0})(r,e);default:return vt(52216,{left:r})}}function po(r,e){return(r.values||[]).find((i=>di(i,e)))!==void 0}function Os(r,e){if(r===e)return 0;const i=Mr(r),s=Mr(e);if(i!==s)return Vt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=pe(u.integerValue||u.doubleValue),p=pe(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,e);case 3:return H_(r.timestampValue,e.timestampValue);case 4:return H_(mo(r),mo(e));case 5:return Md(r.stringValue,e.stringValue);case 6:return(function(u,f){const g=Vr(u),p=Vr(f);return g.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let m=0;m<g.length&&m<p.length;m++){const _=Vt(g[m],p[m]);if(_!==0)return _}return Vt(g.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=Vt(pe(u.latitude),pe(f.latitude));return g!==0?g:Vt(pe(u.longitude),pe(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return G_(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const g=u.fields||{},p=f.fields||{},m=g[_c]?.arrayValue,_=p[_c]?.arrayValue,T=Vt(m?.values?.length||0,_?.values?.length||0);return T!==0?T:G_(m,_)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Ju.mapValue&&f===Ju.mapValue)return 0;if(u===Ju.mapValue)return 1;if(f===Ju.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),m=f.fields||{},_=Object.keys(m);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const A=Md(p[T],_[T]);if(A!==0)return A;const x=Os(g[p[T]],m[_[T]]);if(x!==0)return x}return Vt(p.length,_.length)})(r.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function H_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Vt(r,e);const i=Ir(r),s=Ir(e),o=Vt(i.seconds,s.seconds);return o!==0?o:Vt(i.nanos,s.nanos)}function G_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const u=Os(i[o],s[o]);if(u)return u}return Vt(i.length,s.length)}function Ls(r){return Od(r)}function Od(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ir(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Vr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=Od(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Od(i.fields[f])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function sc(r){switch(Mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oc(r);return e?16+sc(e):16;case 5:return 2*r.stringValue.length;case 6:return Vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+sc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ur(s.fields,((u,f)=>{o+=u.length+sc(f)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function Q_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ld(r){return!!r&&"integerValue"in r}function mm(r){return!!r&&"arrayValue"in r}function F_(r){return!!r&&"nullValue"in r}function Y_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function lc(r){return!!r&&"mapValue"in r}function dS(r){return(r?.mapValue?.fields||{})[O0]?.stringValue===L0}function ao(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ur(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=ao(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ao(r.arrayValue.values[i]);return e}return{...r}}function mS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===fS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!lc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ao(i)}setAll(e){let i=ke.emptyPath(),s={},o=[];e.forEach(((f,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}f?s[g.lastSegment()]=ao(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,o)}delete(e){const i=this.field(e.popLast());lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ur(i,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new ln(ao(this.value))}}function P0(r){const e=[];return Ur(r.fields,((i,s)=>{const o=new ke([i]);if(lc(s)){const u=P0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,u,f,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,At.min(),At.min(),At.min(),ln.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,At.min(),At.min(),ln.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,At.min(),At.min(),ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i){this.position=e,this.inclusive=i}}function K_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(f.referenceValue),i.key):s=Os(f,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function X_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!di(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i="asc"){this.field=e,this.dir=i}}function gS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{}class Ee extends U0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new yS(e,i,s):i==="array-contains"?new ES(e,s):i==="in"?new TS(e,s):i==="not-in"?new bS(e,s):i==="array-contains-any"?new AS(e,s):new Ee(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new _S(e,s):new vS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Os(i,this.value)):i!==null&&Mr(this.value)===Mr(i)&&this.matchesComparison(Os(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends U0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Hn(e,i)}matches(e){return B0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B0(r){return r.op==="and"}function z0(r){return pS(r)&&B0(r)}function pS(r){for(const e of r.filters)if(e instanceof Hn)return!1;return!0}function Pd(r){if(r instanceof Ee)return r.field.canonicalString()+r.op.toString()+Ls(r.value);if(z0(r))return r.filters.map((e=>Pd(e))).join(",");{const e=r.filters.map((i=>Pd(i))).join(",");return`${r.op}(${e})`}}function k0(r,e){return r instanceof Ee?(function(s,o){return o instanceof Ee&&s.op===o.op&&s.field.isEqual(o.field)&&di(s.value,o.value)})(r,e):r instanceof Hn?(function(s,o){return o instanceof Hn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,g)=>u&&k0(f,o.filters[g])),!0):!1})(r,e):void vt(19439)}function j0(r){return r instanceof Ee?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ls(i.value)}`})(r):r instanceof Hn?(function(i){return i.op.toString()+" {"+i.getFilters().map(j0).join(" ,")+"}"})(r):"Filter"}class yS extends Ee{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class _S extends Ee{constructor(e,i){super(e,"in",i),this.keys=q0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class vS extends Ee{constructor(e,i){super(e,"not-in",i),this.keys=q0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function q0(r,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class ES extends Ee{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return mm(i)&&po(i.arrayValue,this.value)}}class TS extends Ee{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&po(this.value.arrayValue,i)}}class bS extends Ee{constructor(e,i){super(e,"not-in",i)}matches(e){if(po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!po(this.value.arrayValue,i)}}class AS extends Ee{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!mm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>po(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,i=null,s=[],o=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function $_(r,e=null,i=[],s=[],o=null,u=null,f=null){return new SS(r,e,i,s,o,u,f)}function gm(r){const e=Rt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Pd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Mc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Ls(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Ls(s))).join(",")),e.Te=i}return e.Te}function pm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!gS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!k0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!X_(r.startAt,e.startAt)&&X_(r.endAt,e.endAt)}function Ud(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,i=null,s=[],o=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RS(r,e,i,s,o,u,f,g){return new So(r,e,i,s,o,u,f,g)}function ym(r){return new So(r)}function Z_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function H0(r){return r.collectionGroup!==null}function so(r){const e=Rt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ce(ke.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(g=g.add(m.field))}))})),g})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ec(u,s))})),i.has(ke.keyField().canonicalString())||e.Ie.push(new Ec(ke.keyField(),s))}return e.Ie}function oi(r){const e=Rt(r);return e.Ee||(e.Ee=wS(e,so(r))),e.Ee}function wS(r,e){if(r.limitType==="F")return $_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ec(o.field,u)}));const i=r.endAt?new vc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new vc(r.startAt.position,r.startAt.inclusive):null;return $_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Bd(r,e){const i=r.filters.concat([e]);return new So(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function zd(r,e,i){return new So(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Lc(r,e){return pm(oi(r),oi(e))&&r.limitType===e.limitType}function G0(r){return`${gm(oi(r))}|lt:${r.limitType}`}function Cs(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>j0(o))).join(", ")}]`),Mc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Ls(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Ls(o))).join(",")),`Target(${s})`})(oi(r))}; limitType=${r.limitType})`}function Pc(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of so(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,g,p){const m=K_(f,g,p);return f.inclusive?m<=0:m<0})(s.startAt,so(s),o)||s.endAt&&!(function(f,g,p){const m=K_(f,g,p);return f.inclusive?m>=0:m>0})(s.endAt,so(s),o))})(r,e)}function CS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Q0(r){return(e,i)=>{let s=!1;for(const o of so(r)){const u=DS(o,e,i);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function DS(r,e,i){const s=r.field.isKeyField()?mt.comparator(e.key,i.key):(function(u,f,g){const p=f.data.field(u),m=g.data.field(u);return p!==null&&m!==null?Os(p,m):vt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ur(this.inner,((i,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return D0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=new le(mt.comparator);function zi(){return xS}const F0=new le(mt.comparator);function eo(...r){let e=F0;for(const i of r)e=e.insert(i.key,i);return e}function Y0(r){let e=F0;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Aa(){return lo()}function K0(){return lo()}function lo(){return new Ia((r=>r.toString()),((r,e)=>r.isEqual(e)))}const NS=new le(mt.comparator),IS=new Ce(mt.comparator);function Mt(...r){let e=IS;for(const i of r)e=e.add(i);return e}const VS=new Ce(Vt);function MS(){return VS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function X0(r){return{integerValue:""+r}}function OS(r,e){return lS(e)?X0(e):_m(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this._=void 0}}function LS(r,e,i){return r instanceof yo?(function(o,u){const f={fields:{[I0]:{stringValue:N0},[M0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&dm(u)&&(u=Oc(u)),u&&(f.fields[V0]=u),{mapValue:f}})(i,e):r instanceof _o?Z0(r,e):r instanceof vo?J0(r,e):(function(o,u){const f=$0(o,u),g=J_(f)+J_(o.Ae);return Ld(f)&&Ld(o.Ae)?X0(g):_m(o.serializer,g)})(r,e)}function PS(r,e,i){return r instanceof _o?Z0(r,e):r instanceof vo?J0(r,e):i}function $0(r,e){return r instanceof Tc?(function(s){return Ld(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class yo extends Uc{}class _o extends Uc{constructor(e){super(),this.elements=e}}function Z0(r,e){const i=W0(e);for(const s of r.elements)i.some((o=>di(o,s)))||i.push(s);return{arrayValue:{values:i}}}class vo extends Uc{constructor(e){super(),this.elements=e}}function J0(r,e){let i=W0(e);for(const s of r.elements)i=i.filter((o=>!di(o,s)));return{arrayValue:{values:i}}}class Tc extends Uc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function J_(r){return pe(r.integerValue||r.doubleValue)}function W0(r){return mm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,i){this.field=e,this.transform=i}}function BS(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof _o&&o instanceof _o||s instanceof vo&&o instanceof vo?Ms(s.elements,o.elements,di):s instanceof Tc&&o instanceof Tc?di(s.Ae,o.Ae):s instanceof yo&&o instanceof yo})(r.transform,e.transform)}class zS{constructor(e,i){this.version=e,this.transformResults=i}}class qn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Bc{}function t1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new vm(r.key,qn.none()):new Ro(r.key,r.data,qn.none());{const i=r.data,s=ln.empty();let o=new Ce(ke.comparator);for(let u of e.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Br(r.key,s,new pn(o.toArray()),qn.none())}}function kS(r,e,i){r instanceof Ro?(function(o,u,f){const g=o.value.clone(),p=tv(o.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,i):r instanceof Br?(function(o,u,f){if(!oc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=tv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(e1(o)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function oo(r,e,i,s){return r instanceof Ro?(function(u,f,g,p){if(!oc(u.precondition,f))return g;const m=u.value.clone(),_=ev(u.fieldTransforms,p,f);return m.setAll(_),f.convertToFoundDocument(f.version,m).setHasLocalMutations(),null})(r,e,i,s):r instanceof Br?(function(u,f,g,p){if(!oc(u.precondition,f))return g;const m=ev(u.fieldTransforms,p,f),_=f.data;return _.setAll(e1(u)),_.setAll(m),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,i,s):(function(u,f,g){return oc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,e,i)}function jS(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=$0(s.transform,o||null);u!=null&&(i===null&&(i=ln.empty()),i.set(s.field,u))}return i||null}function W_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ms(s,o,((u,f)=>BS(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ro extends Bc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Br extends Bc{constructor(e,i,s,o,u=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function e1(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function tv(r,e,i){const s=new Map;kt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const u=r[o],f=u.transform,g=e.data.field(u.field);s.set(u.field,PS(f,g,i[o]))}return s}function ev(r,e,i){const s=new Map;for(const o of r){const u=o.transform,f=i.data.field(o.field);s.set(o.field,LS(u,f,e))}return s}class vm extends Bc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qS extends Bc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&kS(u,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=oo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=oo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=K0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=i.has(o.key)?null:g;const p=t1(f,g);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,((i,s)=>W_(i,s)))&&Ms(this.baseMutations,e.baseMutations,((i,s)=>W_(i,s)))}}class Em{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){kt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return NS})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Em(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Lt;function FS(r){switch(r){case W.OK:return vt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function n1(r){if(r===void 0)return Bi("GRPC error has no .code"),W.UNKNOWN;switch(r){case ve.OK:return W.OK;case ve.CANCELLED:return W.CANCELLED;case ve.UNKNOWN:return W.UNKNOWN;case ve.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ve.INTERNAL:return W.INTERNAL;case ve.UNAVAILABLE:return W.UNAVAILABLE;case ve.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ve.NOT_FOUND:return W.NOT_FOUND;case ve.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ve.ABORTED:return W.ABORTED;case ve.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ve.DATA_LOSS:return W.DATA_LOSS;default:return vt(39323,{code:r})}}(Lt=ve||(ve={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new Cr([4294967295,4294967295],0);function nv(r){const e=YS().encode(r),i=new y0;return i.update(e),new Uint8Array(i.digest())}function iv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Cr([i,s],0),new Cr([o,u],0)]}class Tm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new no(`Invalid padding: ${i}`);if(s<0)throw new no(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new no(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Cr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Cr.fromNumber(s)));return o.compare(KS)===1&&(o=new Cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=nv(e),[s,o]=iv(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Tm(u,o,i);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const i=nv(e),[s,o]=iv(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,i,s,o,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,wo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new zc(At.min(),o,new le(Vt),zi(),Mt())}}class wo{constructor(e,i,s,o,u){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new wo(s,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class i1{constructor(e,i){this.targetId=e,this.Ce=i}}class r1{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class rv{constructor(){this.ve=0,this.Fe=av(),this.Me=je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),s=Mt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:u})}})),new wo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=av()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class XS{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.Je=Wu(),this.He=Wu(),this.Ye=new le(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Ud(u))if(s===0){const f=new mt(u.path);this.et(i,f,Ke.newNoDocument(f,At.min()))}else kt(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(i);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,m)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=i;let f,g;try{f=Vr(s).toUint8Array()}catch(p){if(p instanceof x0)return Vs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Tm(f,o,u)}catch(p){return Vs(p instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(i,u,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Ud(g.target)){const p=new mt(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Ke.newNoDocument(p,e))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let s=Mt();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new zc(e,i,this.Ye,this.je,s);return this.je=zi(),this.Je=Wu(),this.He=Wu(),this.Ye=new le(Vt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new rv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ce(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ce(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Wu(){return new le(mt.comparator)}function av(){return new le(mt.comparator)}const $S={asc:"ASCENDING",desc:"DESCENDING"},ZS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JS={and:"AND",or:"OR"};class WS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function kd(r,e){return r.useProto3Json||Mc(e)?e:{value:e}}function bc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function tR(r,e){return bc(r,e.toTimestamp())}function ui(r){return kt(!!r,49232),At.fromTimestamp((function(i){const s=Ir(i);return new ne(s.seconds,s.nanos)})(r))}function bm(r,e){return jd(r,e).canonicalString()}function jd(r,e){const i=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function s1(r){const e=te.fromString(r);return kt(h1(e),10190,{key:e.toString()}),e}function qd(r,e){return bm(r.databaseId,e.path)}function ud(r,e){const i=s1(e);if(i.get(1)!==r.databaseId.projectId)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(o1(i))}function l1(r,e){return bm(r.databaseId,e)}function eR(r){const e=s1(r);return e.length===4?te.emptyPath():o1(e)}function Hd(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function o1(r){return kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function sv(r,e,i){return{name:qd(r,e),fields:i.value.mapValue.fields}}function nR(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:vt(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,_){return m.useProto3Json?(kt(_===void 0||typeof _=="string",58123),je.fromBase64String(_||"")):(kt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),je.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(m){const _=m.code===void 0?W.UNKNOWN:n1(m.code);return new ut(_,m.message||"")})(f);i=new r1(s,o,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ud(r,s.document.name),u=ui(s.document.updateTime),f=s.document.createTime?ui(s.document.createTime):At.min(),g=new ln({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,u,f,g),m=s.targetIds||[],_=s.removedTargetIds||[];i=new uc(m,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ud(r,s.document),u=s.readTime?ui(s.readTime):At.min(),f=Ke.newNoDocument(o,u),g=s.removedTargetIds||[];i=new uc([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ud(r,s.document),u=s.removedTargetIds||[];i=new uc([],u,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new QS(o,u),g=s.targetId;i=new i1(g,f)}}return i}function iR(r,e){let i;if(e instanceof Ro)i={update:sv(r,e.key,e.value)};else if(e instanceof vm)i={delete:qd(r,e.key)};else if(e instanceof Br)i={update:sv(r,e.key,e.data),updateMask:fR(e.fieldMask)};else{if(!(e instanceof qS))return vt(16599,{Vt:e.type});i={verify:qd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof yo)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof _o)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof vo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Tc)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:tR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(r,e.precondition)),i}function rR(r,e){return r&&r.length>0?(kt(e!==void 0,14353),r.map((i=>(function(o,u){let f=o.updateTime?ui(o.updateTime):ui(u);return f.isEqual(At.min())&&(f=ui(u)),new zS(f,o.transformResults||[])})(i,e)))):[]}function aR(r,e){return{documents:[l1(r,e.path)]}}function sR(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=l1(r,o);const u=(function(m){if(m.length!==0)return c1(Hn.create(m,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const f=(function(m){if(m.length!==0)return m.map((_=>(function(A){return{field:Ds(A.field),direction:uR(A.dir)}})(_)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const g=kd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:i,parent:o}}function lR(r){let e=eR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){kt(s===1,65062);const _=i.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];i.where&&(u=(function(T){const A=u1(T);return A instanceof Hn&&z0(A)?A.getFilters():[A]})(i.where));let f=[];i.orderBy&&(f=(function(T){return T.map((A=>(function(L){return new Ec(xs(L.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(A)))})(i.orderBy));let g=null;i.limit&&(g=(function(T){let A;return A=typeof T=="object"?T.value:T,Mc(A)?null:A})(i.limit));let p=null;i.startAt&&(p=(function(T){const A=!!T.before,x=T.values||[];return new vc(x,A)})(i.startAt));let m=null;return i.endAt&&(m=(function(T){const A=!T.before,x=T.values||[];return new vc(x,A)})(i.endAt)),RS(e,o,f,u,g,"F",p,m)}function oR(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function u1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=xs(i.unaryFilter.field);return Ee.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=xs(i.unaryFilter.field);return Ee.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=xs(i.unaryFilter.field);return Ee.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xs(i.unaryFilter.field);return Ee.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ee.create(xs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Hn.create(i.compositeFilter.filters.map((s=>u1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function uR(r){return $S[r]}function cR(r){return ZS[r]}function hR(r){return JS[r]}function Ds(r){return{fieldPath:r.canonicalString()}}function xs(r){return ke.fromServerFormat(r.fieldPath)}function c1(r){return r instanceof Ee?(function(i){if(i.op==="=="){if(Y_(i.value))return{unaryFilter:{field:Ds(i.field),op:"IS_NAN"}};if(F_(i.value))return{unaryFilter:{field:Ds(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y_(i.value))return{unaryFilter:{field:Ds(i.field),op:"IS_NOT_NAN"}};if(F_(i.value))return{unaryFilter:{field:Ds(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(i.field),op:cR(i.op),value:i.value}}})(r):r instanceof Hn?(function(i){const s=i.getFilters().map((o=>c1(o)));return s.length===1?s[0]:{compositeFilter:{op:hR(i.op),filters:s}}})(r):vt(54877,{filter:r})}function fR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function h1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,i,s,o,u=At.min(),f=At.min(),g=je.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.yt=e}}function mR(r){const e=lR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.Cn=new pR}addToCollectionParentIndex(e,i){return this.Cn.add(i),et.resolve()}getCollectionParents(e,i){return et.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return et.resolve()}deleteFieldIndex(e,i){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,i){return et.resolve()}getDocumentsMatchingTarget(e,i){return et.resolve(null)}getIndexType(e,i){return et.resolve(0)}getFieldIndexes(e,i){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,i){return et.resolve(Nr.min())}getMinOffsetFromCollectionGroup(e,i){return et.resolve(Nr.min())}updateCollectionGroup(e,i,s){return et.resolve()}updateIndexEntries(e,i){return et.resolve()}}class pR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ce(te.comparator),u=!o.has(s);return this.index[i]=o.add(s),u}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ce(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},f1=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(f1,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ps(0)}static cr(){return new Ps(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LruGarbageCollector",yR=1048576;function uv([r,e],[i,s]){const o=Vt(r,i);return o===0?Vt(e,s):o}class _R{constructor(e){this.Ir=e,this.buffer=new Ce(uv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();uv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class vR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ct(ov,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Hs(i)?ct(ov,"Ignoring IndexedDB error during garbage collection: ",i):await qs(i)}await this.Vr(3e5)}))}}class ER{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return et.resolve(Vc.ce);const s=new _R(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(lv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,u,f,g,p,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,g=Date.now(),this.removeTargets(e,s,i)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(m=Date.now(),ws()<=Pt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-_}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function TR(r,e){return new ER(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.changes=new Ia((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?et.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&oo(s.mutation,o,pn.empty(),ne.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Mt()){const o=Aa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((u=>{let f=eo();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const s=Aa();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Mt())))}populateOverlays(e,i,s){const o=[];return s.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,g)=>{i.set(f,g)}))}))}computeViews(e,i,s,o){let u=zi();const f=lo(),g=(function(){return lo()})();return i.forEach(((p,m)=>{const _=s.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof Br)?u=u.insert(m.key,m):_!==void 0?(f.set(m.key,_.mutation.getFieldMask()),oo(_.mutation,m,_.mutation.getFieldMask(),ne.now())):f.set(m.key,pn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((m,_)=>f.set(m,_))),i.forEach(((m,_)=>g.set(m,new AR(_,f.get(m)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=lo();let o=new le(((f,g)=>f-g)),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const g of f)g.keys().forEach((p=>{const m=i.get(p);if(m===null)return;let _=s.get(p)||pn.empty();_=g.applyToLocalView(m,_),s.set(p,_);const T=(o.get(g.batchId)||Mt()).add(p);o=o.insert(g.batchId,T)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),m=p.key,_=p.value,T=K0();_.forEach((A=>{if(!u.has(A)){const x=t1(i.get(A),s.get(A));x!==null&&T.set(A,x),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,m,T))}return et.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):H0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-u.size):et.resolve(Aa());let g=fo,p=u;return f.next((m=>et.forEach(m,((_,T)=>(g<T.largestBatchId&&(g=T.largestBatchId),u.get(_)?et.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{p=p.insert(_,A)}))))).next((()=>this.populateOverlays(e,m,u))).next((()=>this.computeViews(e,p,m,Mt()))).next((_=>({batchId:g,changes:Y0(_)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((s=>{let o=eo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const u=i.collectionGroup;let f=eo();return this.indexManager.getCollectionParents(e,u).next((g=>et.forEach(g,(p=>{const m=(function(T,A){return new So(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,m,s,o).next((_=>{_.forEach(((T,A)=>{f=f.insert(T,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,u,o)))).next((f=>{u.forEach(((p,m)=>{const _=m.getKey();f.get(_)===null&&(f=f.insert(_,Ke.newInvalidDocument(_)))}));let g=eo();return f.forEach(((p,m)=>{const _=u.get(p);_!==void 0&&oo(_.mutation,m,pn.empty(),ne.now()),Pc(i,m)&&(g=g.insert(p,m))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return et.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ui(o.createTime)}})(i)),et.resolve()}getNamedQuery(e,i){return et.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:mR(o.bundledQuery),readTime:ui(o.readTime)}})(i)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.overlays=new le(mt.comparator),this.qr=new Map}getOverlay(e,i){return et.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Aa();return et.forEach(i,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,u)=>{this.St(e,i,u)})),et.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(e,i,s){const o=Aa(),u=i.length+1,f=new mt(i.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,m=p.getKey();if(!i.isPrefixOf(m.path))break;m.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return et.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let u=new le(((m,_)=>m-_));const f=this.overlays.getIterator();for(;f.hasNext();){const m=f.getNext().value;if(m.getKey().getCollectionGroup()===i&&m.largestBatchId>s){let _=u.get(m.largestBatchId);_===null&&(_=Aa(),u=u.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const g=Aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,_)=>g.set(m,_))),!(g.size()>=o)););return et.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new GS(i,s));let u=this.qr.get(i);u===void 0&&(u=Mt(),this.qr.set(i,u)),this.qr.set(i,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.Qr=new Ce(Me.$r),this.Ur=new Ce(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Me(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new mt(new te([])),s=new Me(i,e),o=new Me(i,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new te([])),s=new Me(i,e),o=new Me(i,e+1);let u=Mt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new Me(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(Me.$r)}checkEmpty(e){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new HS(u,i,s,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new Me(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return et.resolve(f)}lookupMutationBatch(e,i){return et.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?fm:this.tr-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const g=this.Xr(f.Yr);u.push(g)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ce(Vt);return i.forEach((o=>{const u=new Me(o,0),f=new Me(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{s=s.add(g.Yr)}))})),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const f=new Me(new mt(u),0);let g=new Ce(Vt);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!s.isPrefixOf(m)&&(m.length===o&&(g=g.add(p.Yr)),!0)}),f),et.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(i.mutations,(o=>{const u=new Me(o.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Me(i,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,et.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.ri=e,this.docs=(function(){return new le(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return et.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=zi();return i.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ke.newInvalidDocument(o))})),et.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let u=zi();const f=i.path,g=new mt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:m,value:{document:_}}=p.getNext();if(!f.isPrefixOf(m.path))break;m.path.length>f.length+1||iS(nS(_),s)<=0||(o.has(_.key)||Pc(i,_))&&(u=u.insert(_.key,_.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(e,i,s,o){vt(9500)}ii(e,i){return et.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new NR(this)}getSize(e){return et.resolve(this.size)}}class NR extends bR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),et.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.persistence=e,this.si=new Ia((i=>gm(i)),pm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Am,this.targetCount=0,this.ai=Ps.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),et.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ps(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,et.resolve()}updateTargetData(e,i){return this.Pr(i),et.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,i,s){let o=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return et.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),et.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),et.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),et.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return et.resolve(s)}containsKey(e,i){return et.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,i){this.ui={},this.overlays={},this.ci=new Vc(0),this.li=!1,this.li=!0,this.hi=new CR,this.referenceDelegate=e(this),this.Pi=new IR(this),this.indexManager=new gR,this.remoteDocumentCache=(function(o){return new xR(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new dR(i),this.Ii=new RR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new wR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new DR(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ct("MemoryPersistence","Starting transaction:",e);const o=new VR(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,i){return et.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class VR extends aS{constructor(e){super(),this.currentSequenceNumber=e}}class Sm{constructor(e){this.persistence=e,this.Ri=new Am,this.Vi=null}static mi(e){return new Sm(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),et.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),et.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(s=>{const o=mt.fromPath(s);return this.gi(e,o).next((u=>{u||i.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return et.or([()=>et.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Ac{constructor(e,i){this.persistence=e,this.pi=new Ia((s=>oS(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=TR(this,i)}static mi(e,i){return new Ac(e,i)}Ei(){}di(e){return et.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return et.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?et.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,i).next((g=>{g||(s++,u.removeEntry(f,At.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),et.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),et.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),et.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),et.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=sc(e.data.value)),i}br(e,i,s){return et.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Mt(),o=Mt();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Rm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wA()?8:sS(SA())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new MR;return this.Ss(e,i,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,i,f,g.size)}))})).next((()=>u.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(ws()<=Pt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Cs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(ws()<=Pt.DEBUG&&ct("QueryEngine","Query:",Cs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ws()<=Pt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Cs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(i))):et.resolve())}ys(e,i){if(Z_(i))return et.resolve(null);let s=oi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=zd(i,null,"F"),s=oi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Mt(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const m=this.Ds(i,g);return this.Cs(i,m,f,p.readTime)?this.ys(e,zd(i,null,"F")):this.vs(e,m,i,p)}))))})))))}ws(e,i,s,o){return Z_(i)||o.isEqual(At.min())?et.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,s,o)?et.resolve(null):(ws()<=Pt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Cs(i)),this.vs(e,f,i,eS(o,fo)).next((g=>g)))}))}Ds(e,i){let s=new Ce(Q0(e));return i.forEach(((o,u)=>{Pc(e,u)&&(s=s.add(u))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,i,s){return ws()<=Pt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Cs(i)),this.ps.getDocumentsMatchingQuery(e,i,Nr.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="LocalStore",LR=3e8;class PR{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new le(Vt),this.xs=new Ia((u=>gm(u)),pm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function UR(r,e,i,s){return new PR(r,e,i,s)}async function m1(r,e){const i=Rt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let p=Mt();for(const m of o){f.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}for(const m of u){g.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}return i.localDocuments.getDocuments(s,p).next((m=>({Ls:m,removedBatchIds:f,addedBatchIds:g})))}))}))}function BR(r,e){const i=Rt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,m,_){const T=m.batch,A=T.keys();let x=et.resolve();return A.forEach((L=>{x=x.next((()=>_.getEntry(p,L))).next((O=>{const k=m.docVersions.get(L);kt(k!==null,48541),O.version.compareTo(k)<0&&(T.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),_.addEntry(O)))}))})),x.next((()=>g.mutationQueue.removeMutationBatch(p,T)))})(i,s,e,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Mt();for(let m=0;m<g.mutationResults.length;++m)g.mutationResults[m].transformResults.length>0&&(p=p.add(g.batch.mutations[m].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function g1(r){const e=Rt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function zR(r,e){const i=Rt(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((_,T)=>{const A=o.get(T);if(!A)return;g.push(i.Pi.removeMatchingKeys(u,_.removedDocuments,T).next((()=>i.Pi.addMatchingKeys(u,_.addedDocuments,T))));let x=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?x=x.withResumeToken(je.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,s)),o=o.insert(T,x),(function(O,k,X){return O.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=LR?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(A,x,_)&&g.push(i.Pi.updateTargetData(u,x))}));let p=zi(),m=Mt();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,_))})),g.push(kR(u,f,e.documentUpdates).next((_=>{p=_.ks,m=_.qs}))),!s.isEqual(At.min())){const _=i.Pi.getLastRemoteSnapshotVersion(u).next((T=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(_)}return et.waitFor(g).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,m))).next((()=>p))})).then((u=>(i.Ms=o,u)))}function kR(r,e,i){let s=Mt(),o=Mt();return i.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=zi();return i.forEach(((g,p)=>{const m=u.get(g);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):ct(wm,"Ignoring outdated watch update for ",g,". Current version:",m.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function jR(r,e){const i=Rt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=fm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function qR(r,e){const i=Rt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((u=>u?(o=u,et.resolve(o)):i.Pi.allocateTargetId(s).next((f=>(o=new Sr(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Gd(r,e,i){const s=Rt(r),o=s.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Hs(f))throw f;ct(wm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function cv(r,e,i){const s=Rt(r);let o=At.min(),u=Mt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,m,_){const T=Rt(p),A=T.xs.get(_);return A!==void 0?et.resolve(T.Ms.get(A)):T.Pi.getTargetData(m,_)})(s,f,oi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,i?o:At.min(),i?u:Mt()))).next((g=>(HR(s,CS(e),g),{documents:g,Qs:u})))))}function HR(r,e,i){let s=r.Os.get(e)||At.min();i.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class hv{constructor(){this.activeTargetIds=MS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GR{constructor(){this.Mo=new hv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="ConnectivityMonitor";class dv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(fv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ct(fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc=null;function Qd(){return tc===null?tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():tc++,"0x"+tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="RestConnection",FR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===yc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,u){const f=Qd(),g=this.zo(e,i.toUriEncodedString());ct(cd,`Sending RPC '${e}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:m}=new URL(g),_=om(m);return this.Jo(e,g,p,s,_).then((T=>(ct(cd,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw Vs(cd,`RPC '${e}' ${f} failed with error: `,T,"url: ",g,"request:",s),T}))}Ho(e,i,s,o,u,f){return this.Go(e,i,s,o,u)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+js})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,i){const s=FR[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class XR extends YR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,u){const f=Qd();return new Promise(((g,p)=>{const m=new _0;m.setWithCredentials(!0),m.listenOnce(v0.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case ac.NO_ERROR:const T=m.getResponseJson();ct(Fe,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),g(T);break;case ac.TIMEOUT:ct(Fe,`RPC '${e}' ${f} timed out`),p(new ut(W.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:const A=m.getStatus();if(ct(Fe,`RPC '${e}' ${f} failed with status:`,A,"response text:",m.getResponseText()),A>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const L=x?.error;if(L&&L.status&&L.message){const O=(function(X){const Q=X.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Q)>=0?Q:W.UNKNOWN})(L.status);p(new ut(O,L.message))}else p(new ut(W.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new ut(W.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:f,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ct(Fe,`RPC '${e}' ${f} completed.`)}}));const _=JSON.stringify(o);ct(Fe,`RPC '${e}' ${f} sending request:`,o),m.send(i,"POST",_,s,15)}))}T_(e,i,s){const o=Qd(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=b0(),g=T0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const _=u.join("");ct(Fe,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=f.createWebChannel(_,p);this.I_(T);let A=!1,x=!1;const L=new KR({Yo:k=>{x?ct(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(A||(ct(Fe,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ct(Fe,`RPC '${e}' stream ${o} sending:`,k),T.send(k))},Zo:()=>T.close()}),O=(k,X,Q)=>{k.listen(X,(it=>{try{Q(it)}catch(pt){setTimeout((()=>{throw pt}),0)}}))};return O(T,to.EventType.OPEN,(()=>{x||(ct(Fe,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),O(T,to.EventType.CLOSE,(()=>{x||(x=!0,ct(Fe,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(T))})),O(T,to.EventType.ERROR,(k=>{x||(x=!0,Vs(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),L.a_(new ut(W.UNAVAILABLE,"The operation could not be completed")))})),O(T,to.EventType.MESSAGE,(k=>{if(!x){const X=k.data[0];kt(!!X,16349);const Q=X,it=Q?.error||Q[0]?.error;if(it){ct(Fe,`RPC '${e}' stream ${o} received error:`,it);const pt=it.status;let at=(function(R){const w=ve[R];if(w!==void 0)return n1(w)})(pt),bt=it.message;at===void 0&&(at=W.INTERNAL,bt="Unknown error status: "+pt+" with message "+it.message),x=!0,L.a_(new ut(at,bt)),T.close()}else ct(Fe,`RPC '${e}' stream ${o} received:`,X),L.u_(X)}})),O(g,E0.STAT_EVENT,(k=>{k.stat===Vd.PROXY?ct(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Vd.NOPROXY&&ct(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(r){return new WS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,i,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="PersistentStream";class y1{constructor(e,i,s,o,u,f,g,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new p1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Bi(i.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ut(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ct(mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ct(mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $R extends y1{constructor(e,i,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=nR(this.serializer,e),s=(function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?ui(f.readTime):At.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Hd(this.serializer),i.addTarget=(function(u,f){let g;const p=f.target;if(g=Ud(p)?{documents:aR(u,p)}:{query:sR(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=a1(u,f.resumeToken);const m=kd(u,f.expectedCount);m!==null&&(g.expectedCount=m)}else if(f.snapshotVersion.compareTo(At.min())>0){g.readTime=bc(u,f.snapshotVersion.toTimestamp());const m=kd(u,f.expectedCount);m!==null&&(g.expectedCount=m)}return g})(this.serializer,e);const s=oR(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Hd(this.serializer),i.removeTarget=e,this.q_(i)}}class ZR extends y1{constructor(e,i,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=rR(e.writeResults,e.commitTime),s=ui(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Hd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>iR(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{}class WR extends JR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,jd(i,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(W.UNKNOWN,u.toString())}))}Ho(e,i,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,jd(i,s),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bi(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class ew{constructor(e,i,s,o,u){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Va(this)&&(ct(Ca,"Restarting streams for network reachability change."),await(async function(p){const m=Rt(p);m.Ea.add(4),await Co(m),m.Ra.set("Unknown"),m.Ea.delete(4),await jc(m)})(this))}))})),this.Ra=new tw(s,o)}}async function jc(r){if(Va(r))for(const e of r.da)await e(!0)}async function Co(r){for(const e of r.da)await e(!1)}function _1(r,e){const i=Rt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Nm(i)?xm(i):Gs(i).O_()&&Dm(i,e))}function Cm(r,e){const i=Rt(r),s=Gs(i);i.Ia.delete(e),s.O_()&&v1(i,e),i.Ia.size===0&&(s.O_()?s.L_():Va(i)&&i.Ra.set("Unknown"))}function Dm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Gs(r).Y_(e)}function v1(r,e){r.Va.Ue(e),Gs(r).Z_(e)}function xm(r){r.Va=new XS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Gs(r).start(),r.Ra.ua()}function Nm(r){return Va(r)&&!Gs(r).x_()&&r.Ia.size>0}function Va(r){return Rt(r).Ea.size===0}function E1(r){r.Va=void 0}async function nw(r){r.Ra.set("Online")}async function iw(r){r.Ia.forEach(((e,i)=>{Dm(r,e)}))}async function rw(r,e){E1(r),Nm(r)?(r.Ra.ha(e),xm(r)):r.Ra.set("Unknown")}async function aw(r,e,i){if(r.Ra.set("Online"),e instanceof r1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(s){ct(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sc(r,s)}else if(e instanceof uc?r.Va.Ze(e):e instanceof i1?r.Va.st(e):r.Va.tt(e),!i.isEqual(At.min()))try{const s=await g1(r.localStore);i.compareTo(s)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(m);_&&u.Ia.set(m,_.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,m)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(je.EMPTY_BYTE_STRING,_.snapshotVersion)),v1(u,p);const T=new Sr(_.target,p,m,_.sequenceNumber);Dm(u,T)})),u.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ct(Ca,"Failed to raise snapshot:",s),await Sc(r,s)}}async function Sc(r,e,i){if(!Hs(e))throw e;r.Ea.add(1),await Co(r),r.Ra.set("Offline"),i||(i=()=>g1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ct(Ca,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await jc(r)}))}function T1(r,e){return e().catch((i=>Sc(r,i,e)))}async function qc(r){const e=Rt(r),i=Or(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fm;for(;sw(e);)try{const o=await jR(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,lw(e,o)}catch(o){await Sc(e,o)}b1(e)&&A1(e)}function sw(r){return Va(r)&&r.Ta.length<10}function lw(r,e){r.Ta.push(e);const i=Or(r);i.O_()&&i.X_&&i.ea(e.mutations)}function b1(r){return Va(r)&&!Or(r).x_()&&r.Ta.length>0}function A1(r){Or(r).start()}async function ow(r){Or(r).ra()}async function uw(r){const e=Or(r);for(const i of r.Ta)e.ea(i.mutations)}async function cw(r,e,i){const s=r.Ta.shift(),o=Em.from(s,e,i);await T1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await qc(r)}async function hw(r,e){e&&Or(r).X_&&await(async function(s,o){if((function(f){return FS(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();Or(s).B_(),await T1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await qc(s)}})(r,e),b1(r)&&A1(r)}async function gv(r,e){const i=Rt(r);i.asyncQueue.verifyOperationInProgress(),ct(Ca,"RemoteStore received new credentials");const s=Va(i);i.Ea.add(3),await Co(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await jc(i)}async function fw(r,e){const i=Rt(r);e?(i.Ea.delete(2),await jc(i)):e||(i.Ea.add(2),await Co(i),i.Ra.set("Unknown"))}function Gs(r){return r.ma||(r.ma=(function(i,s,o){const u=Rt(i);return u.sa(),new $R(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:nw.bind(null,r),t_:iw.bind(null,r),r_:rw.bind(null,r),H_:aw.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Nm(r)?xm(r):r.Ra.set("Unknown")):(await r.ma.stop(),E1(r))}))),r.ma}function Or(r){return r.fa||(r.fa=(function(i,s,o){const u=Rt(i);return u.sa(),new ZR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ow.bind(null,r),r_:hw.bind(null,r),ta:uw.bind(null,r),na:cw.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await qc(r)):(await r.fa.stop(),r.Ta.length>0&&(ct(Ca,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,i,s,o,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,u){const f=Date.now()+s,g=new Im(e,i,f,o,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vm(r,e){if(Bi("AsyncQueue",`${e}: ${r}`),Hs(r))return new ut(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{static emptySet(e){return new Is(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=eo(),this.sortedSet=new le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Is)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Is;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.ga=new le(mt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Us{constructor(e,i,s,o,u,f,g,p,m){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,i,s,o,u){const f=[];return i.forEach((g=>{f.push({type:0,doc:g})})),new Us(e,i,Is.emptySet(i),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class mw{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Rt(i),u=o.queries;o.queries=yv(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new ut(W.ABORTED,"Firestore shutting down"))}}function yv(){return new Ia((r=>G0(r)),Lc)}async function S1(r,e){const i=Rt(r);let s=3;const o=e.query;let u=i.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new dw,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const g=Vm(f,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&Mm(i)}async function R1(r,e){const i=Rt(r),s=e.query;let o=3;const u=i.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function gw(r,e){const i=Rt(r);let s=!1;for(const o of e){const u=o.query,f=i.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(s=!0);f.wa=o}}s&&Mm(i)}function pw(r,e,i){const s=Rt(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(i);s.queries.delete(e)}function Mm(r){r.Ca.forEach((e=>{e.next()}))}var Fd,_v;(_v=Fd||(Fd={})).Ma="default",_v.Cache="cache";class w1{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Us(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.key=e}}class D1{constructor(e){this.key=e}}class yw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=Q0(e),this.tu=new Is(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new pv,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const A=o.get(_),x=Pc(this.query,T)?T:null,L=!!A&&this.mutatedKeys.has(A.key),O=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;A&&x?A.data.isEqual(x.data)?L!==O&&(s.track({type:3,doc:x}),k=!0):this.su(A,x)||(s.track({type:2,doc:x}),k=!0,(p&&this.eu(x,p)>0||m&&this.eu(x,m)<0)&&(g=!0)):!A&&x?(s.track({type:0,doc:x}),k=!0):A&&!x&&(s.track({type:1,doc:A}),k=!0,(p||m)&&(g=!0)),k&&(x?(f=f.add(x),u=O?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((_,T)=>(function(x,L){const O=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:k})}};return O(x)-O(L)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,m=p!==this.Za;return this.Za=p,f.length!==0||m?{snapshot:new Us(this.query,e.tu,u,f,e.mutatedKeys,p===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new D1(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new C1(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Us.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Om="SyncEngine";class _w{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class vw{constructor(e){this.key=e,this.hu=!1}}class Ew{constructor(e,i,s,o,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ia((g=>G0(g)),Lc),this.Iu=new Map,this.Eu=new Set,this.du=new le(mt.comparator),this.Au=new Map,this.Ru=new Am,this.Vu={},this.mu=new Map,this.fu=Ps.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Tw(r,e,i=!0){const s=O1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await x1(s,e,i,!0),o}async function bw(r,e){const i=O1(r);await x1(i,e,!0,!1)}async function x1(r,e,i,s){const o=await qR(r.localStore,oi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,i);let g;return s&&(g=await Aw(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&i&&_1(r.remoteStore,o),g}async function Aw(r,e,i,s,o){r.pu=(T,A,x)=>(async function(O,k,X,Q){let it=k.view.ru(X);it.Cs&&(it=await cv(O.localStore,k.query,!1).then((({documents:N})=>k.view.ru(N,it))));const pt=Q&&Q.targetChanges.get(k.targetId),at=Q&&Q.targetMismatches.get(k.targetId)!=null,bt=k.view.applyChanges(it,O.isPrimaryClient,pt,at);return Ev(O,k.targetId,bt.au),bt.snapshot})(r,T,A,x);const u=await cv(r.localStore,e,!0),f=new yw(e,u.Qs),g=f.ru(u.documents),p=wo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),m=f.applyChanges(g,r.isPrimaryClient,p);Ev(r,i,m.au);const _=new _w(e,i,f);return r.Tu.set(e,_),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),m.snapshot}async function Sw(r,e,i){const s=Rt(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Lc(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Cm(s.remoteStore,o.targetId),Yd(s,o.targetId)})).catch(qs)):(Yd(s,o.targetId),await Gd(s.localStore,o.targetId,!0))}async function Rw(r,e){const i=Rt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Cm(i.remoteStore,s.targetId))}async function ww(r,e,i){const s=Mw(r);try{const o=await(function(f,g){const p=Rt(f),m=ne.now(),_=g.reduce(((x,L)=>x.add(L.key)),Mt());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let L=zi(),O=Mt();return p.Ns.getEntries(x,_).next((k=>{L=k,L.forEach(((X,Q)=>{Q.isValidDocument()||(O=O.add(X))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,L))).next((k=>{T=k;const X=[];for(const Q of g){const it=jS(Q,T.get(Q.key).overlayedDocument);it!=null&&X.push(new Br(Q.key,it,P0(it.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(x,m,X,g)})).next((k=>{A=k;const X=k.applyToLocalDocumentSet(T,O);return p.documentOverlayCache.saveOverlays(x,k.batchId,X)}))})).then((()=>({batchId:A.batchId,changes:Y0(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,g,p){let m=f.Vu[f.currentUser.toKey()];m||(m=new le(Vt)),m=m.insert(g,p),f.Vu[f.currentUser.toKey()]=m})(s,o.batchId,i),await Do(s,o.changes),await qc(s.remoteStore)}catch(o){const u=Vm(o,"Failed to persist write");i.reject(u)}}async function N1(r,e){const i=Rt(r);try{const s=await zR(i.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?kt(f.hu,14607):o.removedDocuments.size>0&&(kt(f.hu,42227),f.hu=!1))})),await Do(i,s,e)}catch(s){await qs(s)}}function vv(r,e,i){const s=Rt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const p=Rt(f);p.onlineState=g;let m=!1;p.queries.forEach(((_,T)=>{for(const A of T.Sa)A.va(g)&&(m=!0)})),m&&Mm(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Cw(r,e,i){const s=Rt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new le(mt.comparator);f=f.insert(u,Ke.newNoDocument(u,At.min()));const g=Mt().add(u),p=new zc(At.min(),new Map,new le(Vt),f,g);await N1(s,p),s.du=s.du.remove(u),s.Au.delete(e),Lm(s)}else await Gd(s.localStore,e,!1).then((()=>Yd(s,e,i))).catch(qs)}async function Dw(r,e){const i=Rt(r),s=e.batch.batchId;try{const o=await BR(i.localStore,e);V1(i,s,null),I1(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Do(i,o)}catch(o){await qs(o)}}async function xw(r,e,i){const s=Rt(r);try{const o=await(function(f,g){const p=Rt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return p.mutationQueue.lookupMutationBatch(m,g).next((T=>(kt(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(m,T)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,_,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>p.localDocuments.getDocuments(m,_)))}))})(s.localStore,e);V1(s,e,i),I1(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Do(s,o)}catch(o){await qs(o)}}function I1(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function V1(r,e,i){const s=Rt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(i?u.reject(i):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Yd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||M1(r,s)}))}function M1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Cm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Lm(r))}function Ev(r,e,i){for(const s of i)s instanceof C1?(r.Ru.addReference(s.key,e),Nw(r,s)):s instanceof D1?(ct(Om,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||M1(r,s.key)):vt(19791,{wu:s})}function Nw(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ct(Om,"New document in limbo: "+i),r.Eu.add(s),Lm(r))}function Lm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new mt(te.fromString(e)),s=r.fu.next();r.Au.set(s,new vw(i)),r.du=r.du.insert(i,s),_1(r.remoteStore,new Sr(oi(ym(i.path)),s,"TargetPurposeLimboResolution",Vc.ce))}}async function Do(r,e,i){const s=Rt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{f.push(s.pu(p,e,i).then((m=>{if((m||i)&&s.isPrimaryClient){const _=m?!m.fromCache:i?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(m){o.push(m);const _=Rm.As(p.targetId,m);u.push(_)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,m){const _=Rt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>et.forEach(m,(A=>et.forEach(A.Es,(x=>_.persistence.referenceDelegate.addReference(T,A.targetId,x))).next((()=>et.forEach(A.ds,(x=>_.persistence.referenceDelegate.removeReference(T,A.targetId,x)))))))))}catch(T){if(!Hs(T))throw T;ct(wm,"Failed to update sequence numbers: "+T)}for(const T of m){const A=T.targetId;if(!T.fromCache){const x=_.Ms.get(A),L=x.snapshotVersion,O=x.withLastLimboFreeSnapshotVersion(L);_.Ms=_.Ms.insert(A,O)}}})(s.localStore,u))}async function Iw(r,e){const i=Rt(r);if(!i.currentUser.isEqual(e)){ct(Om,"User change. New user:",e.toKey());const s=await m1(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new ut(W.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Do(i,s.Ls)}}function Vw(r,e){const i=Rt(r),s=i.Au.get(e);if(s&&s.hu)return Mt().add(s.key);{let o=Mt();const u=i.Iu.get(e);if(!u)return o;for(const f of u){const g=i.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function O1(r){const e=Rt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=N1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cw.bind(null,e),e.Pu.H_=gw.bind(null,e.eventManager),e.Pu.yu=pw.bind(null,e.eventManager),e}function Mw(r){const e=Rt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xw.bind(null,e),e}class Rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return UR(this.persistence,new OR,e.initialUser,this.serializer)}Cu(e){return new d1(Sm.mi,this.serializer)}Du(e){return new GR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rc.provider={build:()=>new Rc};class Ow extends Rc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){kt(this.persistence.referenceDelegate instanceof Ac,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vR(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new d1((s=>Ac.mi(s,i)),this.serializer)}}class Kd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Iw.bind(null,this.syncEngine),await fw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mw})()}createDatastore(e){const i=kc(e.databaseInfo.databaseId),s=(function(u){return new XR(u)})(e.databaseInfo);return(function(u,f,g,p){return new WR(u,f,g,p)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,u,f,g){return new ew(s,o,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>vv(this.syncEngine,i,0)),(function(){return dv.v()?new dv:new QR})())}createSyncEngine(e,i){return(function(o,u,f,g,p,m,_){const T=new Ew(o,u,f,g,p,m);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Rt(i);ct(Ca,"RemoteStore shutting down."),s.Ea.add(5),await Co(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Kd.provider={build:()=>new Kd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="FirestoreClient";class Lw{constructor(e,i,s,o,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ct(Lr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ct(Lr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Vm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function fd(r,e){r.asyncQueue.verifyOperationInProgress(),ct(Lr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await m1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Tv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Pw(r);ct(Lr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>gv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>gv(e.remoteStore,o))),r._onlineComponents=e}async function Pw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(Lr,"Using user provided OfflineComponentProvider");try{await fd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Vs("Error using user provided cache. Falling back to memory cache: "+i),await fd(r,new Rc)}}else ct(Lr,"Using default OfflineComponentProvider"),await fd(r,new Ow(void 0));return r._offlineComponents}async function P1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(Lr,"Using user provided OnlineComponentProvider"),await Tv(r,r._uninitializedComponentsProvider._online)):(ct(Lr,"Using default OnlineComponentProvider"),await Tv(r,new Kd))),r._onlineComponents}function Uw(r){return P1(r).then((e=>e.syncEngine))}async function Xd(r){const e=await P1(r),i=e.eventManager;return i.onListen=Tw.bind(null,e.syncEngine),i.onUnlisten=Sw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=bw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Rw.bind(null,e.syncEngine),i}function Bw(r,e,i={}){const s=new Dr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,m){const _=new L1({next:A=>{_.Nu(),f.enqueueAndForget((()=>R1(u,T))),A.fromCache&&p.source==="server"?m.reject(new ut(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),T=new w1(g,_,{includeMetadataChanges:!0,qa:!0});return S1(u,T)})(await Xd(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="firestore.googleapis.com",Av=!0;class Sv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B1,this.ssl=Av}else this.host=e.host,this.ssl=e.ssl??Av;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=f1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yR)throw new ut(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new G2;switch(s.type){case"firstParty":return new K2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=bv.get(i);s&&(ct("ComponentProvider","Removing Datastore"),bv.delete(i),s.terminate())})(this),Promise.resolve()}}function zw(r,e,i,s={}){r=li(r,Hc);const o=om(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(vA(`https://${g}`),AA("Firestore",!0)),u.host!==B1&&u.host!==g&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:o,emulatorOptions:s};if(!dc(p,f)&&(r._setSettings(p),s.mockUserToken)){let m,_;if(typeof s.mockUserToken=="string")m=s.mockUserToken,_=Ye.MOCK_USER;else{m=EA(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ut(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ye(T)}r._authCredentials=new Q2(new S0(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ma(this.firestore,e,this._query)}}class be{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new be(this.firestore,e,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Ao(i,be._jsonSchema))return new be(e,s||null,new mt(te.fromString(i.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:Te("string",be._jsonSchemaVersion),referencePath:Te("string")};class xr extends Ma{constructor(e,i,s){super(e,i,ym(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new be(this.firestore,null,new mt(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function ki(r,e,...i){if(r=fi(r),R0("collection","path",e),r instanceof Hc){const s=te.fromString(e,...i);return U_(s),new xr(r,null,s)}{if(!(r instanceof be||r instanceof xr))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return U_(s),new xr(r.firestore,null,s)}}function Da(r,e,...i){if(r=fi(r),arguments.length===1&&(e=hm.newId()),R0("doc","path",e),r instanceof Hc){const s=te.fromString(e,...i);return P_(s),new be(r,null,new mt(s))}{if(!(r instanceof be||r instanceof xr))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return P_(s),new be(r.firestore,r instanceof xr?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new p1(this,"async_queue_retry"),this._c=()=>{const s=hd();s&&ct(Rv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hs(e))throw e;ct(Rv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Bi("INTERNAL UNHANDLED ERROR: ",Cv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Im.createAndSchedule(this,e,i,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:Cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Cv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class xa extends Hc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new wv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function kw(r,e){const i=typeof r=="object"?r:M2(),s=typeof r=="string"?r:yc,o=D2(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=yA("firestore");u&&zw(o,...u)}return o}function Pm(r){if(r._terminated)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jw(r),r._firestoreClient}function jw(r){const e=r._freezeSettings(),i=(function(o,u,f,g){return new hS(o,u,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,U1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Lw(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(je.fromBase64String(e))}catch(i){throw new ut(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new xn(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ao(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Te("string",xn._jsonSchemaVersion),bytes:Te("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ci._jsonSchemaVersion}}static fromJSON(e){if(Ao(e,ci._jsonSchema))return new ci(e.latitude,e.longitude)}}ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:Te("string",ci._jsonSchemaVersion),latitude:Te("number"),longitude:Te("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ao(e,hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new hi(e.vectorValues);throw new ut(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:Te("string",hi._jsonSchemaVersion),vectorValues:Te("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=/^__.*__$/;class Hw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Br(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ro(e,this.data,i,this.fieldTransforms)}}class z1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function k1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Um{constructor(e,i,s,o,u,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Um({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(k1(this.Ac)&&qw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Gw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||kc(e)}Cc(e,i,s,o=!1){return new Um({Ac:e,methodName:i,Dc:s,path:ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bm(r){const e=r._freezeSettings(),i=kc(r._databaseId);return new Gw(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Qw(r,e,i,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,i,o);km("Data must be an object, but it was:",f,s);const g=j1(s,f);let p,m;if(u.merge)p=new pn(f.fieldMask),m=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const A=$d(e,T,i);if(!f.contains(A))throw new ut(W.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);H1(_,A)||_.push(A)}p=new pn(_),m=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,m=f.fieldTransforms;return new Hw(new ln(g),p,m)}class Fc extends Qc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fc}}class zm extends Qc{_toFieldTransform(e){return new US(e.path,new yo)}isEqual(e){return e instanceof zm}}function Fw(r,e,i,s){const o=r.Cc(1,e,i);km("Data must be an object, but it was:",o,s);const u=[],f=ln.empty();Ur(s,((p,m)=>{const _=jm(e,p,i);m=fi(m);const T=o.yc(_);if(m instanceof Fc)u.push(_);else{const A=xo(m,T);A!=null&&(u.push(_),f.set(_,A))}}));const g=new pn(u);return new z1(f,g,o.fieldTransforms)}function Yw(r,e,i,s,o,u){const f=r.Cc(1,e,i),g=[$d(e,s,i)],p=[o];if(u.length%2!=0)throw new ut(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)g.push($d(e,u[A])),p.push(u[A+1]);const m=[],_=ln.empty();for(let A=g.length-1;A>=0;--A)if(!H1(m,g[A])){const x=g[A];let L=p[A];L=fi(L);const O=f.yc(x);if(L instanceof Fc)m.push(x);else{const k=xo(L,O);k!=null&&(m.push(x),_.set(x,k))}}const T=new pn(m);return new z1(_,T,f.fieldTransforms)}function Kw(r,e,i,s=!1){return xo(i,r.Cc(s?4:3,e))}function xo(r,e){if(q1(r=fi(r)))return km("Unsupported field value:",e,r),j1(r,e);if(r instanceof Qc)return(function(s,o){if(!k1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const g of s){let p=xo(g,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=fi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return OS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ne.fromDate(s);return{timestampValue:bc(o.serializer,u)}}if(s instanceof ne){const u=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bc(o.serializer,u)}}if(s instanceof ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:a1(o.serializer,s._byteString)};if(s instanceof be){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof hi)return(function(f,g){return{mapValue:{fields:{[O0]:{stringValue:L0},[_c]:{arrayValue:{values:f.toArray().map((m=>{if(typeof m!="number")throw g.Sc("VectorValues must only contain numeric values.");return _m(g.serializer,m)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ic(s)}`)})(r,e)}function j1(r,e){const i={};return D0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ur(r,((s,o)=>{const u=xo(o,e.mc(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function q1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof ci||r instanceof xn||r instanceof be||r instanceof Qc||r instanceof hi)}function km(r,e,i){if(!q1(i)||!w0(i)){const s=Ic(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function $d(r,e,i){if((e=fi(e))instanceof Gc)return e._internalPath;if(typeof e=="string")return jm(r,e);throw wc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Xw=new RegExp("[~\\*/\\[\\]]");function jm(r,e,i){if(e.search(Xw)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Gc(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function wc(r,e,i,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ut(W.INVALID_ARGUMENT,g+r+p)}function H1(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,i,s,o,u){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $w(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(qm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $w extends G1{data(){return super.data()}}function qm(r,e){return typeof e=="string"?jm(r,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hm{}class Zw extends Hm{}function Zd(r,e,...i){let s=[];e instanceof Hm&&s.push(e),s=s.concat(i),(function(u){const f=u.filter((p=>p instanceof Gm)).length,g=u.filter((p=>p instanceof Yc)).length;if(f>1||f>0&&g>0)throw new ut(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Yc extends Zw{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Yc(e,i,s)}_apply(e){const i=this._parse(e);return F1(e._query,i),new Ma(e.firestore,e.converter,Bd(e._query,i))}_parse(e){const i=Bm(e.firestore);return(function(u,f,g,p,m,_,T){let A;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ut(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Nv(T,_);const L=[];for(const O of T)L.push(xv(p,u,O));A={arrayValue:{values:L}}}else A=xv(p,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Nv(T,_),A=Kw(g,f,T,_==="in"||_==="not-in");return Ee.create(m,_,A)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Cc(r,e,i){const s=e,o=qm("where",r);return Yc._create(o,s,i)}class Gm extends Hm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Gm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Hn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,u){let f=o;const g=u.getFlattenedFilters();for(const p of g)F1(f,p),f=Bd(f,p)})(e._query,i),new Ma(e.firestore,e.converter,Bd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function xv(r,e,i){if(typeof(i=fi(i))=="string"){if(i==="")throw new ut(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H0(e)&&i.indexOf("/")!==-1)throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(te.fromString(i));if(!mt.isDocumentKey(s))throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q_(r,new mt(s))}if(i instanceof be)return Q_(r,i._key);throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ic(i)}.`)}function Nv(r,e){if(!Array.isArray(r)||r.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F1(r,e){const i=(function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ut(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Jw{convertValue(e,i="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ur(e,((o,u)=>{s[o]=this.convertValue(u,i)})),s}convertVectorValue(e){const i=e.fields?.[_c].arrayValue?.values?.map((s=>pe(s.doubleValue)));return new hi(i)}convertGeoPoint(e){return new ci(pe(e.latitude),pe(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Oc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(mo(e));default:return null}}convertTimestamp(e){const i=Ir(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=te.fromString(e);kt(h1(s),9688,{name:e});const o=new go(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return o.isEqual(i)||Bi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class io{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sa extends G1{constructor(e,i,s,o,u,f){super(e,i,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(qm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Sa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sa._jsonSchema={type:Te("string",Sa._jsonSchemaVersion),bundleSource:Te("string","DocumentSnapshot"),bundleName:Te("string"),bundle:Te("string")};class cc extends Sa{data(e={}){return super.data(e)}}class Ra{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new io(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new cc(this._firestore,this._userDataWriter,s.key,s,new io(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const p=new cc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new io(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new cc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new io(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return g.type!==0&&(m=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),_=f.indexOf(g.doc.key)),{type:t4(g.type),doc:p,oldIndex:m,newIndex:_}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function t4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}Ra._jsonSchemaVersion="firestore/querySnapshot/1.0",Ra._jsonSchema={type:Te("string",Ra._jsonSchemaVersion),bundleSource:Te("string","QuerySnapshot"),bundleName:Te("string"),bundle:Te("string")};class Qm extends Jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new be(this.firestore,null,i)}}function Jd(r){r=li(r,Ma);const e=li(r.firestore,xa),i=Pm(e),s=new Qm(e);return Q1(r._query),Bw(i,r._query).then((o=>new Ra(e,s,r,o)))}function Dc(r,e,i,...s){r=li(r,be);const o=li(r.firestore,xa),u=Bm(o);let f;return f=typeof(e=fi(e))=="string"||e instanceof Gc?Yw(u,"updateDoc",r._key,e,i,s):Fw(u,"updateDoc",r._key,e),Fm(o,[f.toMutation(r._key,qn.exists(!0))])}function Y1(r){return Fm(li(r.firestore,xa),[new vm(r._key,qn.none())])}function Kc(r,e){const i=li(r.firestore,xa),s=Da(r),o=Ww(r.converter,e);return Fm(i,[Qw(Bm(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then((()=>s))}function Xc(r,...e){r=fi(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Dv(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Dv(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,g;if(r instanceof be)f=li(r.firestore,xa),g=ym(r._key.path),u={next:p=>{e[s]&&e[s](e4(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=li(r,Ma);f=li(p.firestore,xa),g=p._query;const m=new Qm(f);u={next:_=>{e[s]&&e[s](new Ra(f,m,p,_))},error:e[s+1],complete:e[s+2]},Q1(r._query)}return(function(m,_,T,A){const x=new L1(A),L=new w1(_,x,T);return m.asyncQueue.enqueueAndForget((async()=>S1(await Xd(m),L))),()=>{x.Nu(),m.asyncQueue.enqueueAndForget((async()=>R1(await Xd(m),L)))}})(Pm(f),g,o,u)}function Fm(r,e){return(function(s,o){const u=new Dr;return s.asyncQueue.enqueueAndForget((async()=>ww(await Uw(s),o,u))),u.promise})(Pm(r),e)}function e4(r,e,i){const s=i.docs.get(e._key),o=new Qm(r);return new Sa(r,o,e._key,s,new io(i.hasPendingWrites,i.fromCache),e.converter)}function n4(){return new zm("serverTimestamp")}(function(e,i=!0){(function(o){js=o})(V2),gc(new co("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new xa(new F2(s.getProvider("auth-internal")),new X2(f,s.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ut(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new go(m.options.projectId,_)})(f,o),f);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Ns(V_,M_,e),Ns(V_,M_,"esm2020")})();var i4="firebase",r4="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(i4,r4,"app");const a4={apiKey:"AIzaSyDf8WefM94ekVZ90ITXPvVuilKwcZ2K_Uo",authDomain:"idealtraderreviewsystem.firebaseapp.com",projectId:"idealtraderreviewsystem",storageBucket:"idealtraderreviewsystem.firebasestorage.app",messagingSenderId:"918961046593",appId:"1:918961046593:web:b8b6c6061ec00b686272c0",measurementId:"G-BJ2YV70LCR"},s4=m0(a4),tn=kw(s4);function l4(){const{staffId:r}=fb(),[e,i]=Y.useState(""),[s,o]=Y.useState(""),[u,f]=Y.useState(""),[g,p]=Y.useState(null),[m,_]=Y.useState(""),T=O=>{p(Number(O.target.value))},A=()=>{console.log("SUBMIT DATA ->",{staffId:r??null,name:e,phone:s,email:u,rating:g,feedback:m}),L()},x={staffId:r??null,name:e,phone:s,email:u,rating:g,feedback:m},L=async()=>{try{await Kc(ki(tn,"Reviews"),x),alert("Feedback submitted successfully!")}catch(O){console.error("Error submitting feedback:",O),alert("Failed to submit feedback.")}};return z.jsx(z.Fragment,{children:z.jsxs("div",{className:"flex h-screen flex-col",children:[z.jsx("div",{className:"border-b border-gray-300 p-5 shadow",children:z.jsxs("h1",{className:"text-2xl font-bold",children:[z.jsx("span",{className:"text-red-500",children:"Ideal"})," ",z.jsx("span",{className:"text-red-400",children:"Traders"})," - Feedback Form"]})}),z.jsxs("div",{className:"m-2 flex flex-col gap-2 rounded-lg border bg-red-300 p-3",children:[z.jsx("h2",{className:"ml-1 text-xs font-bold",children:"Staff ID"}),z.jsx("p",{className:"w-full rounded-lg border bg-red-200 p-2 text-center",children:r??"-"})]}),z.jsxs("div",{className:"m-2 flex flex-col gap-2 rounded-lg border bg-red-300 p-3",children:[z.jsx("h2",{className:"ml-1 text-xs font-bold",children:"Name"}),z.jsx("input",{type:"text",value:e,onChange:O=>i(O.target.value),className:"w-full rounded-lg border bg-red-200 p-2"})]}),z.jsxs("div",{className:"m-2 flex flex-col gap-2 rounded-lg border bg-red-300 p-3",children:[z.jsx("h2",{className:"ml-1 text-xs font-bold",children:"Phone Number"}),z.jsx("input",{type:"text",value:s,onChange:O=>o(O.target.value),className:"w-full rounded-lg border bg-red-200 p-2",inputMode:"numeric"})]}),z.jsxs("div",{className:"m-2 flex flex-col gap-2 rounded-lg border bg-red-300 p-3",children:[z.jsx("h2",{className:"ml-1 text-xs font-bold",children:"E-Mail"}),z.jsx("input",{type:"email",value:u,onChange:O=>f(O.target.value),className:"w-full rounded-lg border bg-red-200 p-2"})]}),z.jsxs("div",{className:"m-2 flex flex-col gap-2 rounded-lg border bg-red-300 p-3",children:[z.jsx("h2",{className:"ml-1 text-xs font-bold",children:"Ratings"}),z.jsx("div",{className:"flex w-full justify-center rounded-lg border bg-red-200 p-5",children:z.jsx("div",{className:"rating flex gap-1",children:[1,2,3,4,5].map(O=>z.jsx("input",{type:"radio",name:"rating",value:O,onChange:T,checked:g===O,className:"mask mask-star-2 bg-black","aria-label":`${O} star`},O))})}),z.jsxs("p",{className:"text-sm",children:["Selected Rating: ",g??"-"]})]}),z.jsxs("div",{className:"m-2 flex flex-col gap-2 rounded-lg border bg-red-300 p-3",children:[z.jsx("h2",{className:"ml-1 text-xs font-bold",children:"Any Feedback On Them"}),z.jsx("textarea",{value:m,onChange:O=>_(O.target.value),className:"w-full rounded-lg border bg-red-200 p-2"})]}),z.jsx("button",{className:"m-2 mx-3 rounded-lg border bg-red-400 p-3 font-bold",type:"button",onClick:A,children:"Submit"}),z.jsx("div",{className:"mb-10"})]})})}const o4=()=>{const[r,e]=Y.useState(""),[i,s]=Y.useState(""),[o,u]=Y.useState([]);Y.useEffect(()=>{const O=Xc(ki(tn,"Staffs"),k=>{const X=k.docs.map(Q=>({id:Q.id,...Q.data()}));u(X)});return()=>O()},[]);const f=async()=>{if(!r||!i){alert("Please fill both fields");return}try{await Kc(ki(tn,"Staffs"),{name:r,eid:i}),e(""),s("")}catch(O){console.error("❌ Error adding data:",O)}},[g,p]=Y.useState(null),[m,_]=Y.useState(""),[T,A]=Y.useState(""),x=async O=>{try{await Y1(Da(tn,"Staffs",O))}catch(k){console.error("Error deleting employee:",k)}},L=async O=>{try{await Dc(Da(tn,"Staffs",O),{name:m,eid:T}),p(null)}catch(k){console.error("Error updating employee:",k)}};return z.jsxs("div",{className:"p-4",children:[z.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Employees"}),z.jsxs("div",{className:"p-5 w-full rounded bg-gray-100 border border-gray-400 shadow",children:[z.jsx("h1",{className:"font-bold",children:"Add Employee"}),z.jsxs("div",{className:"w-full p-6 flex justify-between gap-3",children:[z.jsx("input",{type:"text",className:"w-full rounded bg-white shadow p-2",placeholder:"Employee Name",value:r,onChange:O=>e(O.target.value)}),z.jsx("input",{type:"text",className:"w-full rounded bg-white shadow p-2",placeholder:"Employee ID",value:i,onChange:O=>s(O.target.value)}),z.jsx("button",{className:"w-25 bg-green-500 px-4 py-2 h-10 text-white rounded font-bold shadow",onClick:f,children:"Add"})]})]}),z.jsx("div",{className:"mt-5 overflow-x-auto rounded shadow border border-gray-400",children:z.jsxs("table",{className:"w-full bg-white border border-gray-200 rounded shadow",children:[z.jsx("thead",{className:"bg-gray-100",children:z.jsxs("tr",{children:[z.jsx("th",{className:"px-6 py-3 text-left",children:"Name"}),z.jsx("th",{className:"px-6 py-3 text-left",children:"Employee ID"}),z.jsx("th",{className:"px-6 py-3 text-left",children:"Actions"})]})}),z.jsx("tbody",{children:o.length>0?z.jsx(z.Fragment,{children:o.map(O=>z.jsxs("tr",{className:"border-t",children:[z.jsx("td",{className:"px-6 py-4",children:g===O.id?z.jsx("input",{type:"text",className:"border rounded px-2 py-1",value:m,onChange:k=>_(k.target.value)}):O.name}),z.jsx("td",{className:"px-6 py-4",children:g===O.id?z.jsx("input",{type:"text",className:"border rounded px-2 py-1",value:T,onChange:k=>A(k.target.value)}):O.eid}),z.jsxs("td",{className:"px-6 py-4",children:[g===O.id?z.jsx("button",{className:"bg-blue-500 text-white px-3 py-1 rounded mr-2",onClick:()=>L(O.id),children:"Save"}):z.jsx("button",{className:"bg-yellow-500 text-white px-3 py-1 rounded mr-2",onClick:()=>{p(O.id),_(O.name),A(O.eid)},children:"Edit"}),z.jsx("button",{className:"bg-red-500 text-white px-3 py-1 rounded",onClick:()=>x(O.id),children:"Delete"})]})]},O.id))}):z.jsx("tr",{children:z.jsx("td",{colSpan:3,className:"px-6 py-4 text-center",children:z.jsx("div",{className:"w-full flex justify-center",children:z.jsx("h1",{className:"font-bold p-5",children:"No Employee Data"})})})})})]})})]})};var Rs={},dd={exports:{}},md,Iv;function u4(){if(Iv)return md;Iv=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return md=r,md}var gd,Vv;function c4(){if(Vv)return gd;Vv=1;var r=u4();function e(){}function i(){}return i.resetWarningCache=e,gd=function(){function s(f,g,p,m,_,T){if(T!==r){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:i,resetWarningCache:e};return u.PropTypes=u,u},gd}var Mv;function K1(){return Mv||(Mv=1,dd.exports=c4()()),dd.exports}var pd,Ov;function X1(){return Ov||(Ov=1,pd={L:1,M:0,Q:3,H:2}),pd}var yd,Lv;function $1(){return Lv||(Lv=1,yd={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),yd}var _d,Pv;function h4(){if(Pv)return _d;Pv=1;var r=$1();function e(i){this.mode=r.MODE_8BIT_BYTE,this.data=i}return e.prototype={getLength:function(i){return this.data.length},write:function(i){for(var s=0;s<this.data.length;s++)i.put(this.data.charCodeAt(s),8)}},_d=e,_d}var vd,Uv;function f4(){if(Uv)return vd;Uv=1;var r=X1();function e(i,s){this.totalCount=i,this.dataCount=s}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(i,s){var o=e.getRsBlockTable(i,s);if(o==null)throw new Error("bad rs block @ typeNumber:"+i+"/errorCorrectLevel:"+s);for(var u=o.length/3,f=new Array,g=0;g<u;g++)for(var p=o[g*3+0],m=o[g*3+1],_=o[g*3+2],T=0;T<p;T++)f.push(new e(m,_));return f},e.getRsBlockTable=function(i,s){switch(s){case r.L:return e.RS_BLOCK_TABLE[(i-1)*4+0];case r.M:return e.RS_BLOCK_TABLE[(i-1)*4+1];case r.Q:return e.RS_BLOCK_TABLE[(i-1)*4+2];case r.H:return e.RS_BLOCK_TABLE[(i-1)*4+3];default:return}},vd=e,vd}var Ed,Bv;function d4(){if(Bv)return Ed;Bv=1;function r(){this.buffer=new Array,this.length=0}return r.prototype={get:function(e){var i=Math.floor(e/8);return(this.buffer[i]>>>7-e%8&1)==1},put:function(e,i){for(var s=0;s<i;s++)this.putBit((e>>>i-s-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),e&&(this.buffer[i]|=128>>>this.length%8),this.length++}},Ed=r,Ed}var Td,zv;function Z1(){if(zv)return Td;zv=1;for(var r={glog:function(i){if(i<1)throw new Error("glog("+i+")");return r.LOG_TABLE[i]},gexp:function(i){for(;i<0;)i+=255;for(;i>=256;)i-=255;return r.EXP_TABLE[i]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)r.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)r.EXP_TABLE[e]=r.EXP_TABLE[e-4]^r.EXP_TABLE[e-5]^r.EXP_TABLE[e-6]^r.EXP_TABLE[e-8];for(var e=0;e<255;e++)r.LOG_TABLE[r.EXP_TABLE[e]]=e;return Td=r,Td}var bd,kv;function J1(){if(kv)return bd;kv=1;var r=Z1();function e(i,s){if(i.length==null)throw new Error(i.length+"/"+s);for(var o=0;o<i.length&&i[o]==0;)o++;this.num=new Array(i.length-o+s);for(var u=0;u<i.length-o;u++)this.num[u]=i[u+o]}return e.prototype={get:function(i){return this.num[i]},getLength:function(){return this.num.length},multiply:function(i){for(var s=new Array(this.getLength()+i.getLength()-1),o=0;o<this.getLength();o++)for(var u=0;u<i.getLength();u++)s[o+u]^=r.gexp(r.glog(this.get(o))+r.glog(i.get(u)));return new e(s,0)},mod:function(i){if(this.getLength()-i.getLength()<0)return this;for(var s=r.glog(this.get(0))-r.glog(i.get(0)),o=new Array(this.getLength()),u=0;u<this.getLength();u++)o[u]=this.get(u);for(var u=0;u<i.getLength();u++)o[u]^=r.gexp(r.glog(i.get(u))+s);return new e(o,0).mod(i)}},bd=e,bd}var Ad,jv;function m4(){if(jv)return Ad;jv=1;var r=$1(),e=J1(),i=Z1(),s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},o={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(u){for(var f=u<<10;o.getBCHDigit(f)-o.getBCHDigit(o.G15)>=0;)f^=o.G15<<o.getBCHDigit(f)-o.getBCHDigit(o.G15);return(u<<10|f)^o.G15_MASK},getBCHTypeNumber:function(u){for(var f=u<<12;o.getBCHDigit(f)-o.getBCHDigit(o.G18)>=0;)f^=o.G18<<o.getBCHDigit(f)-o.getBCHDigit(o.G18);return u<<12|f},getBCHDigit:function(u){for(var f=0;u!=0;)f++,u>>>=1;return f},getPatternPosition:function(u){return o.PATTERN_POSITION_TABLE[u-1]},getMask:function(u,f,g){switch(u){case s.PATTERN000:return(f+g)%2==0;case s.PATTERN001:return f%2==0;case s.PATTERN010:return g%3==0;case s.PATTERN011:return(f+g)%3==0;case s.PATTERN100:return(Math.floor(f/2)+Math.floor(g/3))%2==0;case s.PATTERN101:return f*g%2+f*g%3==0;case s.PATTERN110:return(f*g%2+f*g%3)%2==0;case s.PATTERN111:return(f*g%3+(f+g)%2)%2==0;default:throw new Error("bad maskPattern:"+u)}},getErrorCorrectPolynomial:function(u){for(var f=new e([1],0),g=0;g<u;g++)f=f.multiply(new e([1,i.gexp(g)],0));return f},getLengthInBits:function(u,f){if(1<=f&&f<10)switch(u){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:return 8;case r.MODE_KANJI:return 8;default:throw new Error("mode:"+u)}else if(f<27)switch(u){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+u)}else if(f<41)switch(u){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+u)}else throw new Error("type:"+f)},getLostPoint:function(u){for(var f=u.getModuleCount(),g=0,p=0;p<f;p++)for(var m=0;m<f;m++){for(var _=0,T=u.isDark(p,m),A=-1;A<=1;A++)if(!(p+A<0||f<=p+A))for(var x=-1;x<=1;x++)m+x<0||f<=m+x||A==0&&x==0||T==u.isDark(p+A,m+x)&&_++;_>5&&(g+=3+_-5)}for(var p=0;p<f-1;p++)for(var m=0;m<f-1;m++){var L=0;u.isDark(p,m)&&L++,u.isDark(p+1,m)&&L++,u.isDark(p,m+1)&&L++,u.isDark(p+1,m+1)&&L++,(L==0||L==4)&&(g+=3)}for(var p=0;p<f;p++)for(var m=0;m<f-6;m++)u.isDark(p,m)&&!u.isDark(p,m+1)&&u.isDark(p,m+2)&&u.isDark(p,m+3)&&u.isDark(p,m+4)&&!u.isDark(p,m+5)&&u.isDark(p,m+6)&&(g+=40);for(var m=0;m<f;m++)for(var p=0;p<f-6;p++)u.isDark(p,m)&&!u.isDark(p+1,m)&&u.isDark(p+2,m)&&u.isDark(p+3,m)&&u.isDark(p+4,m)&&!u.isDark(p+5,m)&&u.isDark(p+6,m)&&(g+=40);for(var O=0,m=0;m<f;m++)for(var p=0;p<f;p++)u.isDark(p,m)&&O++;var k=Math.abs(100*O/f/f-50)/5;return g+=k*10,g}};return Ad=o,Ad}var Sd,qv;function g4(){if(qv)return Sd;qv=1;var r=h4(),e=f4(),i=d4(),s=m4(),o=J1();function u(g,p){this.typeNumber=g,this.errorCorrectLevel=p,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var f=u.prototype;return f.addData=function(g){var p=new r(g);this.dataList.push(p),this.dataCache=null},f.isDark=function(g,p){if(g<0||this.moduleCount<=g||p<0||this.moduleCount<=p)throw new Error(g+","+p);return this.modules[g][p]},f.getModuleCount=function(){return this.moduleCount},f.make=function(){if(this.typeNumber<1){var g=1;for(g=1;g<40;g++){for(var p=e.getRSBlocks(g,this.errorCorrectLevel),m=new i,_=0,T=0;T<p.length;T++)_+=p[T].dataCount;for(var T=0;T<this.dataList.length;T++){var A=this.dataList[T];m.put(A.mode,4),m.put(A.getLength(),s.getLengthInBits(A.mode,g)),A.write(m)}if(m.getLengthInBits()<=_*8)break}this.typeNumber=g}this.makeImpl(!1,this.getBestMaskPattern())},f.makeImpl=function(g,p){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++){this.modules[m]=new Array(this.moduleCount);for(var _=0;_<this.moduleCount;_++)this.modules[m][_]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(g,p),this.typeNumber>=7&&this.setupTypeNumber(g),this.dataCache==null&&(this.dataCache=u.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,p)},f.setupPositionProbePattern=function(g,p){for(var m=-1;m<=7;m++)if(!(g+m<=-1||this.moduleCount<=g+m))for(var _=-1;_<=7;_++)p+_<=-1||this.moduleCount<=p+_||(0<=m&&m<=6&&(_==0||_==6)||0<=_&&_<=6&&(m==0||m==6)||2<=m&&m<=4&&2<=_&&_<=4?this.modules[g+m][p+_]=!0:this.modules[g+m][p+_]=!1)},f.getBestMaskPattern=function(){for(var g=0,p=0,m=0;m<8;m++){this.makeImpl(!0,m);var _=s.getLostPoint(this);(m==0||g>_)&&(g=_,p=m)}return p},f.createMovieClip=function(g,p,m){var _=g.createEmptyMovieClip(p,m),T=1;this.make();for(var A=0;A<this.modules.length;A++)for(var x=A*T,L=0;L<this.modules[A].length;L++){var O=L*T,k=this.modules[A][L];k&&(_.beginFill(0,100),_.moveTo(O,x),_.lineTo(O+T,x),_.lineTo(O+T,x+T),_.lineTo(O,x+T),_.endFill())}return _},f.setupTimingPattern=function(){for(var g=8;g<this.moduleCount-8;g++)this.modules[g][6]==null&&(this.modules[g][6]=g%2==0);for(var p=8;p<this.moduleCount-8;p++)this.modules[6][p]==null&&(this.modules[6][p]=p%2==0)},f.setupPositionAdjustPattern=function(){for(var g=s.getPatternPosition(this.typeNumber),p=0;p<g.length;p++)for(var m=0;m<g.length;m++){var _=g[p],T=g[m];if(this.modules[_][T]==null)for(var A=-2;A<=2;A++)for(var x=-2;x<=2;x++)A==-2||A==2||x==-2||x==2||A==0&&x==0?this.modules[_+A][T+x]=!0:this.modules[_+A][T+x]=!1}},f.setupTypeNumber=function(g){for(var p=s.getBCHTypeNumber(this.typeNumber),m=0;m<18;m++){var _=!g&&(p>>m&1)==1;this.modules[Math.floor(m/3)][m%3+this.moduleCount-8-3]=_}for(var m=0;m<18;m++){var _=!g&&(p>>m&1)==1;this.modules[m%3+this.moduleCount-8-3][Math.floor(m/3)]=_}},f.setupTypeInfo=function(g,p){for(var m=this.errorCorrectLevel<<3|p,_=s.getBCHTypeInfo(m),T=0;T<15;T++){var A=!g&&(_>>T&1)==1;T<6?this.modules[T][8]=A:T<8?this.modules[T+1][8]=A:this.modules[this.moduleCount-15+T][8]=A}for(var T=0;T<15;T++){var A=!g&&(_>>T&1)==1;T<8?this.modules[8][this.moduleCount-T-1]=A:T<9?this.modules[8][15-T-1+1]=A:this.modules[8][15-T-1]=A}this.modules[this.moduleCount-8][8]=!g},f.mapData=function(g,p){for(var m=-1,_=this.moduleCount-1,T=7,A=0,x=this.moduleCount-1;x>0;x-=2)for(x==6&&x--;;){for(var L=0;L<2;L++)if(this.modules[_][x-L]==null){var O=!1;A<g.length&&(O=(g[A]>>>T&1)==1);var k=s.getMask(p,_,x-L);k&&(O=!O),this.modules[_][x-L]=O,T--,T==-1&&(A++,T=7)}if(_+=m,_<0||this.moduleCount<=_){_-=m,m=-m;break}}},u.PAD0=236,u.PAD1=17,u.createData=function(g,p,m){for(var _=e.getRSBlocks(g,p),T=new i,A=0;A<m.length;A++){var x=m[A];T.put(x.mode,4),T.put(x.getLength(),s.getLengthInBits(x.mode,g)),x.write(T)}for(var L=0,A=0;A<_.length;A++)L+=_[A].dataCount;if(T.getLengthInBits()>L*8)throw new Error("code length overflow. ("+T.getLengthInBits()+">"+L*8+")");for(T.getLengthInBits()+4<=L*8&&T.put(0,4);T.getLengthInBits()%8!=0;)T.putBit(!1);for(;!(T.getLengthInBits()>=L*8||(T.put(u.PAD0,8),T.getLengthInBits()>=L*8));)T.put(u.PAD1,8);return u.createBytes(T,_)},u.createBytes=function(g,p){for(var m=0,_=0,T=0,A=new Array(p.length),x=new Array(p.length),L=0;L<p.length;L++){var O=p[L].dataCount,k=p[L].totalCount-O;_=Math.max(_,O),T=Math.max(T,k),A[L]=new Array(O);for(var X=0;X<A[L].length;X++)A[L][X]=255&g.buffer[X+m];m+=O;var Q=s.getErrorCorrectPolynomial(k),it=new o(A[L],Q.getLength()-1),pt=it.mod(Q);x[L]=new Array(Q.getLength()-1);for(var X=0;X<x[L].length;X++){var at=X+pt.getLength()-x[L].length;x[L][X]=at>=0?pt.get(at):0}}for(var bt=0,X=0;X<p.length;X++)bt+=p[X].totalCount;for(var N=new Array(bt),R=0,X=0;X<_;X++)for(var L=0;L<p.length;L++)X<A[L].length&&(N[R++]=A[L][X]);for(var X=0;X<T;X++)for(var L=0;L<p.length;L++)X<x[L].length&&(N[R++]=x[L][X]);return N},Sd=u,Sd}var ec={},Hv;function p4(){if(Hv)return ec;Hv=1,Object.defineProperty(ec,"__esModule",{value:!0});var r=Object.assign||function(m){for(var _=1;_<arguments.length;_++){var T=arguments[_];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(m[A]=T[A])}return m},e=K1(),i=u(e),s=Eo(),o=u(s);function u(m){return m&&m.__esModule?m:{default:m}}function f(m,_){var T={};for(var A in m)_.indexOf(A)>=0||Object.prototype.hasOwnProperty.call(m,A)&&(T[A]=m[A]);return T}var g={bgColor:i.default.oneOfType([i.default.object,i.default.string]).isRequired,bgD:i.default.string.isRequired,fgColor:i.default.oneOfType([i.default.object,i.default.string]).isRequired,fgD:i.default.string.isRequired,size:i.default.number.isRequired,title:i.default.string,viewBoxSize:i.default.number.isRequired,xmlns:i.default.string},p=(0,s.forwardRef)(function(m,_){var T=m.bgColor,A=m.bgD,x=m.fgD,L=m.fgColor,O=m.size,k=m.title,X=m.viewBoxSize,Q=m.xmlns,it=Q===void 0?"http://www.w3.org/2000/svg":Q,pt=f(m,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return o.default.createElement("svg",r({},pt,{height:O,ref:_,viewBox:"0 0 "+X+" "+X,width:O,xmlns:it}),k?o.default.createElement("title",null,k):null,o.default.createElement("path",{d:A,fill:T}),o.default.createElement("path",{d:x,fill:L}))});return p.displayName="QRCodeSvg",p.propTypes=g,ec.default=p,ec}var Gv;function y4(){if(Gv)return Rs;Gv=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.QRCode=void 0;var r=Object.assign||function(O){for(var k=1;k<arguments.length;k++){var X=arguments[k];for(var Q in X)Object.prototype.hasOwnProperty.call(X,Q)&&(O[Q]=X[Q])}return O},e=K1(),i=T(e),s=X1(),o=T(s),u=g4(),f=T(u),g=Eo(),p=T(g),m=p4(),_=T(m);function T(O){return O&&O.__esModule?O:{default:O}}function A(O,k){var X={};for(var Q in O)k.indexOf(Q)>=0||Object.prototype.hasOwnProperty.call(O,Q)&&(X[Q]=O[Q]);return X}var x={bgColor:i.default.oneOfType([i.default.object,i.default.string]),fgColor:i.default.oneOfType([i.default.object,i.default.string]),level:i.default.string,size:i.default.number,value:i.default.string.isRequired},L=(0,g.forwardRef)(function(O,k){var X=O.bgColor,Q=X===void 0?"#FFFFFF":X,it=O.fgColor,pt=it===void 0?"#000000":it,at=O.level,bt=at===void 0?"L":at,N=O.size,R=N===void 0?256:N,w=O.value,P=A(O,["bgColor","fgColor","level","size","value"]),I=new f.default(-1,o.default[bt]);I.addData(w),I.make();var B=I.modules;return p.default.createElement(_.default,r({},P,{bgColor:Q,bgD:B.map(function(D,Zt){return D.map(function(Gt,$){return Gt?"":"M "+$+" "+Zt+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:pt,fgD:B.map(function(D,Zt){return D.map(function(Gt,$){return Gt?"M "+$+" "+Zt+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:k,size:R,viewBoxSize:B.length}))});return Rs.QRCode=L,L.displayName="QRCode",L.propTypes=x,Rs.default=L,Rs}var _4=y4();const Qv=wT(_4),v4=()=>{const[r,e]=Y.useState(""),[i,s]=Y.useState([]),[o,u]=Y.useState(!1),[f,g]=Y.useState(null),[p,m]=Y.useState(null),[_,T]=Y.useState("");Y.useEffect(()=>{const Q=Xc(ki(tn,"QRCode"),it=>{const pt=it.docs.map(at=>({id:at.id,...at.data()})).sort((at,bt)=>bt.createdAt?.seconds-at.createdAt?.seconds);s(pt)});return()=>Q()},[]);const A=async()=>{if(!r.trim()){alert("⚠️ Please enter a review ID");return}const Q=X(r);u(!0);try{await Kc(ki(tn,"QRCode"),{reviewId:r,qrUrl:Q,createdAt:n4()}),e(""),alert("✅ QR Code generated successfully!")}catch(it){console.error("Error adding QR:",it),alert("❌ Failed to generate QR")}finally{u(!1)}},x=async Q=>{if(window.confirm("Are you sure you want to delete this QR?"))try{await Y1(Da(tn,"QRCode",Q)),alert("🗑️ QR deleted successfully")}catch(it){console.error("Error deleting QR:",it),alert("❌ Failed to delete QR")}},L=Q=>{m(Q),T(Q.reviewId)},O=async()=>{if(!_.trim()){alert("⚠️ Enter a valid review ID");return}const Q=X(_);try{await Dc(Da(tn,"QRCode",p.id),{reviewId:_,qrUrl:Q}),alert("✅ QR updated successfully"),m(null),T("")}catch(it){console.error("Error updating QR:",it),alert("❌ Failed to update QR")}},k=Q=>{const it=document.getElementById(`qr-${Q}`),pt=new XMLSerializer().serializeToString(it),at=document.createElement("canvas"),bt=at.getContext("2d"),N=new Image;N.onload=()=>{at.width=N.width,at.height=N.height,bt.drawImage(N,0,0);const R=at.toDataURL("image/png"),w=document.createElement("a");w.download=`qr-${Q}.png`,w.href=R,w.click()},N.src="data:image/svg+xml;base64,"+btoa(pt)},X=Q=>`https://sameerthedeveloper.github.io/ideal-review-system/#/review/${Q}`;return z.jsxs("div",{className:"p-4",children:[z.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Staff QR Generation"}),z.jsxs("div",{className:"w-full p-6 flex flex-col md:flex-row justify-between gap-3 bg-gray-50 border border-gray-300 rounded-xl shadow mb-6",children:[z.jsx("input",{type:"text",className:"w-full rounded bg-white shadow p-2 border border-gray-300 outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter Staff ID",value:r,onChange:Q=>e(Q.target.value)}),z.jsx("button",{className:"min-w-[120px] bg-green-500 px-4 py-2 text-white rounded font-bold shadow hover:bg-green-600 transition",onClick:A,disabled:o,children:o?"Saving...":"Add QR"})]}),z.jsxs("div",{className:"border-2 h-140 border-gray-200 rounded-xl p-5 bg-gray-100 shadow-inner overflow-y-scroll",children:[z.jsx("h1",{className:"font-bold text-gray-800 mb-4",children:"Generated QR Codes"}),i.length===0?z.jsx("p",{className:"text-gray-500 italic",children:"No QR codes generated yet."}):z.jsx("div",{className:"flex flex-col gap-4",children:i.map(Q=>z.jsxs("div",{className:"w-full bg-white border border-gray-300 p-4 rounded-xl shadow hover:shadow-md transition flex flex-row justify-between items-center",children:[z.jsxs("div",{className:"flex flex-row gap-4 items-center",children:[z.jsx(Qv,{id:`qr-${Q.id}`,value:Q.qrUrl,size:100}),z.jsxs("div",{children:[z.jsx("p",{className:"text-sm text-gray-700 break-all",children:Q.qrUrl}),z.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Staff ID: ",Q.reviewId]})]})]}),z.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[z.jsx("button",{onClick:()=>g(Q),className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 transition",children:"View"}),z.jsx("button",{onClick:()=>k(Q.id),className:"bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 transition",children:"Download"}),z.jsx("button",{onClick:()=>L(Q),className:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 transition",children:"Update"}),z.jsx("button",{onClick:()=>x(Q.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition",children:"Delete"})]})]},Q.id))})]}),f&&z.jsx("div",{onClick:()=>g(null),className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:z.jsxs("div",{onClick:Q=>Q.stopPropagation(),className:"bg-white rounded-xl p-6 shadow-2xl flex flex-col items-center relative",children:[z.jsx("button",{onClick:()=>g(null),className:"absolute top-2 right-3 text-gray-600 hover:text-gray-900 text-lg font-bold",children:"✕"}),z.jsx(Qv,{value:f.qrUrl,size:300}),z.jsx("p",{className:"mt-3 text-gray-700 text-center break-all max-w-xs",children:f.qrUrl}),z.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Review ID: ",f.reviewId]}),z.jsx("button",{onClick:()=>k(f.id),className:"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition",children:"Download"})]})}),p&&z.jsx("div",{onClick:()=>m(null),className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:z.jsxs("div",{onClick:Q=>Q.stopPropagation(),className:"bg-white rounded-xl p-6 shadow-2xl flex flex-col items-center relative",children:[z.jsx("button",{onClick:()=>m(null),className:"absolute top-2 right-3 text-gray-600 hover:text-gray-900 text-lg font-bold",children:"✕"}),z.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Update QR Code"}),z.jsx("input",{type:"text",value:_,onChange:Q=>T(Q.target.value),placeholder:"Enter new review ID",className:"border p-2 rounded w-full mb-4 focus:ring-2 focus:ring-yellow-400 outline-none"}),z.jsx("button",{onClick:O,className:"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 transition",children:"Save Changes"})]})})]})};function E4(){const[r,e]=Y.useState([]),[i,s]=Y.useState([]),[o,u]=Y.useState(!1),[f,g]=Y.useState(""),[p,m]=Y.useState("all");Y.useEffect(()=>{const A=Xc(ki(tn,"Reviews"),x=>{const L=x.docs.map(O=>({id:O.id,...O.data()}));e(L),s(L)});return()=>A()},[]),Y.useEffect(()=>{let A=[...r];if(p!=="all"&&(A=A.filter(x=>x.staffId===p)),f.trim()!==""){const x=f.toLowerCase();A=A.filter(L=>L.name?.toLowerCase().includes(x)||L.email?.toLowerCase().includes(x)||L.phone?.toLowerCase().includes(x))}s(A)},[f,p,r]);const _=async()=>{u(!0);try{for(const A of r){const{name:x,phone:L,email:O}=A;if(!L&&!O)continue;const k=ki(tn,"Clients"),X=Zd(k,Cc("phone","==",L||"")),Q=Zd(k,Cc("email","==",O||"")),it=await Jd(X),pt=await Jd(Q);if(it.empty)if(pt.empty)await Kc(k,{name:x,phone:L,email:O}),console.log(`🆕 Added new client: ${x}`);else{const at=Da(tn,"Clients",pt.docs[0].id);await Dc(at,{name:x,phone:L,email:O}),console.log(`✅ Updated client (email): ${O}`)}else{const at=Da(tn,"Clients",it.docs[0].id);await Dc(at,{name:x,phone:L,email:O}),console.log(`✅ Updated client (phone): ${L}`)}}alert("✅ Clients data successfully updated!")}catch(A){console.error("Error updating clients:",A),alert("❌ Failed to update clients data")}finally{u(!1)}},T=[...new Set(r.map(A=>A.staffId))].filter(Boolean);return z.jsxs("div",{className:"p-4",children:[z.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-3 mb-4",children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Reviews"}),z.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-3",children:[z.jsx("input",{type:"text",placeholder:"Search by name, phone, or email...",value:f,onChange:A=>g(A.target.value),className:"border border-gray-300 rounded p-2 w-64 focus:ring-2 focus:ring-blue-400 outline-none shadow-sm"}),z.jsxs("select",{value:p,onChange:A=>m(A.target.value),className:"border border-gray-300 rounded p-2 bg-white focus:ring-2 focus:ring-blue-400 outline-none shadow-sm",children:[z.jsx("option",{value:"all",children:"All Staff"}),T.map(A=>z.jsx("option",{value:A,children:A},A))]}),z.jsx("button",{onClick:_,disabled:o,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:bg-gray-400 shadow",children:o?"Updating...":"Update Clients Data"})]})]}),z.jsx("div",{className:"overflow-x-auto rounded shadow border border-gray-300",children:z.jsxs("table",{className:"w-full bg-white border border-gray-200 rounded",children:[z.jsx("thead",{className:"bg-gray-100",children:z.jsxs("tr",{children:[z.jsx("th",{className:"px-6 py-3 text-left",children:"S.NO"}),z.jsx("th",{className:"px-6 py-3 text-left",children:"Employee ID"}),z.jsx("th",{className:"px-6 py-3 text-left",children:"Customer Name"}),z.jsx("th",{className:"px-6 py-3 text-left",children:"Customer Phone"}),z.jsx("th",{className:"px-6 py-3 text-left",children:"Customer Email"}),z.jsx("th",{className:"px-6 py-3 text-left",children:"Staff Rating"}),z.jsx("th",{className:"px-6 py-3 text-left",children:"Feedback"})]})}),z.jsx("tbody",{children:i.length>0?i.map((A,x)=>z.jsxs("tr",{className:"border-b hover:bg-gray-50 transition",children:[z.jsx("td",{className:"px-6 py-4",children:x+1}),z.jsx("td",{className:"px-6 py-4",children:A.staffId}),z.jsx("td",{className:"px-6 py-4",children:A.name}),z.jsx("td",{className:"px-6 py-4",children:A.phone}),z.jsx("td",{className:"px-6 py-4",children:A.email}),z.jsx("td",{className:"px-6 py-4",children:A.rating}),z.jsx("td",{className:"px-6 py-4",children:A.feedback})]},A.id)):z.jsx("tr",{children:z.jsx("td",{colSpan:"7",className:"text-center py-6 text-gray-500 italic",children:"No reviews found."})})})]})})]})}const T4=()=>{const[r,e]=Y.useState([]);return Y.useEffect(()=>{const i=Xc(ki(tn,"Clients"),s=>{const o=s.docs.map(u=>({id:u.id,...u.data()}));e(o)});return()=>i()},[]),z.jsxs("div",{className:"p-4",children:[z.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Details"}),z.jsx("div",{className:"mt-5 overflow-x-auto rounded shadow border border-gray-400",children:z.jsxs("table",{className:"w-full bg-white border border-gray-200 rounded shadow",children:[z.jsx("thead",{className:"bg-gray-100",children:z.jsxs("tr",{children:[z.jsx("th",{className:"px-6 py-3 text-left",children:"S.No"}),z.jsx("th",{className:"px-6 py-3 text-left",children:"Customer Name"}),z.jsx("th",{className:"px-6 py-3 text-left",children:"Customer Email"}),z.jsx("th",{className:"px-6 py-3 text-left",children:"Customer Phone Number"})]})}),z.jsx("tbody",{children:r.length>0?r.map((i,s)=>z.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[z.jsx("td",{className:"px-6 py-4",children:s+1}),z.jsx("td",{className:"px-6 py-4",children:i.name||"—"}),z.jsx("td",{className:"px-6 py-4",children:i.email||"—"}),z.jsx("td",{className:"px-6 py-4",children:i.phone||"—"})]},i.id)):z.jsx("tr",{children:z.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-500 italic",children:"No customer data found"})})})]})})]})};function b4(){Y.useEffect(()=>{document.title="IDEAL TRADERS | ADMIN PANEL"},[]);const[r,e]=Y.useState("dashboard"),i=o=>{e(o)},s=()=>{switch(r){case"dashboard":return z.jsx(T4,{});case"employees":return z.jsx(o4,{});case"qr":return z.jsx(v4,{});default:return z.jsx(E4,{})}};return z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"w-screen p-5 border-b border-gray-300 shadow-lg",children:z.jsx("h1",{className:"text-lg font-bold",children:"Admin Panel"})}),z.jsxs("div",{children:[z.jsxs("div",{className:"flex space-x-4 mt-4 p-4 bg-white border-b border-gray-300",children:[z.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r==="dashboard"?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>i("dashboard"),children:"Customer Details"}),z.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r==="employees"?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>i("employees"),children:"Employees"}),z.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r==="review"?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>i("review"),children:"Reviews"}),z.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r==="qr"?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>i("qr"),children:"QR Generation"})]}),s()]})]})}function A4({children:r}){return sessionStorage.getItem("auth")==="true"?r:z.jsx(wb,{to:"/login",replace:!0})}function S4(){const[r,e]=Y.useState(""),[i,s]=Y.useState(""),[o,u]=Y.useState(""),f=nm(),g=async p=>{p.preventDefault();try{const m=Zd(ki(tn,"admin"),Cc("username","==",r),Cc("password","==",i));(await Jd(m)).empty?u("Invalid credentials"):(sessionStorage.setItem("auth","true"),f("/admin"))}catch(m){u(`Login failed: ${m.message}`)}};return z.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[z.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Admin Login"}),z.jsxs("form",{onSubmit:g,className:"flex flex-col w-64",children:[z.jsx("input",{type:"text",placeholder:"Username",value:r,onChange:p=>e(p.target.value),className:"border p-2 mb-2 rounded"}),z.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:p=>s(p.target.value),className:"border p-2 mb-2 rounded"}),z.jsx("button",{type:"submit",className:"bg-blue-600 text-white p-2 rounded",children:"Login"}),o&&z.jsx("p",{className:"text-red-500 mt-2",children:o})]})]})}function R4(){return z.jsx(Zb,{children:z.jsxs(Db,{children:[z.jsx(nc,{path:"/review/:staffId",element:z.jsx(l4,{})}),z.jsx(nc,{path:"/login",element:z.jsx(S4,{})}),z.jsx(nc,{path:"/admin",element:z.jsx(A4,{children:z.jsx(b4,{})})})]})})}PT.createRoot(document.getElementById("root")).render(z.jsx(Y.StrictMode,{children:z.jsx(R4,{})}));
